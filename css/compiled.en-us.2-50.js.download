// Copyright 2006 The Closure Library Authors. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS-IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
(function(wnd) {var f,aa=aa||{},ba=this;function l(a){return void 0!==a}function ca(){}function da(a){a.j=function(){return a.Wd?a.Wd:a.Wd=new a}}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function fa(a){return null===a}function ga(a){return null!=a}function ha(a){return"array"==ea(a)}function ia(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ja(a){return"string"==typeof a}function ka(a){return"boolean"==typeof a}function la(a){return"number"==typeof a}function ma(a){return"function"==ea(a)}function na(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}
function oa(a){return a[pa]||(a[pa]=++qa)}var pa="closure_uid_"+(1E9*Math.random()>>>0),qa=0;function ra(a,b,c){return a.call.apply(a.bind,arguments)}function sa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function m(a,b,c){m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa;return m.apply(null,arguments)}function ta(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function ua(a,b){for(var c in b)a[c]=b[c]}var va=Date.now||function(){return+new Date};
function wa(a,b){var c=a.split("."),d=ba;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&l(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}function n(a,b){function c(){}c.prototype=b.prototype;a.l=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.On=function(a,c,g){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};var xa={DataObjectFactory:{gui_pages:"wnd.data.DbDataObject",gui_page_templates:"wnd.data.DbDataObject",filesystem_files:"wnd.data.DbDataObject",filesystem_dir:"wnd.data.DbDataObject",my_videos:"wnd.data.DbDataObject",listing_items:"wnd.data.DbDataObject",server_projects:"wnd.data.ServerProjectDbDataObject",fe_users:"wnd.data.DbDataObject",fe_groups:"wnd.data.DbDataObject"},DataCollectionFactory:{fe_languages:"wnd.data.DbDataCollection",admin_languages:"wnd.data.DbDataCollection",gui_pages:"wnd.data.DbDataCollection",
filesystem_files:"wnd.data.DbDataCollection",my_videos:"wnd.data.DbDataCollection",listing_items:"wnd.data.DbDataCollection",static_server:"wnd.data.StaticServerDataCollection",tpl_page_templates:"wnd.data.DbDataCollection",page_and_template_styles:"wnd.data.PageAndTemplateStylesCollection",tpl_color_sets:"wnd.data.PrecachedDataCollection",tpl_forms:"wnd.data.DbDataCollection",tpl_form_fields:"wnd.data.DbDataCollection",server_projects:"wnd.data.DbDataCollection",fe_users:"wnd.data.DbDataCollection",
fe_groups:"wnd.data.DbDataCollection"},UndoRedoManager:{fade:{start:.25,end:1,time:1E3}},PremiumContentChecker:{content_items:{backgroundVideo:{path:"style/backgroundSettings/*/*/mediaType",value:["videos","myVideos"],packageLevel:2,exceptionCode:2003}},styles:{backgroundVideo:{path:"backgroundSettings/*/mediaType",value:["videos","myVideos"],packageLevel:2,exceptionCode:2003}}}};var ya={Server:{xhrUri:"/servers/usot/",transactionsInProcess:{"default":1,fileUpload:5},maxWaitingTransactions:8,maxReSendTransactionsCount:3,reSendTransactionTimeout:1E3},errorCode:{notEnoughStorage:10202},DbObjectServerRequest:{type:"DbDataRequest"},FileUploadServerRequest:{type:"fileUpload"},FeLangDataRequest:{type:"feLangData"},VideoDataRequest:{type:"DbDataRequest"},StaticServerCollectionServerRequest:{type:"staticServer"},CloneFileServerRequest:{type:"cloneFile"},PublishWebServerRequest:{type:"publishWeb"},
PremiumContentCheckServerRequest:{type:"premiumContentCheck"},ProjectInfoServerRequest:{type:"projectInfo"},DbCollectionServerRequest:{type:"DbCollectionRequest"},UniversalServerTransaction:{type:"universal"},UpdateJsDataServerRequest:{type:"updateJsData"},JSONServerRequest:{type:"JSONServer"},ContentItemServerRequest:{type:"ContentItemServer"},LoginRefreshRequest:{type:"LoginRefresh"},PrecachedCollectionRequest:{type:"PrecachedCollectionRequest"},LoginRefresh:{usotRefreshTime:3E5,authRefreshTime:3E5},
ServerProjectServerRequest:{type:"ServerProjectDbDataRequest"}};var q={ImageSizeManager:{mvcID:"ImageSizeManager",DataType:"image_content_items",backgroundClass:"wnd-background-image",allowTypes:"wnd.pc.ImageBlock wnd.pc.PhotoGalleryBlock wnd.pc.PhotoImageBlock wnd.pc.LogoBlock wnd.pc.Section wnd.pc.HeaderSection wnd.pc.FooterSection".split(" "),replaceTimeout:150},ImageTools:{identifier:"imageTools",orientationRatio:1},VideoLoaderManager:{mvcID:"VideoLoaderManager",className:"wnd-video-background",orientationClassName:{landscape:"orientation-landscape",portrait:"orientation-portrait"},
videoApi:{youtube:"https://www.youtube.com/iframe_api",vimeo:"https://f.vimeocdn.com/js/froogaloop2.min.js"}},UploadManager:{supportedImagesMime:["image/png","image/jpeg","image/gif"],supportedFaviconMime:["image/x-icon"],supportedExifMime:["image/jpeg"],maxResizeImageDimension:1920,maxCanvasResolution:{low:4E3,normal:8E3,high:32E3},processImagesCount:1,imageOrientation:[1,2,3,4,5,6,7,8],imageTransformation:{1:{degree:0,flip:!1,ratio:!1},2:{degree:0,flip:!0,ratio:!1},3:{degree:180,flip:!0,ratio:!1},
4:{degree:180,flip:!1,ratio:!1},5:{degree:90,flip:!0,ratio:!0},6:{degree:90,flip:!1,ratio:!0},7:{degree:-90,flip:!0,ratio:!0},8:{degree:-90,flip:!1,ratio:!0}}},FilesystemPreviewSize:{detail:700,normal:450,small:200}};var za=function(){function a(a,b,c){return Math.max(a,Math.min(b,c))}function b(a){return{_:a,am:function(a){B=this._.Gj;this._.am(a)},destroy:function(){B=this._.Gj;this._.destroy()}}}function c(a){return b(zc.fromElement(a))}function d(a,b){var c=B.UNSIGNED_BYTE;if(B.getExtension("OES_texture_float")&&B.getExtension("OES_texture_float_linear")){var d=new zc(100,100,B.RGBA,B.FLOAT);try{d.Gh(function(){c=B.FLOAT})}catch(e){}d.destroy()}this._.gd&&this._.gd.destroy();this._.gi&&this._.gi.destroy();
this.width=a;this.height=b;this._.gd=new zc(a,b,B.RGBA,c);this._.gi=new zc(a,b,B.RGBA,c);this._.ct=this._.ct||new zc(0,0,B.RGBA,c);this._.vl=this._.vl||new Lh(null,"\r\n        uniform sampler2D texture;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            gl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));\r\n        }\r\n    ");this._.Qj=!0}function e(a,b,c){this._.Qj&&a._.width==this.width&&a._.height==this.height||d.call(this,b?b:a._.width,c?c:a._.height);
a._.use();this._.gd.Gh(function(){Lh.Fo().fj()});return this}function g(){this._.gd.use();this._.vl.fj();return this}function h(a,b,c,d){(c||this._.gd).use();this._.gi.Gh(function(){a.oy(b).fj()});this._.gi.dy(d||this._.gd)}function k(a){a.parentNode.insertBefore(this,a);a.parentNode.removeChild(a);return this}function p(){var a=new zc(this._.gd.width,this._.gd.height,B.RGBA,B.UNSIGNED_BYTE);this._.gd.use();a.Gh(function(){Lh.Fo().fj()});return b(a)}function w(){var a=this._.gd.width,b=this._.gd.height,
c=new Uint8Array(a*b*4);this._.gd.Gh(function(){B.readPixels(0,0,a,b,B.RGBA,B.UNSIGNED_BYTE,c)});return c}function v(a){return function(){B=this._.Gj;return a.apply(this,arguments)}}function C(a){var b=a.length;this.c=[];this.g=[];this.A=[];this.h=[];a.sort(function(a,b){return a[0]-b[0]});for(var c=0;c<b;c++)this.c.push(a[c][0]),this.g.push(a[c][1]);this.A[0]=0;this.h[0]=0;for(c=1;c<b-1;++c){a=this.c[c+1]-this.c[c-1];var d=(this.c[c]-this.c[c-1])/a,e=d*this.h[c-1]+2;this.h[c]=(d-1)/e;this.A[c]=(6*
((this.g[c+1]-this.g[c])/(this.c[c+1]-this.c[c])-(this.g[c]-this.g[c-1])/(this.c[c]-this.c[c-1]))/a-d*this.A[c-1])/e}this.h[b-1]=0;for(c=b-2;0<=c;--c)this.h[c]=this.h[c]*this.h[c+1]+this.A[c]}function G(a){B.mi=B.mi||new Lh(null,"\r\n        uniform sampler2D texture;\r\n        uniform vec2 delta;\r\n        varying vec2 texCoord;\r\n        "+aP+"\r\n        void main() {\r\n            vec4 color = vec4(0.0);\r\n            float total = 0.0;\r\n            \r\n            /* randomize the lookup values to hide the fixed number of samples */\r\n            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\r\n            \r\n            for (float t = -30.0; t <= 30.0; t++) {\r\n                float percent = (t + offset - 0.5) / 30.0;\r\n                float weight = 1.0 - abs(percent);\r\n                vec4 sample = texture2D(texture, texCoord + delta * percent);\r\n                \r\n                /* switch to pre-multiplied alpha to correctly blur transparent images */\r\n                sample.rgb *= sample.a;\r\n                \r\n                color += sample * weight;\r\n                total += weight;\r\n            }\r\n            \r\n            gl_FragColor = color / total;\r\n            \r\n            /* switch back from pre-multiplied alpha */\r\n            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\r\n        }\r\n    ");
h.call(this,B.mi,{delta:[a/this.width,0]});h.call(this,B.mi,{delta:[0,a/this.height]});return this}function J(b){B.oh=B.oh||new Lh(null,"\r\n        uniform sampler2D texture;\r\n        uniform float amount;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            vec4 color = texture2D(texture, texCoord);\r\n            float r = color.r;\r\n            float g = color.g;\r\n            float b = color.b;\r\n            \r\n            color.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));\r\n            color.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));\r\n            color.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));\r\n            \r\n            gl_FragColor = color;\r\n        }\r\n    ");
h.call(this,B.oh,{amount:a(0,b,1)});return this}function V(b,c){B.Oj=B.Oj||new Lh(null,"\r\n        uniform sampler2D texture;\r\n        uniform float hue;\r\n        uniform float saturation;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            vec4 color = texture2D(texture, texCoord);\r\n            \r\n            /* hue adjustment, wolfram alpha: RotationTransform[angle, {1, 1, 1}][{x, y, z}] */\r\n            float angle = hue * 3.14159265;\r\n            float s = sin(angle), c = cos(angle);\r\n            vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\r\n            float len = length(color.rgb);\r\n            color.rgb = vec3(\r\n                dot(color.rgb, weights.xyz),\r\n                dot(color.rgb, weights.zxy),\r\n                dot(color.rgb, weights.yzx)\r\n            );\r\n            \r\n            /* saturation adjustment */\r\n            float average = (color.r + color.g + color.b) / 3.0;\r\n            if (saturation > 0.0) {\r\n                color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));\r\n            } else {\r\n                color.rgb += (average - color.rgb) * (-saturation);\r\n            }\r\n            \r\n            gl_FragColor = color;\r\n        }\r\n    ");
h.call(this,B.Oj,{hue:a(-1,b,1),saturation:a(-1,c,1)});return this}function Va(b,c){B.Oi=B.Oi||new Lh(null,"\r\n        uniform sampler2D texture;\r\n        uniform float brightness;\r\n        uniform float contrast;\r\n        varying vec2 texCoord;\r\n        void main() {\r\n            vec4 color = texture2D(texture, texCoord);\r\n            color.rgb += brightness;\r\n            if (contrast > 0.0) {\r\n                color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;\r\n            } else {\r\n                color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;\r\n            }\r\n            gl_FragColor = color;\r\n        }\r\n    ");
h.call(this,B.Oi,{brightness:a(-1,b,1),contrast:a(-1,c,1)});return this}var Zb={};(function(){function a(b){if(!b.getExtension("OES_texture_float"))return!1;var c=b.createFramebuffer(),d=b.createTexture();b.bindTexture(b.TEXTURE_2D,d);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,
0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null);b.bindFramebuffer(b.FRAMEBUFFER,c);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0);c=b.createTexture();b.bindTexture(b.TEXTURE_2D,c);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,2,2,0,b.RGBA,b.FLOAT,
new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));var d=b.createProgram(),e=b.createShader(b.VERTEX_SHADER),g=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(e,"\r\n      attribute vec2 vertex;\r\n      void main() {\r\n        gl_Position = vec4(vertex, 0.0, 1.0);\r\n      }\r\n    ");b.shaderSource(g,"\r\n      uniform sampler2D texture;\r\n      void main() {\r\n        gl_FragColor = texture2D(texture, vec2(0.5));\r\n      }\r\n    ");b.compileShader(e);b.compileShader(g);b.attachShader(d,
e);b.attachShader(d,g);b.linkProgram(d);e=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,e);b.bufferData(b.ARRAY_BUFFER,new Float32Array([0,0]),b.STREAM_DRAW);b.enableVertexAttribArray(0);b.vertexAttribPointer(0,2,b.FLOAT,!1,0,0);e=new Uint8Array(4);b.useProgram(d);b.viewport(0,0,1,1);b.bindTexture(b.TEXTURE_2D,c);b.drawArrays(b.POINTS,0,1);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,e);return 127===e[0]||128===e[0]}function b(){}function c(a){"OES_texture_float_linear"===a?(void 0===this.$OES_texture_float_linear$&&
Object.defineProperty(this,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new b}),a=this.$OES_texture_float_linear$):a=h.call(this,a);return a}function d(){var a=k.call(this);-1===a.indexOf("OES_texture_float_linear")&&a.push("OES_texture_float_linear");return a}try{var e=document.createElement("canvas").getContext("experimental-webgl")}catch(g){}if(e&&-1===e.getSupportedExtensions().indexOf("OES_texture_float_linear")&&a(e)){var h=WebGLRenderingContext.prototype.getExtension,
k=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=c;WebGLRenderingContext.prototype.getSupportedExtensions=d}})();var zc=function(){function a(b,c,d,e){this.Gj=B;this.id=B.createTexture();this.width=b;this.height=c;this.format=d;this.type=e;B.bindTexture(B.TEXTURE_2D,this.id);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.LINEAR);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE);
B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE);b&&c&&B.texImage2D(B.TEXTURE_2D,0,this.format,b,c,0,this.format,this.type,null)}a.fromElement=function(b){var c=new a(0,0,B.RGBA,B.UNSIGNED_BYTE);c.am(b);return c};a.prototype.am=function(a){this.width=a.width||a.videoWidth;this.height=a.height||a.videoHeight;B.bindTexture(B.TEXTURE_2D,this.id);B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,a)};a.prototype.destroy=function(){B.deleteTexture(this.id);this.id=null};a.prototype.use=
function(a){B.activeTexture(B.TEXTURE0+(a||0));B.bindTexture(B.TEXTURE_2D,this.id)};a.prototype.Gh=function(a){B.wo=B.wo||B.createFramebuffer();B.bindFramebuffer(B.FRAMEBUFFER,B.wo);B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,this.id,0);if(B.checkFramebufferStatus(B.FRAMEBUFFER)!==B.FRAMEBUFFER_COMPLETE)throw Error("incomplete framebuffer");B.viewport(0,0,this.width,this.height);a();B.bindFramebuffer(B.FRAMEBUFFER,null)};a.prototype.dy=function(a){var b;b=a.id;a.id=this.id;
this.id=b;b=a.width;a.width=this.width;this.width=b;b=a.height;a.height=this.height;this.height=b;b=a.format;a.format=this.format;this.format=b};return a}(),B;Zb.canvas=function(){var a=document.createElement("canvas");try{B=a.getContext("experimental-webgl",{premultipliedAlpha:!1})}catch(b){B=null}if(!B)throw"This browser does not support WebGL";a._={Gj:B,Qj:!1,gd:null,gi:null,vl:null};a.gd=v(c);a.draw=v(e);a.update=v(g);a.replace=v(k);a.contents=v(p);a.c=v(w);a.Oi=v(Va);a.Oj=v(V);a.mi=v(G);a.oh=
v(J);return a};Zb.JC=function(b){b=new C(b);for(var c=[],d=0;256>d;d++)c.push(a(0,Math.floor(256*b.interpolate(d/255)),255));return c};C.prototype.interpolate=function(a){for(var b=0,c=this.g.length-1;1<c-b;){var d=c+b>>1;this.c[d]>a?c=d:b=d}var d=this.c[c]-this.c[b],e=(this.c[c]-a)/d;a=(a-this.c[b])/d;return e*this.g[b]+a*this.g[c]+((e*e*e-e)*this.h[b]+(a*a*a-a)*this.h[c])*d*d/6};var Lh=function(){function a(b,c){var d=B.createShader(b);B.shaderSource(d,c);B.compileShader(d);if(!B.getShaderParameter(d,
B.COMPILE_STATUS))throw"compile error: "+B.getShaderInfoLog(d);return d}function b(c,d){this.h=this.g=null;this.c=B.createProgram();d="precision highp float;"+(d||"\r\n    uniform sampler2D texture;\r\n    varying vec2 texCoord;\r\n    void main() {\r\n        gl_FragColor = texture2D(texture, texCoord);\r\n    }");B.attachShader(this.c,a(B.VERTEX_SHADER,c||"\r\n    attribute vec2 vertex;\r\n    attribute vec2 _texCoord;\r\n    varying vec2 texCoord;\r\n    void main() {\r\n        texCoord = _texCoord;\r\n        gl_Position = vec4(vertex * 2.0 - 1.0, 0.0, 1.0);\r\n    }"));
B.attachShader(this.c,a(B.FRAGMENT_SHADER,d));B.linkProgram(this.c);if(!B.getProgramParameter(this.c,B.LINK_STATUS))throw"link error: "+B.getProgramInfoLog(this.c);}b.prototype.destroy=function(){B.deleteProgram(this.c);this.c=null};b.prototype.oy=function(a){B.useProgram(this.c);for(var b in a)if(a.hasOwnProperty(b)){var c=B.getUniformLocation(this.c,b);if(null!==c){var d=a[b];if("[object Array]"==Object.prototype.toString.call(d))switch(d.length){case 1:B.uniform1fv(c,new Float32Array(d));break;
case 2:B.uniform2fv(c,new Float32Array(d));break;case 3:B.uniform3fv(c,new Float32Array(d));break;case 4:B.uniform4fv(c,new Float32Array(d));break;case 9:B.uniformMatrix3fv(c,!1,new Float32Array(d));break;case 16:B.uniformMatrix4fv(c,!1,new Float32Array(d));break;default:throw"dont't know how to load uniform \""+b+'" of length '+d.length;}else if("[object Number]"==Object.prototype.toString.call(d))B.uniform1f(c,d);else throw'attempted to set uniform "'+b+'" to invalid value '+(d||"undefined").toString();
}}return this};b.prototype.fj=function(){var a,b,c,d,e=B.getParameter(B.VIEWPORT);b=void 0!==b?(b-e[1])/e[3]:0;a=void 0!==a?(a-e[0])/e[2]:0;c=void 0!==c?(c-e[0])/e[2]:1;d=void 0!==d?(d-e[1])/e[3]:1;null==B.an&&(B.an=B.createBuffer());B.bindBuffer(B.ARRAY_BUFFER,B.an);B.bufferData(B.ARRAY_BUFFER,new Float32Array([a,b,a,d,c,b,c,d]),B.STATIC_DRAW);null==B.Um&&(B.Um=B.createBuffer(),B.bindBuffer(B.ARRAY_BUFFER,B.Um),B.bufferData(B.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),B.STATIC_DRAW));this.g||
(this.g=B.getAttribLocation(this.c,"vertex"),B.enableVertexAttribArray(this.g));this.h||(this.h=B.getAttribLocation(this.c,"_texCoord"),B.enableVertexAttribArray(this.h));B.useProgram(this.c);B.bindBuffer(B.ARRAY_BUFFER,B.an);B.vertexAttribPointer(this.g,2,B.FLOAT,!1,0,0);B.bindBuffer(B.ARRAY_BUFFER,B.Um);B.vertexAttribPointer(this.h,2,B.FLOAT,!1,0,0);B.drawArrays(B.TRIANGLE_STRIP,0,4)};b.Fo=function(){B.oo=B.oo||new b;return B.oo};return b}(),aP="\r\n    float random(vec3 scale, float seed) {\r\n        /* use the fragment position for a different seed per-pixel */\r\n        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\r\n    }\r\n";
return Zb}();wa("wnd.static.Glfx",za);var r={DragDrop:{scrollAmount:15,scrollSensitivity:100,draggableElRefObjectAttr:"wnd_ref_object",scrollOffset:30},DragDropPlaceholder:{siblingPlaceholderOpacity:.5,backgroundOpacity:.2},StripesDragDrop:{stripeSuffix:"Stripe"},DropStripe:{DDBoxHorizMaxInnerPos:.25,DefaultHorizOffset:0,DefaultVertOffset:0,VertStripeHorizOffset:10,HorizStripeVertOffset:10,ZIndex:65,DragAreaOffset:0,DDBoxInSameFlowLineOffset:2,stripeSize:2},EditableMediaListDropStripe:{DDBoxHorizMaxInnerPos:.5},FloatDropStripe:{defaultContentWidth:33},
Popup:{defaultProperties:{withOverlay:!0,destroyAfterClose:!1,centered:!0},overlayIdentifier:"wnd-popup-overlay",suppression:["wnd_toolbar","wnd_PageZone_1"],animationDuration:{resize:300},defaultZIndex:110,headerOffset:60},Bubble:{arrow:{spaceTop:8,spaceLeft:21,defaultLeft:15},offset:7,defaultZIndex:100},TreeMenu:{defaultCss:{base:"wnd-tree","menu-with-search":"wnd-with-search","search-form":"wnd-tree-search","search-inuse":"inuse","search-not-empty":"not-empty","found-items":"wnd-tree-found-items",
"tree-items":"wnd-tree-items",item:"wnd-tree-item","item-text":"wnd-tree-item-text","item-root":"item-root","item-sys":"wnd-item-sys","item-icons":"wnd-tree-item-icons","item-activated":"item-activated","item-draggable":"item-draggable","item-dragdrop-activated":"item-dragdrop-activated","item-descendants":"item-descendants","item-opened":"item-opened","item-drop-top":"wnd-tree-item-dd-top",group:"wnd-tree-group","item-id-prefix":"wnd_tree_item_","group-id-prefix":"wnd_tree_group_"},minCountForReduced:12,
minCountForSearch:12,clonedItemAttrIndex:"wnd_cloned_index"},TreeMenuDragDrop:{scrollAmount:8,scrollSensitivity:35},PopupContentContainer:{animateOverlayCss:"wnd-switch-group-overlay"},ListingPopup:{DataType:"content_items",dataSettings:{filter:[{prefix:"",key:"listing_items.listing_page_id",operator:"=",value:null,suffix:""}],orderBy:{key:"listing_items.item_order",order:"asc"}},mainContent:{height:"calc(100% - 56px)",width:"100%"}},ListMenu:{defaultCss:{base:"wnd-listing","menu-with-search":"wnd-with-search",
"search-form":"wnd-listing-search","search-inuse":"inuse","search-not-empty":"not-empty",menuItems:"wnd-listing-items",item:"wnd-listing-item","item-text":"wnd-listing-item-text","item-icons":"wnd-listing-item-icons","item-activated":"item-activated","item-draggable":"item-draggable","item-dragdrop-activated":"item-dragdrop-activated","item-drop-top":"wnd-listing-item-dd-top","item-drop-bottom":"wnd-listing-item-dd-bottom","item-id-prefix":"wnd_listing_item_","icon-without-dd":"wnd-icon-without-dd",
"icon-unpublished":"wnd-icon-unpublished","item-locked":"wnd-item-locked"},width:307,height:424,minCountForSearch:12},ListingItemEdit:{width:533,height:424},ValidatorFactory:{validateDate:"wnd.ui.DateValidator",validateEmail:"wnd.ui.EmailValidator",validateUrl:"wnd.ui.UrlValidator",validatePhone:"wnd.ui.PhoneValidator",validateLessThan:"wnd.ui.LessThanValidator",validateVideo:"wnd.ui.VideoValidator",validateHtml:"wnd.ui.HtmlValidator",validateIdentifier:"wnd.ui.IdentifierValidator",validateGoogleAnalytics:"wnd.ui.GoogleAnalyticsValidator"},
ValidatorRegex:{isLink:{onlyUrl:/^http|^ftp|^www\./,urlMailPhone:/^http|^ftp|^www\.|^mailto|\w+@|\w+\.[a-z]{2,}|^tel:\+?([0-9\-])+$/}},OverlayArea:{className:"wnd-overlay-area",defaultZIndex:100,HorizontalResizeClassName:"wnd-type-horizontal-resize",VerticalResizeClassName:"wnd-type-vertical-resize",PopupClassName:"wnd-type-popup",MoveClassName:"wnd-type-move",DisableContentClassName:"wnd-type-transparent"},MediaPopup:{mvcId:"wnd_media_popup",dimension:{withTypes:{width:925,height:560},withoutTypes:{width:860,
height:560}}},MediaHeader:{cssImage:"wnd-choose-image",cssFile:"wnd-choose-file"},MediaTypes:{css:{content:"wnd-media-types",active:"active-type"},width:205,height:"full"},MediaList:{height:445,imagePlaceholder:{src:"client/img/default/photo-placeholder.png",height:118,width:118},itemCssPrefix:"wnd-media-",animationScrollTime:500,itemsOnPage:15,collectionLimit:25,scrollDistance:200},MediaListFilesystem:{myImages:{collectionSettings:{filter:[{key:"filesystem_files.file_group",operator:"=",value:"image",
suffix:""}],orderBy:{key:"filesystem_files.item_order",order:"desc"}}},myFavicons:{collectionSettings:{filter:[{key:"filesystem_files.file_group",operator:"=",value:"favicon",suffix:""}],orderBy:{key:"filesystem_files.item_order",order:"desc"}}},myFiles:{collectionSettings:{filter:[{key:"filesystem_files.file_group",operator:"=",value:"file",suffix:""}],orderBy:{key:"filesystem_files.item_order",order:"desc"}}}},MediaListStaticServer:{publicImages:{dataType:"static_server",collectionSettings:{filter:[{key:"type",
operator:"=",value:"image"}]}},publicIcons:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"icon"}]}},patterns:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"pattern"}]}},videos:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"video"}]}},publicFavicons:{dataType:"static_server",collectionSettings:{filter:[{key:"type",operator:"=",value:"favicon"}]}}},MediaListSolidColors:{solidColors:{dataType:"tpl_color_sets"}},
MediaListVideos:{myVideos:{collectionSettings:{orderBy:{key:"my_videos.id",order:"desc"}}}},Autocomplete:{minTokenLength:1,selectHeight:300},StyleSwitcher:{fxDurationSlide:250,block:{height:34,width:34},maxItems:14,countItemsByType:{solidColorSchemes:5,solidColors:0,patterns:2,publicImages:5,videos:2}},DropdownSwitcher:{bottomOffset:10,itemsHeightLimit:55,arrowOffset:14},PositionManager:{verticalSegmentDimension:300},CropImagePopup:{mvcId:"wnd_CropImage_1",cookieId:"cropImageArchive",image:{prefix:"image-crop-",
minSize:200,padding:80},selection:{initSize:10,transparency:"rgba(0, 0, 0, 0.5)",gridParts:3},cube:{size:5,color:"#4592e2",colorHover:"#365f89"},line:{width:1,color:"#5b9fe5",colorDotted:"#12202d",dotted:[3,5]}},PremiumPopup:{premiumContent:{className:"wnd-premium-content"},removeWebnodeAds:{className:"wnd-remove-webnode-ads"},memberLogin:{className:"wnd-member-login"},notEnoughStorage:{className:"wnd-not-enough-storage"},multilanguage:{className:"wnd-multilanguage"},premiumUpload:{className:"wnd-premium-upload"},
premiumFormItemsLimit:{className:"wnd-premium-form-items-limit"},premiumFormUploadField:{className:"wnd-premium-form-upload-field"},searchIndex:{className:"wnd-premium-search-index"},premiumAnalytics:{className:"wnd-premium-analytics"},premiumFavicon:{className:"wnd-premium-favicon"},headerFooterCode:{className:"wnd-premium-header-footer"}},DefaultPopupProperties:{"wnd.ui.MediaPopup":{width:925,height:560},"wnd.ui.InfoBubble":{width:292},"wnd.ui.PrivateAccessActivationPopup":{width:670,height:390,
extendCssClass:"wnd-private-access"}},ImageTools:{Filters:{"fx-blur-light":{radius:5},"fx-blur-strong":{radius:10},"fx-grayscale":{amount:-1},"fx-grayscale-dark":{amount:-1,brightness:-.1,contrast:.4},"fx-sepia":{amount:1}}},Toolbox:{mvcId:"Toolbox",className:"wnd-toolbox",buttonClassName:"wnd-tbx-button",disabledButtonClassName:"wnd-tbx-disabled",zIndex:45,offset:2,topOffset:60,largeBoxDifference:5,arrowOffset:3,arrowCorrectPosition:5,rightSideOffset:65,leftSideOffset:5,expandedArea:{offset:10,minWidth:0,
maxWidth:120}},InfoBubble:{fadeInAndSlidePause:500,fadeInAndSlideStart:50,fadeInAnimation:1500,slideAnimation:2E3,contentClassName:"wnd-info-bubble-content"},BackgroundStyle:{effectsBrightness:{"fx-blur-light":{color:[0,0,0],alpha:.2},"fx-blur-strong":{color:[0,0,0],alpha:.5},"fx-blur-dark":{color:[0,0,0],alpha:.5},"fx-black-strong":{color:[0,0,0],alpha:.5},"fx-black-light":{color:[0,0,0],alpha:.2},"fx-grayscale-dark":{color:[0,0,0],alpha:.5},"fx-sepia-dark":{color:[0,0,0],alpha:.5}}},EditableMediaList:{scrollAmount:8,
scrollSensitivity:35},FeLanguages:{DataType:"fe_languages"},AdminLanguages:{DataType:"admin_languages"},UploadFilePopupContent:{width:"100%",height:"100%"},Publisher:{delayPremiumContentPopup:1E3},FormItem:{tooltip:{offset:15},validationDelay:750},PrivateAccess:{activationForm:{width:"100%",height:304},MEMBER_LOGIN:{moreInfoLink:"https://www.webnode.cz/napoveda/index.php?/Knowledgebase/Article/View/3040/"}},LinkFormItem:{dataSettings:{orderBy:{key:"gui_pages.item_order",order:"asc"}}}};function Aa(a,b,c){this.key=a;this.text=b||""+a;this.data=c||{}}f=Aa.prototype;f.key="";f.text="";f.data=null;f.empty=!1;f.toString=function(){return this.text};function Ba(){this.c=[];this.h=[]}Ba.prototype.add=function(a){this.c.push(a)};function Ca(a,b,c){b=Da(a,b,c);c=b.length;for(var d=-1,e=-1E8,g=0;c--;)g=parseInt(a.c[b[c]].style.zIndex||0,10),g>e&&(e=g,d=b[c]);return a.c[d]}function Da(a,b,c){for(var d=a.h.length,e=[],g=0,h=0,k=0,k=h=0;d--;)g=a.h[d],k=g.offset.y,h=k+g.size.height,c>k&&c<h&&(k=g.offset.x,h=k+g.size.width,b>k&&b<h&&e.push(g.Zt));return e};var Ea={mvc:{DataType:"MVCModelData"},View:{contentElementTypeAttr:"wnd_mvc_type"},PageStyles:{dataType:"page_and_template_styles"},StaticContent:{staticImagePlaceholder:"47w60u",staticImagePlaceholderDetail:"0dms4l",staticImagePlaceholderDetailPath:"/0d/0dm/0dms4l.svg"},StaticServerCategory:{templates:"templates",logo:"logo",background:"background",layoutBackground:"layoutBackground",socialIcons:"socialIcons",content:"content",microtemplate:"microtemplate",sectionBackgroundPrefix:"sectionBackground_",
microtemplatePrefix:"microtemplate_",favicon:"favicon"},Error:{unknownJs:{whiteList:"webnode keen google typekit newrelic nr-data.net".split(" ")}}};var Fa=null;function Ga(a){return l(t.labels[a])?t.labels[a]:""};function Ha(a,b){this.h=a;this.c=b||"";this.g=Error(a).stack||""}Ha.prototype.getMsg=function(){return this.h};Ha.prototype.getId=function(){return this.c};Ha.prototype.toString=function(){return"wnd.core.Exception: "+this.h+(this.c?"("+this.c+")":"")};var Ia={zB:"add",QB:"remove",REPLACE:"replace"};
function Ja(a,b){u(b,function(b){for(var d=1,e=a,g=(b.path||"").split("/"),h=null;;){var k=g[d];if(null===h&&(!1===l(e[k])?h=g.slice(0,d).join("/"):d==g.length-1&&(h=b.path),null!=h)){var p=b,w=h;if(!1===na(p)||null===p||ha(p))throw new Ha("Operation is not an object");if(!1===Ka(Ia,p.op))throw new Ha("Operation `op` property is not one of patchs defined in RFC-6902");if(!1===ja(p.path))throw new Ha("Operation `path` property is not a string");if(("add"===p.op||"replace"===p.op)&&!1===l(p.value))throw new Ha("Operation `value` property is not present (applicable in `add` and `replace` patchs)");
if("add"==p.op){if(p=p.path.split("/").length,w=w.split("/").length,p!==w+1&&p!==w)throw new Ha("Cannot perform an `add` patch at the desired path");}else if(("remove"===p.op||"replace"===p.op)&&p.path!==w)throw new Ha("Cannot perform the patch at a path that does not exist");}d++;if(d>=g.length){ha(e)?k="-"===k?e.length:parseInt(k,10):k&&-1!=k.indexOf("~")&&(k=k.replace(/~1/g,"/").replace(/~0/g,"~"));switch(b.op){case "add":ha(e)?e.splice(k,0,b.value):e[k]=b.value;break;case "remove":ha(e)?e.splice(k,
1):delete e[k];break;case "replace":e[k]=b.value}break}e=e[k]}})}function La(a,b,c,d){for(var e,g=Ma(b),h=Ma(a),k=!1,p=h.length-1;0<=p;p--){e=h[p];var w=a[e];if(b.hasOwnProperty(e)){var v=b[e];na(w)&&na(v)?La(w,v,c,d+"/"+Na(e)):w!=v&&c.push({op:"replace",path:d+"/"+Na(e),value:v})}else c.push({op:"remove",path:d+"/"+Na(e)}),k=!0}if(k||g.length!=h.length)for(h=0;h<g.length;h++)e=g[h],a.hasOwnProperty(e)||c.push({op:"add",path:d+"/"+Na(e),value:b[e]})}
function Na(a){return-1===a.indexOf("/")&&-1===a.indexOf("~")?a:a.replace(/~/g,"~0").replace(/\//g,"~1")};function Oa(a,b){Ha.call(this,a);b||(b={error:{message:a,filename:"",lineno:"",stack:this.g}});this.log(b)}n(Oa,Ha);Oa.prototype.log=function(a){if(t.isCms){var b;b=document.getElementsByTagName("script");for(var c=Ea.Error.unknownJs.whiteList,d="",e="",g=0,h=b.length;g<h;g++)(d=b[g].getAttribute("src"))&&!Pa(c,d)&&(e+=d+"; ");(b=e)&&(a.error.unknownJs=b);Qa.mc("error",a)}};function Pa(a,b){return 0<a.filter(function(a){return-1!==b.indexOf(a)}).length}
window.addEventListener("error",function(a){var b="";l(a.message)&&(b=a.message);if(-1==b.indexOf("Script error")){var c="";l(a.filename)&&(c=a.filename);var d="";l(a.lineno)&&(d=a.lineno);new Oa(b,{error:{message:b,filename:c,lineno:d}})}},!1);var Ra={VB:"top",RB:"right",DB:"bottom",JB:"left"};var x={Debug:!1,DefaultEditZoneId:"wnd_EditZone_1",ContentItem:{fxDurationRemove:500},ContentItemModel:{DataType:"content_items"},ContentItemView:{redrawTimeout:100},PageZoneModel:{ZoneId:"wnd_PageZone_1",topOffset:50},ContentZoneColModel:{DataType:"content_items"},ContentBlock:{DataType:"content_items",separableParts:{tagNames:"h1 h2 h3 h4 h5 h6 p blockquote pre address ul ol dl form fieldset table hr article aside audio canvas figcaption figure footer header hgroup output section video".split(" "),
typeIsSeparable:"wnd_is_separable",typeSeparableIndex:"wnd_separable_index",typeSeparableId:"wnd_separable_id"},dropdownHeight:{changeStyle:275,listingVariants:275}},ResizableBlock:{minHeight:10,maxHeight:50,minWidth:200,maxWidth:70},EditZoneController:{textContentMaxLength:1E3},InsertFormFieldPopup:{mvcId:"wnd_insert_form_field",formFields:{"wnd.pc.ShortTextField":{cssType:"short-text-field"},"wnd.pc.LongTextField":{cssType:"long-text-field"},"wnd.pc.RadioGroupField":{cssType:"radio-group-field"},
"wnd.pc.CheckboxGroupField":{cssType:"checkbox-group-field"},"wnd.pc.SelectboxField":{cssType:"selectbox-field"},"wnd.pc.EmailField":{cssType:"email-field"},"wnd.pc.FileUploadField":{cssType:"file-upload-field"},"wnd.pc.DateField":{cssType:"date-field"},"wnd.pc.PhoneField":{cssType:"phone-field"},"wnd.pc.NumberField":{cssType:"number-field"}}},InsertContentPopup:{mvcId:"wnd_insert_content",arrowHeight:10,arrowOffset:56,itemsPerGroup:8,showAnimationTime:500,hideAnimationTime:400,blocks:{"wnd.pc.TextBlock":{cssType:"wysiwyg"},
"wnd.pc.ImageBlock":{cssType:"image"},"wnd.pc.PhotoGalleryBlock":{cssType:"photogallery"},"wnd.pc.VideoBlock":{cssType:"video"},"wnd.pc.HrLineBlock":{cssType:"hrline"},"wnd.pc.MapBlock":{cssType:"maps"},"wnd.pc.ButtonBlock":{cssType:"button"},"dfc.form.contact":{cssType:"contact-form",contentBlockType:"wnd.pc.FormBlock",contentIdentifier:"dfc.form.contact"},"dfc.form.blank":{cssType:"blank-form",contentBlockType:"wnd.pc.FormBlock",contentIdentifier:"dfc.form.blank"},"wnd.pc.HtmlBlock":{cssType:"html"},
"wnd.pc.FileBlock":{cssType:"file"},"wnd.pc.BlogRecentPosts":{cssType:"recent-posts"}}},ContentResizeStripe:{width:20,suffixId:"_contentResizeStripe",className:"wnd-resize-stripe",borderClassName:"wnd-resize-stripe-border",minWidth:5,minDifference:1,zIndex:35,fadeInTime:150,fadeOutTime:300},HoverManager:{type:{PageBaseHover:{dragDrop:"wnd.pc.PageZoneDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},PageEditHover:{dragDrop:"wnd.pc.PageZoneDragDrop","class":"wnd.pc.EditHover",properties:{toolbox:{arrow:!0}}},
ListingItemHover:{dragDrop:"wnd.pc.PageZoneDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},ButtonHover:{"class":"wnd.pc.ButtonHover",properties:{toolbox:{arrow:!0,overContainer:!0}}},MicroTemplateCellBaseHover:{dragDrop:"wnd.pc.ContainerDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},FormFieldBaseHover:{dragDrop:"wnd.pc.ContainerDragDrop","class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}},FormSubmitBaseHover:{"class":"wnd.pc.BaseHover",properties:{toolbox:{arrow:!0}}}},
instNum:2},Hover:{width:20,maxSize:20,className:"wnd-base wnd-block-hover",classNameRemove:"remove",activeZIndex:{top:34,bottom:34,left:34,right:34},zIndexOffset:2},ImageBlock:{minWidth:100,defaultPaddingBottom:72.48,directoryId:"50000001",sliderOffset:30,rangeAreaOffset:3,rangeAreaZindex:37,snapOffset:5},PhotoGalleryBlock:{limit:{min:1,max:20},dimension:{withImages:{width:740,height:450},withoutImages:{width:470,height:200}}},FileBlock:{directoryId:"50000000"},Section:{topOffset:30,animation:{start:0,
end:150,expandTime:400,collapseTime:100},renderAnimation:{start:0,expandTime:2E3},fadeOverlay:{className:"wnd-section-fade-overlay",duration:400,finalOpacity:.85}},PageWysiwyg:{editorSettings:{skin:"wnd",toolbar:{spacing:{}},pageOffset:{top:65},replaceHeadings:!0,externalLinkAsTargetBlank:!0},allowedFormats:"h1 h3 h2 h4 p blockquote".split(" "),replaceTags:{h1:"Heading1",h2:"Heading2",h3:"Heading3",h4:"Heading4",p:"Paragraph",blockquote:"Blockquote"}},WorkareaElementId:"wnd_workarea",DataObjectFactory:{content_items:"wnd.pc.ContentItemDataObject",
temp_content_items:"wnd.pc.ContentItemDataObject"},DataCollectionFactory:{content_items:"wnd.pc.ContentItemDataCollection",temp_content_items:"wnd.pc.ContentItemDataCollection"},EditImageFormModel:{DataType:"content_items"},EditLinkFormModel:{DataType:"content_items"},EditFieldSettingsForm:{DataType:"content_items"},EditFormActionForm:{DataType:"content_items",height:150},EditDefaultPageForm:{DataType:"content_items",height:80},EditSelectboxFieldOptionsFormModel:{DataType:"content_items"},EditEmailNotificationFormModel:{DataType:"content_items"},
BlogAdminPopup:{mvcId:"wnd_blog_admin",addButton:"blogAddArticle",DataType:"content_items",dataSettings:{filter:[{prefix:"",key:"listing_items.listing_page_id",operator:"=",value:null,suffix:""}]}},EditMapFormModel:{DataType:"content_items"},EditVideoFormModel:{DataType:"content_items"},VideoUrlParser:{youtube:{url:"//www.youtube.com/embed/",thumbnail:"http://img.youtube.com/vi/"},vimeo:{url:"//player.vimeo.com/video/",thumbnail:"http://vimeo.com/api/v2/video/"}},EditHtmlFormModel:{DataType:"content_items"},
AddContentManager:{priority:0,minDistance:10,defaultDistance:15,maxDistance:15,maxInnerDistance:35,zIndex:39,stripeOffset:20,horizontalBoxOffset:-35,fadeInTime:150,fadeOutTime:150,innerFadeInTime:150,innerFadeOutTime:150,maxAnimatedStripes:2,hoverOffset:15},AddSectionManager:{maxDistance:35,fadeInTime:150,fadeOutTime:450,fadeOutExp:7,innerFadeInTime:150,innerFadeOutTime:600},AddContentContainerManager:{priority:1,vertical:{minDistance:10,defaultDistance:14,maxDistance:30},horizontal:{minDistance:3,
defaultDistance:20,maxDistance:8},fadeInTime:125,fadeOutTime:150,innerFadeInTime:125,innerFadeOutTime:150},LayoutPopup:{mvcId:"wnd_change_layout",viewedImages:8},SystemFooterBlock:{DataType:"project_info",packages:{available:["mini","standard","professional"],canBeEdit:"professional"}},WelcomePopup:{mvcId:"wnd_welcome"},DefaultPopupProperties:{"wnd.pc.AddListingItemPopup":{width:470},"wnd.pc.EditImagePopup":{blockId:"=blockId",imageId:"=imageId",directoryId:"=dirId",width:550},"wnd.pc.EditSectionPopup":{sectionId:"=sectionId",
width:302},"wnd.pc.HtmlPopup":{blockId:"=blockId",width:470},"wnd.pc.BlogAdminPopup":{zoneId:"=zoneId",width:840,height:480},"wnd.pc.NewMapPopup":{blockId:"=blockId",width:470},"wnd.pc.MapPopup":{blockId:"=blockId",width:470},"wnd.pc.PhotoGalleryPopup":{blockId:"=blockId",isEmpty:!0,width:740,height:572},"wnd.pc.SelectMediaPopup":{directoryId:"=dirId",onClick:"confirm",multipleUpload:!1,width:470,height:322},"wnd.pc.NewVideoPopup":{blockId:"=blockId",width:470},"wnd.pc.NewButtonPopup":{blockId:"=blockId",
width:470},"wnd.pc.NewHtmlPopup":{blockId:"=blockId",width:470},"wnd.pc.WelcomePopup":{width:700},"wnd.pc.GalleryImageEdit":{width:370},"wnd.pc.LayoutPopup":{width:326},"wnd.pc.SocialIconsEditPopup":{blockId:"=blockId",width:525}},CreateSectionServerRequest:{type:"createSection"},CreateMicroTemplateCellServerRequest:{type:"createMicroTemplateCell"},CreateFormFieldServerRequest:{type:"createFormField"},CreateFormServerRequest:{type:"createForm"},CreateBlogRecentPostsServerRequest:{type:"createBlogRecentPosts",
variant:"basic"},ListingZoneUpdateRequest:{type:"listingZoneUpdate"},ReplaceImageWithPlaceholderServerRequest:{type:"replaceImageWithPlaceholder"},NewContentItemPopupsManager:{"wnd.pc.ImageBlock":{mvcType:"wnd.pc.SelectMediaPopup",properties:{directoryId:"50000001",fileGroup:"image"}},"wnd.pc.VideoBlock":{mvcType:"wnd.pc.NewVideoPopup"},"wnd.pc.MapBlock":{mvcType:"wnd.pc.NewMapPopup"},"wnd.pc.ButtonBlock":{mvcType:"wnd.pc.NewButtonPopup"},"wnd.pc.HtmlBlock":{mvcType:"wnd.pc.NewHtmlPopup"},"wnd.pc.FileBlock":{mvcType:"wnd.pc.SelectMediaPopup",
properties:{directoryId:"50000000",fileGroup:"file"}}},PhotoGalleryListContent:{fxDurationRemove:500,width:"100%"},AddContentItem:{startOpacity:0,endOpacity:1,fxDuration:1500},ModuleDataEventFilter:"content_items gui_pages filesystem_files my_videos fe_languages server_projects project_info listing_items".split(" "),ContainerDropStripe:{DDBoxHorizMaxInnerPos:.5},EditSection:{groups:{"default":"SectionEditDefault",sectionEffects:"SectionEditEffects",layoutEffects:"LayoutEditEffects"},heightCorrection:10},
InlineTextBlock:{fontSizePrefix:"wnd-font-size-",fontChangeStep:10,fontSizePercentageMinimal:10,fontSizePxMinimal:12,wrapLimits:[80,60,40],waitForResize:{time:50,count:10}},GalleryImageEditForm:{width:230},EditMapForm:{width:325},NewEditForm:{width:"100%",height:"115px"},WysiwygBlock:{topOffset:110,className:"wnd-touchwysiwyg",placeholder:{visibilityWidth:85}},ImageDetailPopupContent:{width:"140px",height:"200px"},SelectMediaContent:{width:"100%",height:200},SelectMediaFooter:{height:66},SocialIconsImage:{width:140,
height:200},SocialIconsEditForm:{width:365},WysiwygLinkForm:{width:"100%"},"wnd.pc.CheckboxGroupOptions":{optionMVCType:"wnd.pc.CheckboxGroupOption"},"wnd.pc.RadioGroupOptions":{optionMVCType:"wnd.pc.RadioGroupOption"},"wnd.pc.FromBlock":{placeholder:{height:100},toolbox:{expandedArea:{height:70}}},"wnd.pc.Field":{placeholder:{height:60}},"wnd.pc.GroupField":{paddingBottom:20},frontendElements:{"wnd.pc.FeFooter":"fe_footer"},NewListingItemForm:{width:"100%",height:100},ListingZone:{activeItem:{className:"wnd-active-listing-zone"},
disabled:{className:"wnd-disabled"},maxItemsOnPage:30},PerexBlock:{wordsLimit:60,minChars:30,charsLimit:350},LogoBlock:{styleClasses:{withText:"wnd-logo-with-text",vector:"wnd-image-vector","img-1-1":"wnd-iar-1-1","img-2-1":"wnd-iar-2-1","img-3-1":"wnd-iar-3-1","img-4-1":"wnd-iar-4-1","img-max":"wnd-iar-max"}}};function Sa(){this.h=null;this.D={};this.T=!1;this.P={};this.S=null;this.m=new Ta(this);this.g=new Ua(this);this.A=new Wa(this);this.c=new Xa(this);this.ia=new Ya(this);this.ha=new Za(this);this.M=new $a(this);this.F=new ab(this);this.U=new bb(this);this.R=new cb(this);this.message=new db(this);this.Te=new eb(this);this.ta=new fb(this);this.o=new gb(this);this.v=new hb(this);this.L=new ib(this);this.ub=new jb(this);this.I=this.G=0}var kb=[],lb=[],mb={};function nb(a){lb.push(a)}
function ob(a,b,c){a.h=a.add(b,c);var d=!1;"object"===typeof c&&"boolean"===typeof c.setCursor&&(d=c.setCursor);a.Wa(b,d)}f=Sa.prototype;
f.Wa=function(a,b){if(this.Ga(a))pb(this.L),this.notify("reActivate",null);else{var c=this.D;this.v.create();"object"==typeof c.editors&&"string"==typeof c.editors[c.type].className&&this.h.classList.add(c.editors[c.type].className);this.h.setAttribute("contenteditable",!0);this.h.setAttribute("spellcheck","false");this.h.setAttribute("autocapitalize","off");this.h.setAttribute("autocorrect","off");this.h.setAttribute("autocomplete","off");this.I=this.h.offsetHeight;this.G=this.h.offsetWidth;this.T=
!0;b?qb(this.c,c.cursorPosition):this.isEmpty()&&!c.disableFormatting&&(qb(this.c,"start"),rb(this.ia,sb)&&(tb(this.g)?ub(this,"<p><br></p>"):vb(this.ia,sb).Ba()));if(c.textContainerHTML){var d=this.m.createElement("div");d.innerHTML=c.textContainerHTML;this.S=d.firstElementChild}requestAnimationFrame(function(){if(this.h){wb(this.c);var a=xb(this.c);this.c.ed(null,a);this.F.add(this.h,"mousedown",this.c.oq.bind(this.c));this.F.add(document.body,"mouseup",this.c.oq.bind(this.c));this.isEmpty()&&!b&&
qb(this.c,"start")}}.bind(this));this.F.add(this.h,"keydown",this.$v.bind(this));this.F.add(this.h,"keypress",this.notify.bind(this));this.F.add(this.h,"keyup",this.aw.bind(this));this.F.add(this.h,"paste",this.U.F.bind(this.U));this.F.add(this.h,"focus",this.notify.bind(this));yb(this.g)&&this.F.add(this.h,"touchend",this.c.ed.bind(this.c));yb(this.g)||this.F.add(this.h,"scroll",this.Pz.bind(this),!1);this.ta.observe();this.Te.reset();zb(this.R);this.notify("init",null)}};
f.focus=function(a){null!=this.h&&!0!==tb(this.g)&&(this.h.focus(),"compact"===this.getType()&&"function"==typeof this.h.click&&this.h.click(),!0===a&&qb(this.c,"end",void 0),this.ub.hide())};f.blur=function(){null!=this.h&&(wb(this.c),this.ub.hide(),this.h.blur())};f.Pz=function(){rb(this.ia,Ab)&&vb(this.ia,Ab).eg();rb(this.ia,Bb)&&vb(this.ia,Bb).eg();Cb(this.o)};f.$v=function(a,b,c){Db(this.ia,c)};f.aw=function(a,b,c){this.c.ed(a,b);Db(this.ia,c)};
f.add=function(a,b){var c,d=b||{};"object"==typeof a&&1==a.nodeType?(c=a,0==c.id&&(c.id=Math.random().toString(36).substring(7))):"string"==typeof a&&(c=document.getElementById(a));if(!c)return null;if("object"==typeof d&&"string"==typeof d.skin){var e=this.ha,g=d.skin;if(!(e.c[g]instanceof Eb))throw Error('Skin "'+g+'" is not registered.');e.h=e.c[g]}if("undefined"===typeof this.ha)return null;d=Fb(this.A,d,this.ha.h.c);"object"!==typeof d.toolbars&&(d.toolbars={});d.toolbar=d.toolbar||{};"object"===
typeof d.toolbars[d.type]&&(d.toolbar=Fb(this.A,d.toolbars[d.type],d.toolbar));delete d.toolbars;"object"!==typeof d.button&&(d.button=d.buttons[d.type]);delete d.buttons;"object"!==typeof d.popups.modal&&(d.popups.modal=d.popups.modals[d.type]);delete d.popups.modals;"object"!==typeof d.popups.popOver&&(d.popups.popOver=d.popups.popOvers[d.type]);delete d.popups.popOvers;"object"===typeof d.customBlocks&&(d.toolbar.blocks=Fb(this.A,d.toolbar.blocks,d.customBlocks));"string"==typeof d.type&&"inline"==
d.type&&this.F.add(c,"click",this.Wa.bind(this));this.D=d;return c};f.resize=function(a,b){if(null!=this.h&&"inline"!=this.getType()){var c=!1;if("100%"==a||"auto"==a||"number"==typeof a||null!==a&&"px"==a.substr(-2))"number"==typeof a&&(a=a+"px"),this.h.style.width=a,c=!0;if("100%"==b||"auto"==b||"number"==typeof b||null!=b&&"px"==b.substr(-2))"number"==typeof b&&(b=b-Gb(this.v).height+"px"),this.h.style.height=b,c=!0;1==c&&(this.h.style.overflow="auto")}};
function Hb(a){return null!=a.h?a.h:null}f.Ga=function(a){if(null!=this.h&&"undefined"!=typeof a){var b=null;"string"==typeof a?b=document.getElementById(a):"object"==typeof a&&1==a.nodeType&&(b=a);if(b===this.h&&1==this.T)return!0}return!1};f.getType=function(){return"string"!==typeof this.D.type?null:this.D.type};function y(a,b){if("string"===typeof b){for(var c=b.split("."),d=a.D,e=0,g=c.length;e<g;e++){if("undefined"===typeof d[c[e]])return;d=d[c[e]]}return d}return a.D}
f.getData=function(){return null!=this.h?this.h.innerHTML:""};f.isEmpty=function(){var a=Ib(this.getData(),y(this,"emptinessTest.allowedTags"));return""==a.trim()||"&nbsp;"==a.trim()};function ub(a,b){null!=a.h&&(a.h.innerHTML=b)}
f.destroy=function(){if(null!=this.h){var a=this.D;"object"==typeof a.editors&&"string"==typeof a.editors[a.type].className&&this.h.classList.remove(a.editors[a.type].className);this.h.removeAttribute("contenteditable");this.h.removeAttribute("spellcheck");this.h.removeAttribute("autocapitalize");this.h.removeAttribute("autocorrect");this.h.removeAttribute("autocomplete");this.v.remove();Cb(this.o);this.c.reset();this.Te.reset();this.ub.hide();this.h=null;this.T=!1;this.P={};this.S=null;a=this.ta;
null!==a.h&&(a.h.disconnect(),a.h=null);this.F.removeAll();this.notify("destroy",null)}};function Jb(a,b,c){if(Array.isArray(b))for(var d=0,e=b.length;d<e;d++)Jb(a,b[d],c);else"string"!=typeof b||"function"!=typeof c||Array.isArray(a.P[b])&&-1<a.P[b].indexOf(c)||(Array.isArray(a.P[b])||(a.P[b]=[]),a.P[b].push(c))}f.notify=function(a,b){if("object"===typeof this.P[a])for(var c=0,d=this.P[a].length;c<d;c++)this.P[a][c].call(this,b)};
f.nk=function(a){!0===a?(this.v.create(),Kb(this.c),this.focus()):this.v.remove()};f.Wm=function(){return null!==this.v.c};f.Em=function(a){rb(this.ia,a)&&vb(this.ia,a).Ba()};function Lb(a){null===a.h||a.I===a.h.offsetHeight&&a.G===a.h.offsetWidth||(a.notify("resize",{height:a.h.offsetHeight,width:a.h.offsetWidth,diference:{height:a.h.offsetHeight-a.I,width:a.h.offsetWidth-a.G}}),a.I=a.h.offsetHeight,a.G=a.h.offsetWidth)}
function Mb(a,b){b.constructor==Function?(a.prototype=new b,a.prototype.constructor=a,a.prototype.parent=b.prototype):(a.prototype=b,a.prototype.constructor=a,a.prototype.parent=b)}function Nb(a){this.w=a}
var sb="Paragraph",Ab="Image",Bb="Link",Ob={phrasing:"a em strong small mark abbr dfn i b s u code var samp kbd sup sub q cite span bdo bdi br wbr ins del img embed object iframe map area canvas script noscript ruby video audio input textarea select button label output datalist keygen progress command time meter".split(" "),flow:"div p pre hr ul ol dl h1 h2 h3 h4 h5 h6 hgroup address blockquote section nav article aside header footer menu figure table form fieldset details".split(" "),metadata:"link style meta script noscript command".split(" ")},
Pb={a:{content:"transparent"},abbr:{content:"phrasing"},address:{content:"flow"},area:{content:"empty"},article:{content:"flow"},aside:{content:"flow"},audio:{content:"transparent"},b:{content:"phrasing"},base:{content:"empty"},bdi:{content:"phrasing"},bdo:{content:"phrasing"},blockquote:{content:"flow"},body:{content:"flow"},br:{content:"empty"},button:{content:"phrasing"},canvas:{content:"transparent"},caption:{content:"flow"},cite:{content:"phrasing"},code:{content:"phrasing"},col:{content:"empty"},
colgroup:{content:{elements:["col","span"]}},command:{content:"empty"},datalist:{content:"phrasing"},dd:{content:"flow"},del:{content:"transparent"},details:{content:"flow"},dfn:{content:"phrasing"},div:{content:"flow"},dl:{content:"flow"},dt:{content:"flow"},em:{content:"phrasing"},embed:{content:"empty"},fieldset:{content:"flow"},figcaption:{content:"flow"},figure:{content:"flow"},footer:{content:"flow"},form:{content:"flow"},h1:{content:"phrasing"},h2:{content:"phrasing"},h3:{content:"phrasing"},
h4:{content:"phrasing"},h5:{content:"phrasing"},h6:{content:"phrasing"},header:{content:"flow"},hgroup:{content:{elements:"h1 h2 h3 h4 h5 h6".split(" ")}},hr:{content:"empty"},i:{content:"phrasing"},img:{content:"empty"},input:{content:"empty"},ins:{content:"transparent"},kbd:{content:"phrasing"},keygen:{content:"empty"},label:{content:"phrasing"},legend:{content:"phrasing"},li:{content:"flow"},link:{content:"empty"},map:{content:"transparent"},mark:{content:"phrasing"},menu:{content:"flow"},meter:{content:"phrasing"},
nav:{content:"flow"},object:{content:"transparent"},ol:{content:{elements:["li"]}},optgroup:{content:{elements:["option"]}},option:{content:"text"},output:{content:"phrasing"},p:{content:"phrasing"},param:{content:"empty"},pre:{content:"phrasing"},progress:{content:"phrasing"},q:{content:"phrasing"},s:{content:"phrasing"},samp:{content:"phrasing"},script:{content:"non-replaceable"},section:{content:"flow"},select:{content:{elements:["optgroup","option"]}},small:{content:"phrasing"},source:{content:"empty"},
span:{content:"phrasing"},strong:{content:"phrasing"},style:{content:"non-replaceable"},sub:{content:"phrasing"},summary:{content:"phrasing"},sup:{content:"phrasing"},table:{content:{elements:"caption colgroup thead tbody tfoot tr".split(" ")}},tbody:{content:{elements:["tr"]}},td:{content:"flow"},textarea:{content:"replaceable"},tfoot:{content:{elements:["tr"]}},th:{content:"flow"},thead:{content:{elements:["tr"]}},time:{content:"phrasing"},title:{content:"replaceable"},tr:{content:{elements:["td",
"th"]}},track:{content:"empty"},u:{content:"phrasing"},ul:{content:{elements:["li"]}},"var":{content:"phrasing"},video:{content:"transparent"},wbr:{content:"empty"}};function Qb(a){Nb.apply(this,arguments)}Mb(Qb,Nb);function Ta(a){Nb.apply(this,arguments)}Mb(Ta,Nb);
Ta.prototype.getPosition=function(a,b){var c={top:0,left:0,width:0,height:0,bottom:0,right:0};if("object"!==typeof a)return c;for(var d=Hb(this.w),e=d.scrollTop||0,d=d.scrollLeft||0,g=a;"object"==typeof g&&null!==g;)if(c.top+=g.offsetTop||0,c.left+=g.offsetLeft||0,g=g.offsetParent){var h=this.getStyle(g,"position",!1);if(("relative"==h||"absolute"==h)&&!b)break}c.top-=Math.round(e);c.left-=Math.round(d);c.width=Math.round(a.offsetWidth);c.height=Math.round(a.offsetHeight);c.bottom=Math.round(c.top+
c.height);c.right=Math.round(c.left+c.width);return c};Ta.prototype.getStyle=function(a,b,c){var d=a.style[Rb(b)];if(!d||c)document.defaultView&&document.defaultView.getComputedStyle?d=(a=document.defaultView.getComputedStyle(a,null))?a.getPropertyValue(b):null:a.currentStyle&&(d=a.currentStyle[Rb(b)]);return"auto"==d?null:d};
Ta.prototype.createElement=function(a,b){var c=document.createElement(a);if(b)for(var d in b)if(b.hasOwnProperty(d))switch(d){case "id":case "className":c[d]=b[d];break;case "style":for(var e in b[d])b[d].hasOwnProperty(e)&&(c[d][e]=b[d][e]);break;default:c.setAttribute(d,b[d])}return c};function Sb(a,b){return a.nodeType===Node.ELEMENT_NODE&&a.nodeName.toLowerCase()===b}Ta.prototype.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)};
function Tb(a,b){var c=b.parentNode;null!==c&&(c.lastElementChild==b?c.appendChild(a):c.insertBefore(a,b.nextSibling))}function Ub(a,b){""===a.getAttribute(b)&&a.removeAttribute(b)}
function Ua(a){Nb.apply(this,arguments);this.h=navigator.userAgent;a.m.createElement("div");this.m=!1;this.g=/iPad/i.test(this.h)||/iPhone OS 3_1_2/i.test(this.h)||/iPhone OS 3_2_2/i.test(this.h);this.F=/Chrome/i.test(this.h);this.L=/MSIE/i.test(this.h);this.A=null;this.c=/Firefox/i.test(this.h);this.v=/Safari/i.test(this.h);this.o=/Edge\/[0-9]{2,}/i.test(this.h)}Mb(Ua,Nb);
function yb(a){if("undefined"==typeof a.m){var b=document.documentElement&&"ontouchstart"in document.documentElement;"undefined"==typeof b&&(b=!1);a.m=b}return a.m}function Vb(a){return a.F&&!a.o}
function tb(a){if(null===a.A){var b;b=a.h.match(/\((.*)\)/);if("undefined"==b[1])return!1;b=b[1].split("; ");for(var c={},d=0,e=b.length;d<e;d++)0===d?c.windows=b[d]:1===d?c.os=b[d]:2===d?c.engine=b[d]:e-1===d&&(c.version=b[d].split(":")[1]);if("string"!==typeof c.engine&&"string"!==typeof c.version)return!1;a.A=-1<c.engine.indexOf("Trident")&&11==c.version}return a.A}function Wb(a){return a.v&&!a.F}function Wa(a){Nb.apply(this,arguments);this.c=0}Mb(Wa,Nb);
function Xb(a,b,c,d){for(var e=[],g=0,h=c.length;g<h;g++){var k=a.w.m.createElement(c[g][0]),p=c[g][1],w="appendChild",v=null,C="module",G;for(G in p)switch(G){case "_insert":w=p[G];break;case "_content":-1<p[G].indexOf("locales#")?v=a.w.M.get(p[G].replace("locales#","")):v=p[G];break;case "_prefix":C=p[G];break;case "className":k.setAttribute("class",p[G]);break;default:k.setAttribute(G,p[G])}"undefined"!=typeof d&&"undefined"!=typeof d.ma&&(k.setAttribute("data-module",d.ma),k.setAttribute("unselectable",
"on"),k.classList.add(C+d.ma));"before"==w?b.parentNode.insertBefore(k,b):b.appendChild(k);null!=v&&(k.innerHTML=v);e.push(k);"undefined"!=typeof c[g][2]&&("object"===typeof d&&"string"===typeof d.ma&&delete d.ma,e=e.concat(Xb(a,k,c[g][2],d)))}return e}function Yb(a){return a[a.length-1]}
function Fb(a,b,c){b=$b(a,b);if(Array.isArray(b)&&Array.isArray(c)){a=0;for(var d=c.length;a<d;a++)b.push(c[a])}else if("object"==typeof b&&"object"==typeof c)for(d in c)d in b?b[d]="object"==typeof b[d]&&"object"==typeof c?Fb(a,b[d],c[d]):c[d]:b[d]=c[d];return b}function $b(a,b){if(!Array.isArray(b)&&"object"!==typeof b)return b;var c=Array.isArray(b)?[]:{},d;for(d in b)Array.isArray(c)?c.push($b(a,b[d])):b.hasOwnProperty(d)&&(c[d]=$b(a,b[d]));return c}
function Rb(a){var b=a.split("-");if(1==b.length)return b[0];a=0==a.indexOf("-")?b[0].charAt(0).toUpperCase()+b[0].substring(1):b[0];for(var c,d=1,e=b.length;d<e;d++)c=b[d],a+=c.charAt(0).toUpperCase()+c.substring(1);return a}function ac(a,b){for(var c=Hb(a.w),d=!1;b;)b==c&&(d=!0),b=b.parentNode;return d}function bc(a,b){var c;c=c?c:0;var d=a.bottom+c,e=a.left-c,g=a.right+c;return a.top-c<b.qg&&d>b.qg&&e<b.pg&&g>b.pg}
function Ib(a,b){b=b||[];return a.replace(/\x3c!--[\s\S]*?--\x3e/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,d){return-1<b.indexOf(d.toLowerCase())?a:""})}
function cc(a){if(0===a.c){var b=a.w.m.createElement("div");b.style.width="50px";b.style.height="50px";b.style.overflow="hidden";b.style.position="absolute";b.style.top="-200px";b.style.left="-200px";document.body.appendChild(b);var c=a.w.m.createElement("div");c.style.height="100px";c.style.width="100px";b.appendChild(c);var d=b.offsetWidth;b.style.overflowY="scroll";c.style.width="";c=c.offsetWidth;document.body.removeChild(b);a.c=d-c}return a.c}
function dc(a,b){if(0===b.indexOf("/")||0===b.indexOf("http"))return b;var c=null;if(0===b.indexOf("mailto"))c=b;else if(y(a.w,"regex.phoneRegex")&&b.match(y(a.w,"regex.phoneRegex")))c=b;else if(y(a.w,"regex.emailShortRegex")&&b.match(y(a.w,"regex.emailShortRegex")))c="mailto:"+b;else{var d=y(a.w,"regex.urlRegex").exec(b);null!==d&&"string"===typeof d[1]?c=b:0===b.indexOf("www.")&&(c="http://"+b)}return c}
function Xa(a){Nb.apply(this,arguments);this.h=this.c=null;this.m=!0;this.g="p h1 h2 h3 h4 blockquote".split(" ");this.F=[sb,"Heading1","Heading2","Heading3","Heading4","Blockquote","OrderedList","UnorderedList"];this.A=!1}Mb(Xa,Nb);f=Xa.prototype;f.getSelection=function(){var a=window.getSelection();"None"!=a.type&&(this.h=a);return this.h};
function ec(a){a=a.getSelection();if(!a||0===a.rangeCount)return null;var b=null;"function"==typeof a.createRange?b=a.createRange():"function"==typeof a.getRangeAt&&(b=a.getRangeAt(0));return b}
function fc(a){var b=a.c;if(null==b)return null;if("Range"==a.h.type&&"undefined"!=typeof a.h.focusNode&&"undefined"!=typeof a.h.focusNode.parentNode)return a.h.focusNode;if(b.startContainer){a=b.startContainer;if(1==b.cloneContents().childNodes.length)for(var c,d=0,e=a.childNodes.length;d<e;d++){c=a.childNodes[d].ownerDocument.createRange();try{c.selectNode(a.childNodes[d])}catch(g){return a.childNodes[d]}if(1!=b.compareBoundaryPoints(b.START_TO_START,c)&&-1!=b.compareBoundaryPoints(b.END_TO_END,
c))return a.childNodes[d]}return a}return"Control"==a.getSelection().type?b.item(0):b.parentElement()}function qb(a,b,c){var d=c?c:Hb(a.w);c=null;switch(b){case "start":c=document.createRange();c.setStart(d,0);break;case "end":c=document.createRange(),c.selectNodeContents(d),c.collapse(!1)}null!==c&&(b=window.getSelection(),b.removeAllRanges(),b.addRange(c),wb(a),a.w.focus())}
function gc(a){var b={};"undefined"!==typeof a.targetTouches&&a.targetTouches.length?(a=a.targetTouches[0],b.pg=a.clientX,b.qg=a.clientY):"undefined"!==typeof a.currentTarget&&a.currentTarget.length?(a=a.currentTarget[0],b.pg=a.clientX,b.qg=a.clientY):(b.pg=a.clientX,b.qg=a.clientY);a=document.body.scrollTop||document.documentElement.scrollTop;b.pg+=document.body.scrollLeft||document.documentElement.scrollLeft;b.qg+=a;return b}
function wb(a){if(!a.w.o.o){var b=ec(a);null!==b&&("object"===typeof b.startContainer.parentNode&&ac(a.w.A,b.startContainer.parentNode)?a.c=b:ac(a.w.A,b.startContainer)||Kb(a))}}function Kb(a,b,c){b&&(a.h=b);c&&(a.c=c);a.c&&(b=a.c,a=a.h,a.removeAllRanges(),a.addRange(b))}function xb(a){a=fc(a);return null===a?null:1===a.nodeType?a:a.parentNode}
f.ed=function(a,b){if(!0===this.w.g.g){if(!0===this.m)return requestAnimationFrame(function(){this.m=!1;wb(this);this.ed(a,b)}.bind(this)),!1;this.m=!0}if("undefined"==typeof b||null!=b&&"on"==b.getAttribute("data-temporary"))return!1;0==this.w.g.g&&wb(this);var c=xb(this);if(null===c)return!1;var d=[];null===b||"undefined"==typeof b.nodeName||"IMG"!=b.nodeName&&"A"!=c.nodeName||c==b||(c=b);for(var e=Hb(this.w),g=[];c&&c!=e;)1==c.nodeType&&(g.push(c.nodeName),d.push(c)),c=c.parentNode;return hc(this.w.ia,
g,d)};function ic(a,b){if(null!=b){var c=document.createRange();c.selectNodeContents(b);var d=window.getSelection();d.removeAllRanges();d.addRange(c);a.c=c;a.h=d}}f.createElement=function(a,b){var c=this.w.m.createElement(a,b);this.c.insertNode(c);this.w.focus();return c};
function jc(a,b){var c=!!a.h.isCollapsed,d=xb(a);if(tb(a.w.g)){var e=a.w.m.createElement("div"),g=document.createDocumentFragment(),h,k;for(e.innerHTML=b;h=e.firstChild;)k=g.appendChild(h);h=g.firstChild;e=!1;if(tb(a.w.g)&&Hb(a.w)!==d&&1==h.nodeType)if(""==Ib(d.innerHTML,["img","a"]))d.parentNode.insertBefore(g,d),d.parentNode.removeChild(d),e=!0;else{h=g.childNodes;for(var p=null,w=!1,v=0,C=h.length;v<C;v++)if(p=h[v].nodeName.toLowerCase(),-1!==a.g.indexOf(p)){w=!0;break}w&&(e=d.cloneNode(!1),h=
d.cloneNode(!1),p=a.c.cloneRange(),w=p.startContainer,v=p.endContainer,3==v.nodeType&&(v=v.splitText(p.endOffset)),3==w.nodeType&&(e.appendChild(w),h.appendChild(v),d.parentNode.insertBefore(e,d),d.parentNode.insertBefore(h,d),d.parentNode.removeChild(d)),h.parentNode.insertBefore(g,h),e=!0)}e||(c||document.execCommand("delete"),a.c.insertNode(g));k&&(c=a.c.cloneRange(),c.setStartAfter(k),c.collapse(!0),a.h.removeAllRanges(),a.h.addRange(c),wb(a))}else document.execCommand("InsertHtml",!1,b);tb(a.w.g)||
a.w.focus()}
function kc(a,b,c){if(!(-1<a.g.indexOf(b))){var d;"undefined"!==typeof c?d=c:d=xb(a);if(b===d.nodeName.toLowerCase()){b=d.parentNode;c=0;var e=document.createDocumentFragment(),g,h;if(0!==d.children.length)for(g=0,h=d.children.length;g<h;g++)e.appendChild(d.children[g]);else e.appendChild(a.c.extractContents());g=0;for(h=b.childNodes.length;g<h&&b.childNodes[g]!==d;g++)c++;b.removeChild(d);a.c.insertNode(e);ic(a,b.childNodes[c]);a.ed(null,1===b.childNodes[c].nodeType?b.childNodes[c]:b)}}}
function lc(a,b,c){b.style.fontSize="";b.style.marginLeft="";var d=["a","img"];!1===tb(a.w.g)&&d.push("br");c&&(d=d.concat(c));a=Ib(b.innerHTML,d);a!==b.innerHTML&&(b.innerHTML=a)}
f.Co=function(){var a,b=document.body.scrollLeft||document.documentElement.scrollLeft,c=document.body.scrollTop||document.documentElement.scrollTop;a=this.c?this.c:ec(this);var d=this.w.m.createElement("span");if(a.collapsed)a.insertNode(d),d.style.display="inline-block",d.innerHTML="|",a=d.getBoundingClientRect(),a.collapsed=!0,d.parentNode.removeChild(d);else{var e=a.cloneRange();e.collapse(!0);e.insertNode(d);var g=d.getBoundingClientRect();d.parentNode.removeChild(d);e.setStart(a.endContainer,
a.endOffset);e.setEnd(a.endContainer,a.endOffset);e.insertNode(d);a=d.getBoundingClientRect();d.parentNode.removeChild(d);g.top<a.top?(d=Hb(this.w).getBoundingClientRect(),e=e.commonAncestorContainer.getBoundingClientRect(),d=e.left>d.left?e.left:d.left,a={top:a.top,right:a.right,bottom:a.bottom,left:d,width:a.right-d,height:a.bottom-a.top}):a={top:g.top,right:a.right,bottom:a.bottom,left:g.left,width:a.right-g.left,height:a.bottom-g.top};a.collapsed=!1}return{top:Math.round(c+a.top),right:Math.round(b+
a.right),bottom:Math.round(c+a.bottom),left:Math.round(b+a.left),width:Math.round(a.width),height:Math.round(a.height),collapsed:a.collapsed}};f.reset=function(){null!==this.h&&(this.h.removeAllRanges(),this.h=null);this.c=null};
function mc(a){if(1!=a.w.g.L&&1!=tb(a.w.g)&&null!==a.c){var b=a.c.cloneRange(),c=b.startContainer,d=b.startOffset;if(!0===b.collapsed){var e=c.textContent,g=e.length;if(e[d-1]&&!e[d-1].match(/\s/g)&&e[d]&&!e[d].match(/\s/g)){for(var h=d;0<h&&e[h-1]&&!e[h-1].match(/\s/g);)h--;for(;d<g&&!e[d].match(/\s/g);)d++;h<d&&(b.setStart(c,h),b.setEnd(c,d),Kb(a,null,b))}}}}
f.oq=function(a,b,c){"mousedown"!=c.type&&"touchstart"!=c.type||!ac(this.w.A,b)?!this.A||"mouseup"!=c.type&&"touchend"!=c.type||(this.A=!1,this.ed(a,b)):(this.A=!0,this.ed(a,b))};function Ya(a){Nb.apply(this,arguments);this.v={};this.L=[];this.o={};this.g={};this.c=[];this.ta={};this.ub="p h1 h2 h3 h4 blockquote".split(" ");this.D="h1 h2 h3 h4 h5 h6".split(" ");this.F={};this.M={};this.m=[];this.h=null;this.P=!1;for(var b=0,c=lb.length;b<c;b++)this.add(lb[b])}Mb(Ya,Nb);
Ya.prototype.add=function(a){a=new a(this.w);this.v[a.ma]=a;this.L.push(a.ma);if("object"==typeof a.A)for(var b=a.ma,c=a.A,d=0,e=c.length;d<e;d++)this.o[c[d].toUpperCase()]=b,"undefined"==typeof this.g[b]&&(this.g[b]=[]),this.g[b].push(c[d].toLowerCase());"string"==typeof a.v&&(this.ta[a.ma]=a.v);"object"==typeof a.L&&(this.F[a.ma]=a.L)};function vb(a,b){return rb(a,b)?a.v[b]:null}function rb(a,b){return"object"==typeof a.v[b]}
Ya.prototype.A=function(a,b,c){var d=b.template;"object"==typeof b[c]&&(d=b[c]);var e=this.w.M.get("module"+c);y(this.w,"moduleLocales")&&y(this.w,"moduleLocales."+c)&&(e=y(this.w,"moduleLocales."+c));nc(this,c)?(d[0][1]._content=e,d[0][1].title=""):(d[0][1]._content="",b.useTitle&&(d[0][1].title=e));b.disabled&&"string"===typeof b.disabledClass&&(d[0][1].className+=" "+b.disabledClass,this.m.push(c));this.M[c]=e;return Xb(this.w.A,a,d,{ma:c})};
Ya.prototype.Ba=function(a,b,c){Kb(this.w.c);var d=this.w.c;if(-1!=d.F.indexOf(c)){var e=xb(d);if(e&&3!=e.parentNode.nodeType&&e!=Hb(d.w)&&(e=e.firstChild)){for(var g=ec(d),h=g.startContainer,k=g.endContainer,p=null,w=null,v=null,C=null;e.nextSibling;)if(C=e.nextSibling,3==e.nodeType&&3==C.nodeType){p=g.startOffset;w=g.endOffset;v=e.cloneNode(!1);v.textContent=e.textContent+C.textContent;e.parentNode.insertBefore(v,e);if(e==h||C==h)C==h&&(p+=e.length),g.setStart(v,p),h=v;if(e==k||C==k)C==k&&(w+=e.length),
g.setEnd(v,w),k=v;e.parentNode.removeChild(e);C.parentNode.removeChild(C);e=v}else e=e.nextSibling;Kb(d,null,g);wb(d);e=ec(d);g=e.startContainer;h=null;for(k=xb(d);g;)3==g.nodeType&&g.parentNode===k||g===k?(g.previousSibling&&(h=g.previousSibling),g=null):g=g.parentNode;if((g=h)&&"br"==g.nodeName.toLowerCase()){if(h=g.previousSibling){k=xb(d);p=k.cloneNode(!1);for(w=null;h;)w=h.previousSibling,p.hasChildNodes()?p.insertBefore(h,p.firstChild):p.appendChild(h),h=w;k.parentNode.insertBefore(p,k)}g.parentNode.removeChild(g)}e=
e.endContainer;g=null;for(h=xb(d);e;)3==e.nodeType&&e.parentNode===h||e===h?(e.nextSibling&&(g=e.nextSibling),e=null):e=e.parentNode;if((e=g)&&"br"==e.nodeName.toLowerCase()){if(g=e.nextSibling){d=xb(d);h=d.cloneNode(!1);for(k=null;g;)k=g.nextSibling,h.appendChild(g),g=k;Tb(h,d)}e.parentNode.removeChild(e)}}}1==tb(this.w.g)&&-1<this.ub.indexOf(b)&&(b="<"+b+">");try{document.execCommand(a,!1,b)}catch(G){d=this.w.c;if(!d.c.collapsed&&(e=d.c.commonAncestorContainer,Node.ELEMENT_NODE!==e.nodeType&&(e=
e.parentElement),!ac(d.w.A,e))){for(e=Hb(d.w);null!==e.firstChild;)e=e.firstChild;for(g=Hb(d.w);null!==g.lastChild;)g=g.lastChild;h=g.length;d.w.g.c&&(g.textContent=g.textContent.replace(/[\s\xa0]+$/,"")+" ",h=g.length-1);k=ec(d).cloneRange();k.setStart(e,0);k.setEnd(g,h);Kb(d,null,k)}document.execCommand(a,!1,b)}wb(this.w.c);a:{d=xb(this.w.c);if("undefined"!==typeof this.g[c]&&-1===this.g[c].indexOf(d)){if(-1<this.g[c].indexOf(d.nodeName.toLowerCase())){b=d;break a}e=null;g=d.childNodes;h=0;for(k=
g.length;h<k;h++)if((p=g[h])&&p.nodeName&&-1<this.g[c].indexOf(p.nodeName.toLowerCase())&&("IMG"!=p.nodeName||b===p.src)){e=p;break}null!==e?d=e:-1<this.g[c].indexOf(d.parentNode.nodeName.toLowerCase())&&(d=d.parentNode)}b=d}Hb(this.w)===b&&this.w.c.ed(null,b);d=-1<this.c.indexOf(c);0==d?oc(this,c,b,!0):1==d&&"formatBlock"!=a&&pc(this,c);this.w.focus();null!==vb(this,c)&&"string"===typeof vb(this,c).Hg&&qc(this.w.L,vb(this,c).Hg,c);pb(this.w.L);return b};
function hc(a,b,c){var d,e=null,g=a.c,h=[];a.c=[];for(var k=0,p=b.length;k<p;k++)if("string"==typeof a.o[b[k]]&&(d=a.o[b[k]],"string"===typeof vb(a,d).Hg&&nc(a,d)&&h.push(vb(a,d).Hg),oc(a,d,c[k],!1)),null===e){var w=a;d=c[k];e=d.getAttribute("align")?d.getAttribute("align"):document.defaultView.getComputedStyle(d,null).textAlign;"start"==e&&(e="left");if(!0===y(w.w,"useCssTextAlign")&&y(w.w,"alignCssClass")){var w=y(w.w,"alignCssClass"),v=void 0;for(v in w)if(w.hasOwnProperty(v)&&d.classList.contains(w[v])){e=
v;break}}e=Rb("Align-"+e);rb(a,e)&&-1==a.c.indexOf(e)&&oc(a,e,c[k],!1)}k=null;b=0;for(c=g.length;b<c;b++)-1==a.c.indexOf(g[b])&&(k=vb(a,g[b]),null!==k&&"string"===typeof k.Hg&&nc(a,g[b])&&(k=vb(a,g[b]).Hg,-1==h.indexOf(k)&&rc(a.w.L,k)),pc(a,g[b]));a.w.focus();return!1}
function oc(a,b,c,d){d=d||!1;var e=a.w.v.le(b);null!==e&&e.classList.add(y(a.w,"button.activeClass"));-1==a.c.indexOf(b)&&a.c.push(b);!0===sc(a.w.L,b)&&(e=a.w.L,!1!==sc(e,b)&&qc(e,e.g[b],b));e=vb(a,b);0==d&&null!==e&&"function"==typeof e.dh&&"object"===typeof c&&setTimeout(e.dh.bind(e,c),50);if("object"==typeof a.F[b])for(c=0,d=a.F[b].length;c<d;c++)rb(a,a.F[b][c])&&pc(a,a.F[b][c])}
function pc(a,b){var c=a.w.v.le(b);null!=c&&(c.classList.remove(y(a.w,"button.activeClass")),c=a.c.indexOf(b),-1<c&&a.c.splice(c,1),c=vb(a,b),null!==c&&"function"==typeof c.dh&&c.eg())}
function Db(a,b){if("keydown"===b.type){var c=!1;if(!tc(a,b)){if(0==tb(a.w.g)&&(32===b.keyCode||13===b.keyCode)){var d=b.keyCode;if(!y(a.w,"disableFormatting")){var e=window.getSelection(),g=e.getRangeAt(0).cloneRange();if(13===d)if(a.w.g.c)for(var d=g.commonAncestorContainer.childNodes,h=d.length-1;0<=h;h--){if(3==d[h].nodeType){g.selectNodeContents(d[h]);break}}else g.commonAncestorContainer.previousElementSibling&&(d=g.commonAncestorContainer.previousElementSibling.childNodes,0<d.length&&g.selectNodeContents(d[d.length-
1]));h=g.endOffset;if(0<h&&g.endContainer.data){var k=g.endContainer.data.substring(0,h).lastIndexOf(" ")+1,d=g.endContainer.data.substring(k,h);"string"==typeof d&&d.match(y(a.w,"regex.urlRegex"))&&(d=dc(a.w.A,d.trim()),"string"==typeof d&&(g.setStart(g.endContainer,k),g.setEnd(g.endContainer,h),e.removeAllRanges(),e.addRange(g),document.execCommand("createLink",!1,d),e=ec(a.w.c),y(a.w,"externalLinkAsTargetBlank")&&(g=e.startContainer.parentNode,-1===d.indexOf(window.location.hostname)&&g&&"A"==
g.nodeName&&g.setAttribute("target","_blank")),a.w.g.c&&(e.setStartAfter(e.startContainer.parentNode),wb(a.w.c)),Kb(a.w.c)))}}}9===b.keyCode&&(c=!0);a.w.g.c&&b.ctrlKey&&(66==b.keyCode||73==b.keyCode||85==b.keyCode)&&(c=!0);b.ctrlKey&&90==b.keyCode&&(b.shiftKey&&rb(a,"Redo")&&vb(a,"Redo").Ba(),vb(a,"Undo").Ba(),c=!0);if(-1===[37,38,39,40].indexOf(b.keyCode)&&null!==ec(a.w.c)&&(e=ec(a.w.c).cloneRange())&&!1===e.collapsed&&0==e.startOffset&&0==e.endOffset&&(g=e.startContainer,1!==g.nodeType&&g.parentNode!==
Hb(a.w)&&(g=g.parentNode),d=e.endContainer,1!==d.nodeType&&d.parentNode!==Hb(a.w)&&(d=d.parentNode),g.nextElementSibling===d)){for(g=d.previousElementSibling;g.lastChild;)g=g.lastChild;e.setEnd(g,g.length);Kb(a.w.c,null,e);wb(a.w.c)}c&&uc(b)}}else if("keyup"===b.type)a:if(c=xb(a.w.c),ac(a.w.A,c)&&(tb(a.w.g)&&c&&Sb(c,"font")&&c.hasAttribute("face")&&-1<c.getAttribute("face").indexOf("Thread")&&(c.outerHTML=c.innerHTML),null===a.h&&a.w.S&&(a.h=a.w.S.cloneNode(!1)),null===a.h||a.h.parentNode&&a.h.parentNode===
Hb(a.w)||a.w.isEmpty()||((e=document.getElementById(a.h.id))?a.h=e:(a.h.innerHTML=a.w.getData(),ub(a.w,""),Hb(a.w).appendChild(a.h),qb(a.w.c,"end",a.h))),a.P&&(null!==a.h?vc(a,a.h):vc(a,Hb(a.w),!0),a.P=!1),a.w.isEmpty()&&(a.P=!0),!tc(a,b))){if(!0===Vb(a.w.g)||!0===Wb(a.w.g)){if(null==c)break a;for(e=c;"string"!=typeof a.o[e.nodeName]&&e!=Hb(a.w);)e=e.parentNode;vc(a,e)}if(13==b.keyCode){Cb(a.w.o);wb(a.w.c);if(null==c)break a;e=a.o[c.nodeName];"string"==typeof e&&""==Ib(c.innerHTML,["img","a"])&&((g=
a.ta[e])&&vb(a,g).Ba(),a.w.g.c&&"Link"===e&&rb(a,e)&&vb(a,e).Ym());"SPAN"==c.nodeName&&"DIV"==c.parentNode.nodeName&&(c=c.parentNode,c.innerHTML=Ib(c.innerHTML,["a","img","br"]));e=["strong","b","em","i"];tb(a.w.g)&&"FONT"==c.nodeName&&-1<e.indexOf(c.parentNode.nodeName.toLowerCase())&&(c=c.parentNode.parentNode,c.innerHTML=Ib(c.innerHTML,e.concat(["a","img","br"])),c=c.firstChild,ic(a.w.c,c),wb(a.w.c));if("DIV"==c.nodeName){vb(a,"Paragraph").Ba();c=xb(a.w.c);if(null==c)break a;!c.previousSibling||
"OL"!=c.previousSibling.nodeName&&"UL"!=c.previousSibling.nodeName||c.parentNode==Hb(a.w)||(e=c.parentNode,c.remove(),Tb(c,e),ic(a.w.c,c),wb(a.w.c))}}else b.ctrlKey&&(a.w.g.c||!1!==a.w.c.c.collapsed&&!tb(a.w.g))?66==b.keyCode&&rb(a,"Bold")?vb(a,"Bold").Ba():73==b.keyCode&&rb(a,"Italic")?vb(a,"Italic").Ba():85==b.keyCode&&rb(a,"Underline")&&vb(a,"Underline").Ba():46!=b.keyCode&&8!=b.keyCode||!a.w.isEmpty()||null===c||-1!==a.D.indexOf(c.nodeName.toLowerCase())||(qb(a.w.c,"start"),rb(a,sb)&&vb(a,sb).Ba(),
c=xb(a.w.c),a.w.c.ed(null,c));e=a.w.c;"object"==typeof y(e.w,"pageOffset")&&"number"==typeof y(e.w,"pageOffset.top")&&(g=ec(e).cloneRange(),c=0,y(e.w,"pageOffset.top")&&(c=Gb(e.w.v).height+y(e.w,"pageOffset.top")),g.getClientRects&&(g.collapse(!0),g=g.getClientRects(),0<g.length&&(e=g[0].top,g=g[0].bottom,d=document.body.scrollLeft||document.documentElement.scrollLeft,h=document.body.scrollTop||document.documentElement.scrollTop,e<=c&&window.scrollTo(d,h+e-c),g+0>=window.innerHeight&&window.scrollTo(d,
h+(g-window.innerHeight)+0))))}}function tc(a,b){return"boolean"===typeof y(a.w,"disableFormatting")&&1==y(a.w,"disableFormatting")&&(13==b.keyCode||9===b.keyCode||1==b.ctrlKey&&66==b.keyCode||1==b.ctrlKey&&73==b.keyCode||1==b.ctrlKey&&85==b.keyCode||46==b.keyCode||8==b.keyCode)?(46!=b.keyCode&&8!=b.keyCode&&(b.preventDefault(),b.stopPropagation()),!0):!1}
function vc(a,b,c){if(b!=Hb(a.w)||c)for(a=b.getElementsByTagName("span"),c=b=null;b=a[0];){for(c=b.firstChild;c;)b.parentNode.insertBefore(c,b),c=b.firstChild;b.parentNode.removeChild(b)}}function nc(a,b){return"object"===typeof y(a.w,b)&&"boolean"===typeof y(a.w,b+".textual")&&!0===y(a.w,b+".textual")}function wc(a,b,c){c&&-1<a.m.indexOf(b)?(xc(a.w.v,b,c),a.m.splice(a.m.indexOf(b),1)):c||-1<a.m.indexOf(b)||(xc(a.w.v,b,c),a.m.push(b))}
function Za(a){Nb.apply(this,arguments);this.c={};this.h=null;for(var b=0,c=kb.length;b<c;b++)this.add(kb[b])}Mb(Za,Nb);Za.prototype.add=function(a){a=new a;this.c[a.$c()]=a};function $a(a){Nb.apply(this,arguments);this.c={};if(mb.en instanceof yc)this.add(mb.en.Ck);else if(mb["*"]instanceof yc)this.add(mb["*"].Ck);else{var b=Object.keys(mb);b[0]&&this.add(mb[b[0]].Ck)}}Mb($a,Nb);$a.prototype.add=function(a){this.c=a};$a.prototype.get=function(a){return"undefined"!=typeof this.c[a]?this.c[a]:""};
function ab(a){Nb.apply(this,arguments);this.c={Rh:[],data:{}};this.h=this.g.bind(this)}Mb(ab,Nb);
ab.prototype.g=function(a){var b=this.w;if(this.w.Ga(null==b.h?null:b.h.id)){var c=vb(this.w.ia,"Image");"touchstart"==a.type&&"touchend"==a.type&&"IMG"==a.target.tagName&&ic(this.w.c,a.target);var b=a.currentTarget||a.target,d=a.type;null!==c&&null===c||this.w.notify(d,a);var e=b.nodeName+b.id,g=a.originalTarget||a.toElement||a.srcElement;null!==c&&this.w.g.g&&wb(this.w.c);if("object"==typeof this.c.data[e]&&"object"==typeof this.c.data[e][d])for(c=this.c.data[e][d],d=0,e=c.length;d<e;d++){!0===
c[d].js&&uc(a);var h=c[d].action;if("function"==typeof h)h.call(this.w,b,g,a);else if(-1<h.indexOf(".")){for(var h=h.split("."),k=this.w,p=0,w=h.length;p<w;p++)k=k[h[p]];k.call(this.w,b,g,a)}else this.w[h].call(this.w,b,g,a)}}};
ab.prototype.add=function(a,b,c,d){if(1==yb(this.w.g)&&1==this.w.g.g)switch(b){case "click":b="touchstart";break;case "mouseup":b="touchend";break;case "mousedown":b="touchstart"}0==a.id&&(a.id=Math.random().toString(36).substring(7));var e=a.nodeName+a.id+b+c,g=a.nodeName+a.id;-1==this.c.Rh.indexOf(e)&&(a.addEventListener(b,this.h,!1),this.c.Rh.push(e),"object"!==typeof this.c.data[g]&&(this.c.data[g]={}),"object"!==typeof this.c.data[g][b]&&(this.c.data[g][b]=[]),this.c.data[g][b].push({element:a,
type:b,action:c,js:!!d}))};ab.prototype.remove=function(a,b){var c=a.nodeName+a.id;if(this.c.data[c]){for(var d in this.c.data[c])if("string"!=typeof b||b===d)a.removeEventListener(d,this.h,!1),this.c.Rh.splice(this.c.Rh.indexOf(a.nodeName+a.id+d+this.c.data[c][d][0].action),1);"undefined"==typeof b&&delete this.c.data[c]}};
ab.prototype.removeAll=function(){for(var a in this.c.data)for(var b in this.c.data[a])if(this.c.data[a].hasOwnProperty(b))for(var c=0,d=this.c.data[a][b].length;c<d;c++)this.c.data[a][b][c].element.removeEventListener(b,this.h,!1);this.c.Rh=[];this.c.data=[]};function uc(a){a.stopPropagation&&a.stopPropagation();a.preventDefault?a.preventDefault():a.cancelBubble=!0}
function bb(a){Nb.apply(this,arguments);this.c="";this.h=null;this.m=/(^<h\d{1}[^>]*>.*?<\/h\d{1}(?=[>\s])[^>]*>\s*?)<h\d{1}[^>]*>(.*?)<\/h\d{1}(?=[>\s])[^>]*>/i;this.g=/^\s*?<h\d{1}[^>]*>(.*?)<\/h\d{1}(?=[>\s])[^>]*>/i}Mb(bb,Nb);
bb.prototype.F=function(a,b,c){this.c=this.w.getData();var d;a=["text/html"];b=null;var e=this.w.m.createElement("div",{contenteditable:"true",style:{visibility:"hidden"}});if("object"==typeof c.clipboardData&&"function"==typeof c.clipboardData.getData&&null!==c.clipboardData.types&&"function"==typeof c.clipboardData.types.indexOf)for(var g=0,h=a.length;g<h;g++)if(-1<c.clipboardData.types.indexOf(a[g])){b=c.clipboardData.getData(a[g]);b=b.replace(/(<\/html>)([\s\S]*)/gi,"$1");b=Ac(this,b);e.innerHTML=
b;b=e.innerHTML;break}if(null===b){document.body.appendChild(e);try{d=document.body.createTextRange(),d.moveToElementText(e),tb(this.w.g)||d.select(),d.execCommand("Paste"),b=e.innerHTML}catch(k){this.A()}e.parentNode.removeChild(e)}d=b;null!==d&&(uc(c),d=Bc(this,d),jc(this.w.c,d),this.w.notify("paste",null))};
bb.prototype.A=function(){var a=this.w.getData();if(this.c!=a){clearInterval(this.h);this.h=null;var b;var c=this.c;if("<p><br></p>"===c)b=a;else{for(var d=b=0,e=c.length,g=a.length;b<e&&c[b]==a[b];)b++;for(;e-d>b&&c[e-d-1]==a[g-d-1];)d++;d=g-d;0<b&&">"!=a[b-1]&&--b;0<d&&">"===a[d]&&(d+=1);b=a.substr(b,d-b)}c=Bc(this,b);c=a.replace(b,"\x3c!-- paste --\x3e").replace("\x3c!-- paste --\x3e",c);g=ec(this.w.c);b=g.startContainer.previousSibling;for(var a=g.startOffset,h=g.startContainer.parentNode.textContent.length;b;)3==
b.nodeType&&(a+=b.textContent.length),b=b.previousSibling;var k=g.startContainer.parentNode,e=k.nextElementSibling;b=!1;for(d=null;k&&null==e;)if(k=k.parentNode,e=k.nextElementSibling,k==Hb(this.w)){h>=a?(b=!0,e=g.startContainer.parentNode):e=null;break}if(e)for(g=Hb(this.w).children,h=0,k=g.length;h<k;h++)if(g[h]===e){d=k-h;break}ub(this.w,c);c=ec(this.w.c);if(d){e=Hb(this.w).children;g=e.length;if((b=e[b?g-1:g-d-1])&&1==b.nodeType)for(e=d=0,g=b.firstChild;g;)3==g.nodeType&&(e+=g.textContent.length),
a<=e?(a-=d,b=g,g=null):(3==g.nodeType&&(d+=g.textContent.length),g=g.nextSibling);b&&b.nodeType===Node.TEXT_NODE&&(c.setStart(b,a),c.setEnd(b,a),c.collapse(!0))}else c.selectNodeContents(Hb(this.w)),c.collapse(!1);Kb(this.w.c,null,c);wb(this.w.c);this.c=""}else this.h=setTimeout(this.A.bind(this),20)};
function Bc(a,b){if("boolean"===typeof y(a.w,"disableFormatting")&&!0===y(a.w,"disableFormatting"))return b=Ib(b),b=b.replace(/&nbsp;/gi," "),b=b.trim();if("object"!==typeof y(a.w,"pasteCleaner"))return b;var c;c=b.replace(/\x3c!--[\s\S]+?--\x3e/gi,"");b=c=c.replace(/<(!|script[^>]*>(\s|.)*?<\/script(?=[>\s])|style[^>]*>(\s|.)*?<\/style(?=[>\s])|\/?(\?xml(:\w+)?|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,"");c=b=Cc(a,b);var d=c.match(RegExp("<*mso-list:Ignore[^<]*<","gi"));if(d)for(var e=/>(.*)</,
g,h=0,k=d.length;h<k;h++)g=d[h].match(e),g[1]&&"\u00b7"!==g[1]&&(g=d[h].replace(g[0],">\u00b7<"),c=c.replace(d[h],g));b=Dc(a,c);b=Ec(a,b);c=b=Ac(a,b);c=c.replace(/<br><br>/gi,"<br>");c=c.replace(/<br><\/br>/gi,"<br>");c=c.replace(/<br><p>/gi,"<p>");c=c.replace(/<br><h/gi,"<h");c=c.replace(/<p><\/p>|<p>&nbsp;<\/p>/gi,"");c=c.replace(/^\s*\n/gm,"");c=b=Fc(a,c);c=c.replace(/[\u2018|\u2019|\u201A]/g,"'");c=c.replace(/[\u201C|\u201D|\u201E]/g,'"');c=c.replace(/\u2026/g,"...");c=c.replace(/[\u2013|\u2014]/g,
"-");c=c.replace(/\u02C6/g,"^");c=c.replace(/\u2039/g,"<");c=c.replace(/\u203A/g,">");c=c.replace(/[\u02DC|\u00A0]/g," ");b=Gc(a,c);b=Hc(a,b);Array.isArray(y(a.w,"pasteCleaner.allowedTags"))&&(b=Ib(b,y(a.w,"pasteCleaner.allowedTags")));b=Ic(a,b);if(!0===y(a.w,"replaceHeadings")){c=b;if(y(a.w,"allowedFormats")){d=[];e=y(a.w,"allowedFormats");h=0;for(k=e.length;h<k;h++)if(g=e[h],-1!=g.indexOf("Heading")){var p=a.w.ia;g="undefined"==typeof p.g[g]?null:p.g[g];Array.isArray(g)&&d.push(g[0])}0<d.length&&
(h=d[0],e=d[1],k=d[d.length-1],2<d.length&&(c=c.replace(RegExp("<(/?)h\\d{1}>","gi"),"<$1"+k+">")),(k=!Ib(a.w.getData()).trim())&&c.match(/^<h\d{1}>/)&&(c=c.replace(a.g,"<"+h+">$1</"+h+">")),h=new RegExp("^\\s*?<"+h+"[^>]*>.*?<\\/"+h+"(?=[>\\s])[^>]*>\\s*?$"),1<d.length&&(k?c=c.replace(a.m,"$1<"+e+">$2</"+e+">"):a.w.getData().match(h)&&(c=c.replace(a.g,"<"+e+">$1</"+e+">"))),c=c.replace(new RegExp("(?!(<(/?)("+d.join("|")+")>))<(/?)h\\d{1}>","gi"),"<$1p>"))}b=c}c=a.w.R;d=b;c.c&&c.c.test(d)&&(e=d,
d=c.w.m.createElement("div"),d.innerHTML=e,e=c.w.m.createElement("div"),Jc(c,d,e),d=e.innerHTML.toString().trim());return d}function Cc(a,b){Array.isArray(y(a.w,"pasteCleaner.unwantedTags"))&&y(a.w,"pasteCleaner.unwantedTags").forEach(function(a){b=b.replace(new RegExp("<"+a+"[\\s\\S]*?"+a+"([\\s\\S]*?)>","gi"),"")}.bind(a));return b}
function Ec(a,b){Array.isArray(y(a.w,"pasteCleaner.unnecessaryAttrs"))&&y(a.w,"pasteCleaner.unnecessaryAttrs").forEach(function(a){b=b.replace(new RegExp(" "+a+"=(\"[\\s\\S]*?\"|'[\\s\\S]*?')","gi"),"")}.bind(a));return b}function Ic(a,b){b=b.replace(RegExp("(\\s*<br>\\s*){2,}","gi"),"");var c=y(a.w,"pasteCleaner.allowedTags");Array.isArray(c)&&c.forEach(function(a){b=b.replace(new RegExp("<"+a+">(</?["+c.join("|")+"]+>|\\s)*</"+a+">","gi"),"")}.bind(a));return b}
function Dc(a,b){Array.isArray(y(a.w,"pasteCleaner.unnecessaryTags"))&&y(a.w,"pasteCleaner.unnecessaryTags").forEach(function(a){b=b.replace(new RegExp("(<"+a+"[^>]*>)|(</"+a+"(?=[>\\s])[^>]*>)","gi"),"")}.bind(a));return b}
function Ac(a,b){var c=b.match(/<(\/?img[^>]*>)/gi);null!==c&&c.forEach(function(a){var c=a.match(/src="([\s\S]*?)"/gi);"string"==typeof c[0]&&(-1<c[0].indexOf("file:")||/(?:data:)?image\/(?:png|gif|jpg|jpeg);base64,[+=\w\s\d\/]*/.test(c[0]))&&(b=b.replace(a,""))}.bind(a));return b}function Fc(a,b){Array.isArray(y(a.w,"pasteCleaner.semanticTags"))&&y(a.w,"pasteCleaner.semanticTags").forEach(function(a){b=b.replace(new RegExp("<(/?)"+a[0]+">","gi"),"<$1"+a[1]+">")}.bind(a));return b}
function Hc(a,b){Array.isArray(y(a.w,"pasteCleaner.replaceTableTags"))&&(y(a.w,"pasteCleaner.replaceTableTags").forEach(function(a){b=b.replace(new RegExp("<"+a[0]+"[^>]*>(.*?)</"+a[0]+"(?=[>s])[^>]*>","gi"),"$1"+a[1])}.bind(a)),b=b.replace(RegExp("<(/?)caption>","gi"),"<$1p>"));return b}function Gc(a,b){Array.isArray(y(a.w,"pasteCleaner.replaceHtmlEntityNames"))&&y(a.w,"pasteCleaner.replaceHtmlEntityNames").forEach(function(a){b=b.replace(new RegExp("\\"+a[0],"gi"),a[1])}.bind(a));return b}
function cb(a){Nb.apply(this,arguments);this.h=this.c=null}Mb(cb,Nb);function zb(a){if(null===a.c){var b=Array.isArray(y(a.w,"contentAnalyzer.listsMarks"))?y(a.w,"contentAnalyzer.listsMarks"):null;a.c=b?new RegExp(b.join("|"),"gi"):null;a.h=b?new RegExp("^["+b.join("|")+"]","gi"):null}}
function Jc(a,b,c){for(var d,e=null,g,h=function(a){e||(e=this.w.m.createElement("ul"),a.nodeName&&"P"===a.nodeName&&!a.innerHTML.trim()?(a.parentNode.insertBefore(e,a),a.parentNode.removeChild(a)):a.appendChild(e));return e}.bind(a),k=function(a,b){if(a.trim()){var c=this.w.m.createElement("li");c.innerHTML=a.trim();b.appendChild(c)}}.bind(a),p=0,w=b.childNodes.length;p<w;p++)switch(d=b.childNodes[p],d.nodeType){case Node.ELEMENT_NODE:if("BR"===d.nodeName&&e&&Node.TEXT_NODE===b.childNodes[p-1].nodeType)continue;
(g=d.innerHTML.trim().match(a.h))?1===g.length?0===d.innerHTML.trim().indexOf(g[0])?k(d.innerHTML.trim().substr(g[0].length).trim(),h(c)):c.appendChild(d.cloneNode(!0)):(g=d.cloneNode(!1),c.appendChild(g),Jc(a,d,g)):(e=null,c.appendChild(d.cloneNode(!0)));break;case Node.TEXT_NODE:(g=d.nodeValue.trim().match(a.h))?k(d.nodeValue.substr(g[0].length).trim(),h(c)):c.appendChild(d.cloneNode(!1))}}function db(a){Nb.apply(this,arguments);this.c={}}Mb(db,Nb);
db.prototype.subscribe=function(a,b,c){Array.isArray(this.c[a])||(this.c[a]=[]);b={Mf:b,scope:c||this};this.c[a].push(b);return[a,b]};db.prototype.unsubscribe=function(a,b){var c=a[0];if(Array.isArray(this.c[c]))if(b)delete this.c[c];else for(var d=0,e=this.c[c].length;d<e;d++)this.c[c][d]===a[1]&&this.c[c].splice(this.c[c][d],1)};function eb(a){Nb.apply(this,arguments);this.h=[];this.A=this.c=-1;this.m=this.w.getData();this.F=0;this.g=!1}Mb(eb,Nb);
eb.prototype.reset=function(){this.h=[];this.A=this.c=-1;this.m=this.w.getData()};function Kc(a){a.g?a.g=!1:(clearTimeout(a.F),a.F=setTimeout(a.o.bind(a),250))}eb.prototype.o=function(){var a=this.w.getData();if(a!==this.m&&null!==ec(this.w.c)){-1!==this.c&&"undefined"!==typeof this.h[this.c+1]&&(this.h=this.h.slice(0,this.c+1));var b={startValue:this.m,newValue:a,selection:this.w.c.h,range:ec(this.w.c).cloneRange()};this.h.push(b);this.c++;this.A=this.c;this.m=a;Lc(this)}};
eb.prototype.Si=function(){return 0<this.h.length&&-1<this.c};eb.prototype.Ri=function(){return this.c<this.A};function Lc(a){var b=a.w.message;a=[a.h.length,a.c,a.A];if(Array.isArray(b.c["/snapshot/stack"]))for(var c=0,d=b.c["/snapshot/stack"].length;c<d;c++)b.c["/snapshot/stack"][c].Mf.apply(b.c["/snapshot/stack"][c].scope,a||[])}
function fb(a){Nb.apply(this,arguments);this.A="MutationObserver"in window;this.options={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:[]};this.h=null;this.c={}}Mb(fb,Nb);fb.prototype.observe=function(){this.A&&(this.h=new MutationObserver(this.m.bind(this)),this.h.observe(Hb(this.w),this.options))};
fb.prototype.m=function(a){var b=Array.prototype.forEach;a.forEach(function(a){a.addedNodes&&0<a.addedNodes.length&&b.call(a.addedNodes,function(b){this.g("add",b.nodeName,b,a.type,a.target)},this);a.removedNodes&&0<a.removedNodes.length&&b.call(a.removedNodes,function(b){this.g("remove",b.nodeName,b,a.type,a.target)},this);Kc(this.w.Te);Lb(this.w)},this)};
fb.prototype.H=function(a,b,c){"object"!==typeof this.c[a]&&(this.c[a]={});Array.isArray(this.c[a][b])||(this.c[a][b]=[]);-1<this.c[a][b].indexOf(c)||this.c[a][b].push(c)};fb.prototype.g=function(a,b,c,d,e){if("object"===typeof this.c[a]&&Array.isArray(this.c[a][b])&&0!==this.c[a][b].length)for(var g=0,h=this.c[a][b].length;g<h;g++)this.c[a][b][g].apply(this.w,arguments)};
function gb(a){Qb.apply(this,arguments);this.types={Or:"modal",An:"popover"};this.L=this.o=!1;this.g=[];this.c=[];this.v=null;this.P="";this.m=this.A=null;this.h={modal:[],popover:[]};this.M=null}Mb(gb,Qb);
function Mc(a,b,c,d,e){var g=y(a.w,"popups.modal.template"),h=null;"object"==typeof e?h=e:(h=Xb(a.w.A,b,g.buttons.area),h=h[h.length-1]);var k;e=0;for(var p=c.buttons.length;e<p;e++)if(b=c.buttons[e],k=g.buttons[b.type],"object"===typeof b.attributes&&(k[0][1]=Fb(a.w.A,k[0][1],b.attributes)),k=Xb(a.w.A,h,k),k[k.length-1].innerHTML=b.text,"object"==typeof b.events)for(var w in b.events)a.w.F.add(k[0],w,b.events[w],!0),a.h[d].push(k[0]);return h}
function Nc(a,b,c){null!=c&&("function"==typeof c?c.call(a.w,a.A):"string"==typeof c?b.innerHTML=c:b.appendChild(c))}
function Oc(a,b,c){var d,e,g=0,h=0;"compact"===a.w.getType()?(d=a.w.m.getPosition(Hb(a.w)),c=a.w.m.getPosition(c),e=a.w.m.getPosition(b),g=c.bottom+2,h=c.left,c.top+c.height>d.height&&(g=d.height-10,c.height<e.height&&(g=c.top-e.height)),d.width<e.width+c.left&&(h=d.width-e.width-cc(a.w.A))):(c=a.w.m.getPosition(c,!0),e=a.w.m.getPosition(b,!0),g=c.top+c.height+6,h=c.left,window.innerWidth<e.width+h+cc(a.w.A)&&(h=window.innerWidth-e.width-cc(a.w.A)));b.style.top=g+"px";b.style.left=h+"px"}
gb.prototype.F=function(){if("undefined"!=typeof this.g[0]){for(var a=0,b=this.h.modal.length;a<b;a++)this.w.F.remove(this.h.modal[0]?this.h.modal[0]:this.h.modal[a]);this.g[0].parentNode.removeChild(this.g[0]);this.g=[];this.A=null;this.h.modal=[];this.o=!1}};
function Pc(a,b){if(("undefined"==typeof b||b==a.P)&&"undefined"!=typeof a.c[0]){for(var c=0,d=a.h.popover.length;c<d;c++)a.w.F.remove(a.h.popover[c]);a.c[0].parentNode.removeChild(a.c[0]);a.c=[];a.m=null;a.h.popover=[];a.v=null;a.M=null;a.L=!1}}function Cb(a){a.F();Pc(a)}function hb(a){Qb.apply(this,arguments);this.c=null;this.h=[];this.A={};this.m=null;this.o={};this.F=[];this.g=!0}Mb(hb,Qb);f=hb.prototype;
f.create=function(){if(!(null!==this.c||"boolean"===typeof y(this.w,"disableFormatting")&&y(this.w,"disableFormatting"))){var a;null!==this.c?a=null:("inline"===this.w.getType()?a=document.body:a=Hb(this.w),this.h=Xb(this.w.A,a,y(this.w,"toolbar").template),!0===yb(this.w.g)&&this.h[0].classList.add("touchable"),a=this.h[0]);this.c=a;this.w.F.add(this.c,"click",this.us.bind(this),!0);0==yb(this.w.g)&&(this.w.F.add(this.c,"mouseover",this.po.bind(this)),this.w.F.add(this.c,"mouseout",this.po.bind(this)));
var b=y(this.w,"toolbar"),c=Yb(this.h);if("object"===typeof b.blocks){a=c;"undefined"!==typeof b.switcher&&(a=Xb(this.w.A,c,b.switcher.area.template),a=Yb(a),Xb(this.w.A,c,b.switcher.button.template));var b=b.blocks,d;for(d in b)c=Xb(this.w.A,a,b[d].template),this.o[d]={element:c,visible:b[d].visible},!1===b[d].visible&&(c[0].style.display="none",this.F.push(d),this.g=!1),Qc(this,Yb(c),b[d].modules)}else Qc(this,c,b.modules);this.Nf();this.w.F.add(window,"scroll",this.Nf.bind(this),!1);this.w.F.add(window,
"resize",this.Nf.bind(this),!1)}};f.po=function(a,b,c){!0===b.hasAttribute("data-module")&&"mouseover"===c.type?(b.classList.add(y(this.w,"button.overClass")),this.m=b):"mouseout"===c.type&&null!==this.m&&this.m.classList.remove(y(this.w,"button.overClass"));"mouseout"===c.type?(a=this.w.m.getPosition(Yb(this.h),!0),bc(a,gc(c))||this.w.notify("mouseoutPopup",null)):"mouseover"===c.type&&this.w.notify("mouseoverPopup",null)};
function Qc(a,b,c){for(var d=y(a.w,"button"),e=a.w.ia.L,g=y(a.w,"toolbar.group"),h,k,p=0,w=c.length;p<w;p++){h=Xb(a.w.A,b,g);for(var v=0,C=c[p].length;v<C;v++)k=c[p][v],-1!=e.indexOf(k)&&(a.A[k]=vb(a.w.ia,k).init(h[0],d,k))}}f.remove=function(){!1!==(null!==this.c)&&(this.w.F.remove(this.c),null!==this.c.parentNode&&this.c.parentNode.removeChild(this.c),this.c=null,this.w.F.remove(window))};
f.us=function(a,b,c){a=!0;if(!1===b.hasAttribute("data-type")&&!0===b.parentNode.hasAttribute("data-type")||!1===b.hasAttribute("data-module")&&!0===b.parentNode.hasAttribute("data-module"))b=b.parentNode;if(!0===b.hasAttribute("data-type")&&"toolbarSwitcher"===b.getAttribute("data-type")){a=!1;for(var d,e=0,g=this.F.length;e<g;e++)d=this.o[this.F[e]],d.element[0].style.display=!1===this.g?"block":"none",d.visible=!1===this.g;!1===this.g?this.c.classList.add("expanded"):this.c.classList.remove("expanded");
this.Nf();this.g=!1===this.g;Kb(this.w.c)}!1!==b.hasAttribute("data-type")&&"selectBox"===b.getAttribute("data-type")||pb(this.w.L);b=b.getAttribute("data-module");if(rb(this.w.ia,b)){if(-1<this.w.ia.m.indexOf(b))return;a=!1;vb(this.w.ia,b).Ba()}a&&(a=this.w.m.getPosition(Yb(this.h),!0),b=gc(c),bc(a,b)||(a=this.w.m.getPosition(Hb(this.w),!0),bc(a,b)||this.w.notify("onClickOutsideToolbar",c)))};f.le=function(a){return"undefined"==typeof this.A[a]||"undefined"==typeof this.A[a][0]?null:this.A[a][0]};
function Gb(a){var b={width:0,height:0};if(a=Yb(a.h))b.width=parseInt(a.offsetWidth,10),b.height=parseInt(a.offsetHeight,10);return b}f.setWidth=function(a){if("100%"==a||"auto"==a||"number"==typeof a||null!==a&&"px"==a.substr(-2))"number"==typeof a&&(a=a+"px"),this.c.style.width=a};
f.Nf=function(){if("inline"===this.w.getType()&&("undefined"===typeof y(this.w,"isDisabledScroll")||!0!==y(this.w,"isDisabledScroll").call())){var a=0,b=0,c=null;"function"===typeof y(this.w,"editorDimension")?c=y(this.w,"editorDimension").call():c=this.w.m.getPosition(Hb(this.w),!0);var d=this.w.m.getPosition(Yb(this.h)),e=document.body.scrollLeft||document.documentElement.scrollLeft,g=document.body.scrollTop||document.documentElement.scrollTop,h=y(this.w,"toolbar.topOffset"),a=c.top-d.height;"number"===
typeof y(this.w,"toolbar.heightCorrection")&&(a-=y(this.w,"toolbar.heightCorrection"));a-=y(this.w,"toolbar.spacing.top");b=c.left;document.body.offsetWidth<c.left+d.width?(this.c.classList.add(y(this.w,"toolbar.fromRightClass")),b=c.left+c.width-d.width+y(this.w,"toolbar.spacing.right")):b-=y(this.w,"toolbar.spacing.left");e>c.left&&(b+=e);g>a-h&&g<c.top+c.height-h-2*d.height&&(a=g+h);this.c.style.top=a+"px";this.c.style.left=b+"px"}};
function xc(a,b,c){b=a.le(b);null!==b&&(a=y(a.w,"button.disabledClass"),"undefined"!==typeof a&&(c?b.classList.remove(a):b.classList.add(a)))}function ib(a){Qb.apply(this,arguments);this.c={};this.h=[];this.m={};this.A="";this.g={}}Mb(ib,Qb);
ib.prototype.create=function(a,b,c,d){this.h.push(c);this.c[c]={};a=Rc(this,a,c);if(null===a)return[];var e=Yb(this.c[c].vg);e.style.visibility="hidden";for(var g=this.w.ia.L,h,k,p=0,w=d[0],v=0,C=d.length;v<C;v++)if(h=d[v],-1!=g.indexOf(h)){this.g[h]=c;var G=vb(this.w.ia,h);this.c[c][h]=G.init(a,b,h);nc(this.w.ia,h)&&(this.c[c][h][0].classList.add(y(this.w,"SelectBox.className.textual")),k=this.w.ia.M[h],e.innerHTML=k,e.offsetWidth>p&&(p=e.offsetWidth));!0===-1<this.w.ia.c.indexOf(h)&&(w=h);G.Hg=
c}!0===nc(this.w.ia,w)?rc(this,c):qc(this,c,w);0<p&&(e.style.width=p+"px");e.style.visibility="visible";return[e]};
function Rc(a,b,c){var d=y(a.w,"SelectBox.template");if("undefined"===typeof d||"undefined"===typeof d.base||"undefined"===typeof d.button||"undefined"===typeof d.list)return null;a.c[c].tg=Xb(a.w.A,b,d.base);b=Yb(a.c[c].tg);a.c[c].vg=Xb(a.w.A,b,d.button,{ma:c});a.c[c].vg[0].setAttribute("data-type","selectBox");a.c[c].Zg=Xb(a.w.A,b,d.list);a.c[c].Zg[0].style.display="none";a.c[c].opened=!1;return Yb(a.c[c].Zg)}
function qc(a,b,c){var d=a.w.ia.M[c],e=Yb(a.c[b].vg);!0===nc(a.w.ia,c)?e.innerHTML=d:("string"===typeof a.m[b]&&e.classList.remove("module"+a.m[b]),e.classList.add("module"+c),a.m[b]=c)}
function Sc(a,b){"undefined"!==typeof a.c[b]&&(!0===a.c[b].opened?Tc(a,b):(""!==a.A&&Tc(a,a.A),"undefined"!==typeof a.c[b]&&"undefined"!==typeof a.c[b].Zg[0]&&(Cb(a.w.o),a.w.notify("selectBoxOpen",null),a.c[b].Zg[0].style.display="block",a.c[b].opened=!0,a.c[b].vg[0].classList.add(y(a.w,"SelectBox.className.opened")),a.A=b)),Kb(a.w.c))}
function Tc(a,b){"undefined"!==typeof a.c[b]&&"undefined"!==typeof a.c[b].Zg[0]&&(a.w.notify("selectBoxClose",null),a.c[b].Zg[0].style.display="none",a.c[b].opened=!1,a.c[b].vg[0].classList.remove(y(a.w,"SelectBox.className.opened")))}function pb(a){for(var b=0,c=a.h.length;b<c;b++)!0===a.c[a.h[b]].opened&&Tc(a,a.h[b])}function sc(a,b){return"string"===typeof a.g[b]&&"object"===typeof a.c[a.g[b]]}function rc(a,b){if(a.c[b]){var c=a.w.M.get("emptySelectBox");Yb(a.c[b].vg).innerHTML=c}}
function jb(a){Qb.apply(this,arguments);this.c=null}Mb(jb,Qb);jb.prototype.show=function(a){var b=a.top,c=a.left;a=a.height;null===this.c&&(this.c=this.w.m.createElement("span"),this.c.style.position="absolute",this.c.style.top=b+"px",this.c.style.left=c+"px",this.c.style.display="block",this.c.style.height=a+"px",this.c.style.width="1px",this.c.style.borderLeft="1px solid #000",document.body.appendChild(this.c))};
jb.prototype.hide=function(){null!==this.c&&(this.c.parentNode.removeChild(this.c),this.c=null)};function Uc(a,b,c,d,e,g){this.w=a;this.ma=b;this.g=c||"";this.A=d||[];this.L=e||[];this.v=g||""}Mb(Uc,Nb);Uc.prototype.init=function(a,b,c){return this.w.ia.A.apply(this.w.ia,arguments)};Uc.prototype.Ba=function(){throw Error("Unimplemented abstract method");};
function Vc(a){Kb(a.w.c);var b=xb(a.w.c);if(null===b||null===b.parentNode)return!0;var b=b.nodeName.toLowerCase(),c=Pb[b];if(!c||"p"===b)return!0;if("string"===typeof c.content&&Ob[c.content])return-1<Ob[c.content].indexOf(a.A[0]||null);Array.isArray(c.content.elements);return!0}
function Wc(a){Kb(a.w.c);var b=xb(a.w.c);if(null!==b&&null!==b.parentNode){var c=b;b.parentNode!==Hb(a.w)&&(c=b.parentNode);switch(c.nodeName.toLowerCase()){case "blockquote":vb(a.w.ia,"Blockquote").Ba();break;case "ul":document.execCommand("insertUnorderedList",!1,null);break;case "ol":document.execCommand("insertOrderedList",!1,null);break;case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":document.execCommand("formatBlock",!1,"p")}wb(a.w.c)}}
function Xc(a){Uc.call(this,a,sb,"formatBlock",["p"],["Heading1","Heading2","Heading3","Heading4","Blockquote"]);this.c=["font","strong","b","em","i"]}Mb(Xc,Uc);Xc.prototype.init=function(a,b,c){this.w.ta.H("add",(this.A[0]||null).toUpperCase(),this.h.bind(this));return this.w.ia.A.apply(this.w.ia,arguments)};
Xc.prototype.h=function(a,b,c,d,e){if(a=Sb(e,"blockquote"))a=this.w.g.c?c.nextElementSibling:c.previousElementSibling,a=null!==a&&Sb(a,"p")&&!a.textContent&&!c.textContent;a&&(this.w.g.c?(this.w.m.remove(c.nextElementSibling),null!==c.nextElementSibling&&c.nextElementSibling.textContent?vb(this.w.ia,"Blockquote").Ba():(Tb(c,e),ic(this.w.c,c),qb(this.w.c,"end",c))):(this.w.m.remove(c.previousElementSibling),null!==c.nextElementSibling?vb(this.w.ia,"Blockquote").Ba():(Tb(c,e),ic(this.w.c,c),qb(this.w.c,
"end",c))))};Xc.prototype.Ba=function(){Wc(this);for(var a=this.w.ia.Ba(this.g,this.A[0]||null,this.ma);-1<this.c.indexOf(a.nodeName.toLowerCase());)a=a.parentNode;lc(this.w.c,a);this.w.c.ed(null,a)};nb(Xc);function Yc(a){Uc.call(this,a,"Blockquote","indent",["blockquote"],[sb,"Heading1","Heading2","Heading3","Heading4"],sb)}Mb(Yc,Uc);Yc.prototype.init=function(a,b,c){this.w.ta.H("add",(this.A[0]||null).toUpperCase(),this.c.bind(this));return this.w.ia.A.apply(this.w.ia,arguments)};
Yc.prototype.c=function(a,b,c,d,e){Sb(e,"p")&&(Tb(c,e),a=c,!Sb(c,"p")&&a.firstElementChild&&(a=a.firstElementChild),ic(this.w.c,a),e.textContent||this.w.m.remove(e));e=e=[];a=c.attributes.length;if(0!=a)for(b=a;0<b;b--)a=c.attributes[b-1],-1<e[a.name]||c.removeAttribute(a.name)};Yc.prototype.Ba=function(){-1<this.w.ia.c.indexOf(this.ma)?this.w.ia.Ba("outdent",null,this.ma):this.w.ia.Ba(this.g,null,this.ma)};nb(Yc);function Zc(a,b,c,d,e,g){Uc.apply(this,arguments)}Mb(Zc,Uc);
Zc.prototype.Ba=function(){if(!0===y(this.w,"useCssMargin")&&"string"===typeof y(this.w,"marginViaCss.prefix")&&"number"===typeof y(this.w,"marginViaCss.levels")){Kb(this.w.c);var a=xb(this.w.c);a.style.marginLeft&&(a.style.marginLeft="");a.style.marginRight&&(a.style.marginRight="");Ub(a,"style");var b=y(this.w,"marginViaCss.prefix"),c;a:{c=0;for(var d=a.classList.length;c<d;c++)if(-1<a.classList.item(c).indexOf(b)){c=Number(a.classList.item(c).replace(b,""));break a}c=0}d=y(this.w,"marginViaCss.levels");
"Outdent"===this.ma&&c===d||"Indent"===this.ma&&0===c||(0<c&&a.classList.remove(b+c),"Outdent"===this.ma?c+=1:--c,0===c?Ub(a,"class"):a.classList.add(b+c))}else a:if("undefined"!==typeof y(this.w,this.ma)&&"undefined"!==typeof y(this.w,this.ma+".marginLeft")&&"undefined"!==typeof y(this.w,this.ma+".unit")&&"undefined"!==y(this.w,"Outdent.widthPercentage")&&(a=y(this.w,this.ma+".marginLeft"),Kb(this.w.c),b=xb(this.w.c),c=Hb(this.w).offsetWidth/100,b===Hb(this.w)&&(c=Hb(this.w).parentNode.offsetWidth/
100),c=b.offsetWidth/c,!(null===b||"compact"===this.w.getType()&&b===Hb(this.w)||"Outdent"===this.ma&&c<y(this.w,"Outdent.widthPercentage")))){c=0;b.style.marginLeft&&(c=parseInt(b.style.marginLeft,10));if("Indent"===this.ma){if(0===c)break a;c-=a}else c+=a;b.style.marginLeft=c+"em";b.style.marginRight=c+"em";wb(this.w.c)}Lb(this.w)};function $c(a){Zc.call(this,a,"Indent")}Mb($c,Zc);nb($c);function ad(a){Zc.call(this,a,"Outdent")}Mb(ad,Zc);nb(ad);
function bd(a,b,c,d,e,g){Uc.apply(this,arguments)}Mb(bd,Uc);bd.prototype.Ba=function(){Wc(this);var a=this.w.ia.Ba(this.g,this.A[0]||null,this.ma);lc(this.w.c,a);this.w.c.ed(null,a)};function cd(a){bd.call(this,a,"Heading1","formatBlock",["h1"],[sb,"Heading2","Heading3","Heading4","Blockquote"],sb)}Mb(cd,bd);nb(cd);function dd(a){bd.call(this,a,"Heading2","formatBlock",["h2"],[sb,"Heading1","Heading3","Heading4","Blockquote"],sb)}Mb(dd,bd);nb(dd);
function ed(a){bd.call(this,a,"Heading3","formatBlock",["h3"],[sb,"Heading1","Heading2","Heading4","Blockquote"],sb)}Mb(ed,bd);nb(ed);function fd(a){bd.call(this,a,"Heading4","formatBlock",["h4"],[sb,"Heading1","Heading2","Heading3","Blockquote"],sb)}Mb(fd,bd);nb(fd);function gd(a){Uc.call(this,a,"Bold","bold",["strong","b"]);this.c=null}Mb(gd,Uc);
gd.prototype.Ba=function(){try{this.c=this.w.m.createElement("style"),document.head.appendChild(this.c),this.c.sheet.insertRule(".wnd-wsw b, .wnd-wsw strong {font-weight: bold !important;}",0),this.c.sheet.insertRule(".wnd-wsw {font-weight: normal !important;}",0)}catch(V){}mc(this.w.c);var a=this.w.ia.Ba(this.g,null,this.ma);if("SPAN"===a.nodeName&&!0===a.hasAttribute("style")&&-1<a.getAttribute("style").indexOf("font-weight")){a=xb(this.w.c);a:{var b=this.w.c;Kb(b);if(!0===(!1===b.c.collapsed)){var c=
ec(b).cloneContents(),d;if(0<c.childNodes.length)if(1===c.firstChild.nodeType){c=document.createRange();c.setStart(b.c.startContainer,0);c.setEnd(b.c.endContainer,b.c.endContainer.length);d=window.getSelection();d.removeAllRanges();d.addRange(c);var e=document.createDocumentFragment();e.appendChild(c.extractContents());for(var g,h=null,k=null,p=null,w=null,v=0,C=e.childNodes.length;v<C;v++){var G=e.childNodes[v];if(1===G.nodeType&&"strong"!==G.nodeName.toLowerCase()){g=G.ownerDocument.createElement("strong");
null===h&&(h=G);null===p&&(p=g);C===v+1&&(k=G,w=g);for(;d=G.firstChild;)g.appendChild(d);e.replaceChild(g,G)}}c.insertNode(e);p.previousSibling.nodeName===h.nodeName&&p.previousSibling.innerHTML===h.innerHTML&&p.previousSibling.parentNode.removeChild(p.previousSibling);w.nextSibling.nodeName===k.nodeName&&w.nextSibling.innerHTML===k.innerHTML&&w.nextSibling.parentNode.removeChild(w.nextSibling);d=document.createRange();d.setStart(p.firstChild,b.c.startOffset);d.setEnd(w.firstChild,b.c.endOffset);
w=window.getSelection();w.removeAllRanges();w.addRange(c);b.c=d;b.h=w;b.ed(null,p)}else{c=b.w.m.createElement("strong");p=b.c.commonAncestorContainer.parentNode;p===Hb(b.w)&&(p=b.c.commonAncestorContainer);if(-1<b.g.indexOf("strong")){for(;d=p.firstChild;)c.appendChild(d);p.parentNode.replaceChild(c,p)}else{for(;p;){if("strong"===p.nodeName.toLowerCase()){kc(b,"strong",p);break a}p=p.parentNode}c.appendChild(b.c.extractContents());b.c.insertNode(c)}ic(b,c);b.ed(null,c)}}}"object"===typeof a&&"SPAN"===
a.nodeName&&-1<a.getAttribute("style").indexOf("font-weight")&&kc(this.w.c,"span",a)}a=this.c.sheet.cssRules;b="deleteRule";a||(a=this.c.sheet.rules,b="removeRule");try{for(var c=0,J=a.length;c<J;c++)this.c.sheet[b](0);this.c.parentNode.removeChild(this.c);this.c=null}catch(V){}};nb(gd);function hd(a){Uc.call(this,a,"Italic","italic",["em","i"])}Mb(hd,Uc);hd.prototype.Ba=function(){mc(this.w.c);this.w.ia.Ba(this.g,null,this.ma)};nb(hd);
function id(a){Uc.call(this,a,"Underline","underline",["u"])}Mb(id,Uc);id.prototype.Ba=function(){mc(this.w.c);this.w.ia.Ba(this.g,null,this.ma)};nb(id);function jd(a,b,c,d,e,g){Uc.apply(this,arguments);this.h={};this.c=null}Mb(jd,Uc);jd.prototype.init=function(a,b,c){!0===y(this.w,"useCssTextAlign")&&"object"===typeof y(this.w,"alignCssClass")&&(this.c=y(this.w,"alignCssClass"));return this.w.ia.A.apply(this.w.ia,arguments)};
jd.prototype.Ba=function(){if(rb(this.w.ia,Ab)){var a=vb(this.w.ia,Ab).setStyle(this.h);if(a){oc(this.w.ia,this.ma,a,!1);return}}kd(this,xb(this.w.c));this.w.ia.Ba(this.g,null,this.ma);if(null!==this.c){for(var a=xb(this.w.c),b=Hb(this.w).querySelectorAll("[style*=text-align]"),c=0,d=b.length;c<d;c++){var e=b[c],g=ld(this,b[c]);kd(this,e);null!==g&&e.classList.add(g);Ub(e,"class");b[c]===a&&(a=null)}null!==a&&(b=a,a=ld(this,a),kd(this,b),null!==a&&b.classList.add(a),Ub(b,"class"))}else a=xb(this.w.c),
null!==a&&a.hasAttribute("align")&&(a.style.textAlign=a.getAttribute("align"),a.removeAttribute("align"))};function kd(a,b){if("object"===typeof b&&null!=b&&b.nodeType==Node.ELEMENT_NODE&&(b.removeAttribute("align"),b.style.textAlign="",null!==a.c))for(var c in a.c)a.c.hasOwnProperty(c)&&b.classList.remove(a.c[c])}
function ld(a,b){var c=null;b.hasAttribute("align")&&a.c[b.getAttribute("align")]?(c=a.c[b.getAttribute("align")],b.removeAttribute("align")):b.style.textAlign&&a.c[b.style.textAlign]&&(c=a.c[b.style.textAlign],b.style.textAlign="",Ub(b,"style"));return c}function md(a){jd.call(this,a,"AlignJustify","justifyFull",[],["AlignCenter","AlignLeft","AlignRight"]);this.h={display:"block","float":"none",margin:"auto"}}Mb(md,jd);nb(md);
function nd(a){jd.call(this,a,"AlignCenter","justifyCenter",[],["AlignJustify","AlignLeft","AlignRight"]);this.h={display:"block","float":"none",margin:"auto"}}Mb(nd,jd);nb(nd);function od(a){jd.call(this,a,"AlignLeft","justifyLeft",[],["AlignJustify","AlignCenter","AlignRight"]);this.h={display:"block","float":"left"}}Mb(od,jd);nb(od);function pd(a){jd.call(this,a,"AlignRight","justifyRight",[],["AlignJustify","AlignCenter","AlignLeft"]);this.h={display:"block","float":"left"}}Mb(pd,jd);nb(pd);
function qd(a,b,c,d,e,g){Uc.apply(this,arguments);this.h=(this.A[0]||null||"").toUpperCase();this.c=null}Mb(qd,Uc);qd.prototype.init=function(a,b,c){this.w.ta.H("add",this.h,this.F.bind(this));this.w.ta.H("add","LI",this.m.bind(this));return this.w.ia.A.apply(this.w.ia,arguments)};
qd.prototype.F=function(a,b,c){if(c.previousElementSibling&&c.previousElementSibling.nodeName){if("LI"===c.previousElementSibling.nodeName&&(b=ec(this.w.c),a=parseInt(b.startOffset,10),b=parseInt(b.endOffset,10),c.previousElementSibling.appendChild(c),c.firstChild.firstChild&&c.firstChild.firstChild.nodeType===Node.TEXT_NODE))try{var d=document.createRange();d.setStart(c.firstChild.firstChild,a);d.setEnd(c.firstChild.firstChild,b);Kb(this.w.c,window.getSelection(),d)}catch(e){}null!==c.previousElementSibling&&
c.previousElementSibling.nodeName===this.h&&(null===c.nextElementSibling||null!==c.nextElementSibling&&"LI"!==c.nextElementSibling.nodeName)&&(c.previousElementSibling.innerHTML+=c.innerHTML,c.parentNode.removeChild(c))}};
qd.prototype.m=function(a,b,c){if(c.parentNode&&"LI"===c.parentNode.nodeName&&(b=ec(this.w.c),a=parseInt(b.startOffset,10),b=parseInt(b.endOffset,10),Tb(c,c.parentNode),c.firstChild&&c.firstChild.nodeType===Node.TEXT_NODE))try{var d=document.createRange();d.setStart(c.firstChild,a);d.setEnd(c.firstChild,b);Kb(this.w.c,window.getSelection(),d)}catch(e){}};
qd.prototype.Ba=function(){Vc(this)||Wc(this);tb(this.w.g)&&(this.c=this.w.m.createElement("p"),Hb(this.w).appendChild(this.c));var a=this.w.ia.Ba(this.g,null,this.ma);null!==this.c&&(this.w.m.remove(this.c),this.c=null);if(Wb(this.w.g)||Vb(this.w.g)){for(var b=this.w.c,c=a,d=["p"],e=!1,g=c;g!=Hb(b.w);){if("UL"==g.nodeName||"OL"==g.nodeName){e=!0;c=g;break}g=g.parentNode}if(e){for(var h,e=xb(b);e!=Hb(b.w)&&"LI"!=e.nodeName;)e=e.parentNode;var g=-1,k=e.parentNode.childNodes;h=0;for(var p=k.length;h<
p;h++)if(k[h]==e){g=h;break}h=g;e=ec(b).cloneRange();g=e.startOffset;k=e.endOffset;lc(b,c,["li"]);for(var p=c.parentNode,w=null;p!=Hb(b.w);)-1<d.indexOf(p.nodeName.toLowerCase())&&(w=p),p=p.parentNode;if(null!==w){w.parentNode.insertBefore(c,w);w.parentNode.removeChild(w);for(c=c.childNodes[h]?c.childNodes[h]:c;c.firstChild&&3!==c.nodeType;)c=c.firstChild;e.setStart(c,g);e.setEnd(c,k);c=b.getSelection();c.removeAllRanges();c.addRange(e);wb(b)}}else rb(b.w.ia,"Paragraph")&&vb(b.w.ia,"Paragraph").Ba()}d=
ec(this.w.c);b=[this.h,"LI"];c=!1;d=d.startContainer.parentNode;b=b||[];e=this.w.c.g;e=Fb(this.w.A,e,b);do{if(d===Hb(this.w))break;if(-1<e.indexOf(d.nodeName)){c=!0;break}}while(d=d.parentNode);c||(a=vb(this.w.ia,"Paragraph").Ba());this.w.c.ed(null,a)};function rd(a){qd.call(this,a,"OrderedList","insertOrderedList",["ol"],["UnorderedList"])}Mb(rd,qd);nb(rd);function sd(a){qd.call(this,a,"UnorderedList","insertUnorderedList",["ul"],["OrderedList"])}Mb(sd,qd);nb(sd);
function td(a){Uc.call(this,a,Bb,null,["a"],[],sb);this.m=!1;this.h=[];this.c=null}Mb(td,Uc);f=td.prototype;
f.Ba=function(){if("boolean"===typeof y(this.w,this.ma+".external")&&!0===y(this.w,this.ma+".external")){var a=xb(this.w.c);null===this.c&&null!==a&&"A"===a.nodeName&&(this.c=a);Cb(this.w.o);a={};if(null!==this.c)for(var b=0,c=this.c.attributes.length;b<c;b++)a[this.c.attributes[b].name]=this.c.attributes[b].value;b=this.w.c.Co();this.w.notify("moduleLink",{action:null===this.c?"insertLink":"modifyLink",process:null===this.c?this.lo.bind(this):this.vp.bind(this),cancel:this.w.ub.hide.bind(this.w.ub),
unlink:this.Ym.bind(this),attributes:a,object:this.w,coordinates:this.w.c.Co.bind(this.w.c)});!0===b.collapsed?this.w.ub.show(b):(Kb(this.w.c),this.w.focus())}else c=null!==this.c?this.up:this.np,a=this.w.o,b=this.Mz,c={buttons:[{text:this.w.M.get(null!==this.c?"modifyButton":"insertButton"),events:{click:c},type:"button"},{text:this.w.M.get("cancelButton"),events:{click:"popupManager.hideModal"},type:"button"}]},"undefined"!=typeof b&&"undefined"==typeof a.g[0]&&(a.g=Xb(a.w.A,Hb(a.w),y(a.w,"popups.modal.template.base")),
a.A=a.g[a.g.length-1],Nc(a,a.A,b),b=Xb(a.w.A,a.A,y(a.w,"popups.modal.template.close")),a.w.F.add(b[0],"click",a.F.bind(a),!0),a.h.modal.push(b[0]),Mc(a,a.A,c,a.types.Or,!1),b=a.A.querySelector("input"),"object"==typeof b&&b.focus(),a.o=!0)};f.np=function(){var a=this.Ig();this.lo(a);this.w.o.F();return!1};
f.lo=function(a,b){if("undefined"===typeof a.href||""===a.href)return null;var c=dc(this.w.A,a.href.trim());delete a.href;var d=null;1==-1<this.w.ia.c.indexOf("Image")?d=!1:((tb(this.w.g)||this.w.g.c)&&0==(!1===this.w.c.c.collapsed)&&jc(this.w.c,'<a href="'+c+'" > '+(b?b:c)+"</a>"+(this.w.g.c?"<br />":"")),d=this.w.ia.Ba("createLink",c,this.ma));if("object"===typeof d){null!=b&&d.innerHTML==c&&(d.innerHTML=b);for(var e in a)d.setAttribute(e,a[e]);qb(this.w.c,"end",d)}return d};
f.up=function(){if(null===this.c)return!1;var a=this.Ig();this.vp(a);this.w.o.F();Pc(this.w.o,this.ma);this.m=!1;this.c=null;return!1};f.Ig=function(){for(var a={},b=0,c=this.h.length;b<c;b++)"INPUT"==this.h[b].nodeName&&("target"==this.h[b].name&&1==this.h[b].checked?a.target="_blank":a[this.h[b].name]=this.h[b].value);return a};
f.vp=function(a){if(null===this.c){var b=xb(this.w.c);if(b&&"undefined"!==typeof b.nodeName&&"A"===b.nodeName)this.dh(b);else return null}"string"===typeof a.href&&(a.href=dc(this.w.A,a.href.trim()));for(var c in a)this.c.setAttribute(c,a[c]);return this.c};
f.Mz=function(a){this.h=Xb(this.w.A,a,y(this.w,this.ma),{});a=null!==this.c?this.up:this.np;for(var b,c=0,d=this.h.length;c<d;c++)"FORM"==this.h[c].nodeName?this.w.F.add(this.h[c],"submit",a,!0):null!==this.c&&"INPUT"==this.h[c].nodeName&&(b=this.c.getAttribute(this.h[c].name),null!=b&&("checkbox"==this.h[c].type?this.h[c].checked=!0:this.h[c].value=b))};
f.Ym=function(){var a=this.w.c.getSelection(),b=ec(this.w.c);ic(this.w.c,xb(this.w.c));document.execCommand("unlink",!1,null);Pc(this.w.o,this.ma);pc(this.w.ia,this.ma);Kb(this.w.c,a,b)};f.qy=function(){var a=vb(this.w.ia,"Image");ic(this.w.c,(!1).parentElement);document.execCommand("unlink",!1,null);a.eg();a.dh(!1)};f.Oz=function(a,b,c){a.href&&this.w.notify("onClickGoTo",c)};
f.dh=function(a){null!==this.c&&this.c!=a&&this.eg();if(!this.m||!this.w.o.L&&!this.w.o.o){var b;a:{if(1==a.hasChildNodes()){var c=a.childNodes;b=0;for(var d=c.length;b<d;b++)if("IMG"==c[b].nodeName){b=c[b];break a}}b=null}if(null!==b){if(c=this.w.o,d={buttons:[{text:this.w.M.get("modifyLinkButton"),events:{click:this.Ba.bind(this)},type:"text"},{text:this.w.M.get("removeLinkButton"),events:{click:this.qy.bind(this)},type:"text"}]},"undefined"!=typeof c.c[0]||c.v==b)Nc(c,c.m,null),Mc(c,c.m,d,c.types.An,
c.M),Oc(c,c.m,b)}else if(c=this.w.o,d=this.ma,b={buttons:[{text:this.w.M.get("goToLinkTitle"),attributes:{href:a.getAttribute("href"),target:0===a.getAttribute("href").indexOf("/")?"_self":"_blank",title:a.getAttribute("href")},events:{click:this.Oz.bind(this)},type:"link"},{text:this.w.M.get("modifyLinkButton"),events:{click:this.Ba.bind(this)},type:"button"},{text:this.w.M.get("removeLinkButton"),events:{click:this.Ym.bind(this)},type:"button"}]},"undefined"!=typeof c.c[0]&&c.v!=a&&Pc(c,void 0),
"undefined"!=typeof a&&"undefined"==typeof c.c[0]){c.P=d;var e=document.body,d=c.w.m.getPosition(a);c.c=Xb(c.w.A,e,y(c.w,"popups.popOver.template.base"));e=c.c[0];e.style.position="absolute";e.style.top=d.bottom+"px";yb(c.w.g)||(c.w.F.add(e,"mouseover",c.w.notify.bind(c.w,"mouseoverPopup",null)),c.w.F.add(e,"mouseout",c.w.notify.bind(c.w,"mouseoutPopup",null)));c.m=Yb(c.c);Nc(c,c.m,null);c.M=Mc(c,c.m,b,c.types.An,!1);Oc(c,c.c[0],a);c.L=!0}1!=this.m&&(this.w.F.add(Hb(this.w),"touchmove",this.Nz.bind(this)),
this.m=!0,this.c=a,oc(this.w.ia,this.ma,this.c,!1))}};f.eg=function(){Pc(this.w.o,this.ma);this.m=!1;this.c=null};f.Nz=function(){null!==this.c&&this.eg()};nb(td);function ud(a){Uc.call(this,a,"Undo")}Mb(ud,Uc);ud.prototype.init=function(a,b,c){b=$b(this.w.A,b);b.disabled=!0;this.w.message.subscribe("/snapshot/stack",function(){wc(this.w.ia,c,this.w.Te.Si())},this);return this.w.ia.A(a,b,c)};
ud.prototype.Ba=function(){if(this.w.Te.Si()){var a=this.w.Te;a.g=!0;var b=a.h[a.c];ub(a.w,b.startValue);Kb(a.w.c,b.selection,b.range);a.c--;Lc(a);Lb(a.w)}};nb(ud);function vd(a){Uc.call(this,a,"Redo")}Mb(vd,Uc);vd.prototype.init=function(a,b,c){b=$b(this.w.A,b);b.disabled=!0;this.w.message.subscribe("/snapshot/stack",function(){wc(this.w.ia,c,this.w.Te.Ri())},this);return this.w.ia.A(a,b,c)};
vd.prototype.Ba=function(){if(this.w.Te.Ri()){var a=this.w.Te;a.g=!0;a.c++;var b=a.h[a.c];ub(a.w,b.newValue);Kb(a.w.c,b.selection,b.range);Lc(a);Lb(a.w)}};nb(vd);function wd(a){Uc.call(this,a,"ColorFont","foreColor");this.h={};this.F=null;this.m={};this.c=null;this.o={ws:"data-wsw-color-id",ao:"data-wsw-color-hex"}}Mb(wd,Uc);f=wd.prototype;
f.init=function(a,b,c){b=y(this.w,this.ma+".template");this.c="undefined"===typeof b||"undefined"===typeof b.base||"undefined"===typeof b.group||"undefined"===typeof b.item||"undefined"===typeof b.breakline?null:b;if(null!==this.c&&(y(this.w,this.ma+".colors")instanceof Array||y(this.w,this.ma+".onlyCustomColors")&&y(this.w,"frontColors")instanceof Array)){this.w.ta.H("add","FONT",this.Iv.bind(this));var d=this.w.L;b=this.Es.bind(this);d.h.push(c);d.c[c]={};a=Rc(d,a,c);null===a?a=null:(b(a),a=void 0);
return a}return[]};f.Iv=function(a,b,c){xd(this,c);ic(this.w.c,c)};function xd(a,b){b.hasAttribute("color")&&"string"===typeof a.m[b.getAttribute("color")]&&(b.setAttribute("class",a.m[b.getAttribute("color")]),b.removeAttribute("color"))}
f.Es=function(a){a=Yb(Xb(this.w.A,a,this.c.base));var b=+(y(this.w,"colorItemsPerRow")||y(this.w,this.ma+".colorItemsPerRow"));y(this.w,this.ma+".onlyCustomColors")?yd(this,a,y(this.w,"frontColors"),b):y(this.w,this.ma+".colors")instanceof Array&&yd(this,a,y(this.w,this.ma+".colors"),b);this.w.F.add(a,"click",this.at.bind(this),!0)};
function yd(a,b,c,d){for(var e=null,g=0,h=c.length;g<h;g++){var e=Yb(Xb(a.w.A,b,a.c.group)),k=a,p=e,w=c[g],v=d,C=void 0,G=void 0;w instanceof Array?G=w:(G=Object.keys(w),C=w);for(var J=w=void 0,V=0,Va=G.length;V<Va;V++)"object"===typeof C&&"string"===typeof C[G[V]]?(w=G[V],J=C[G[V]]):(w=G[V],J=G[V]),zd(k,p,w,J),0===(V+1)%v&&Xb(k.w.A,p,k.c.breakline)}zd(a,e,"default")}
function zd(a,b,c,d){b=Xb(a.w.A,b,a.c.item);b[0].setAttribute(a.o.ws,c);b[0].setAttribute(a.o.ao,d||c);d&&(b[0].style.backgroundColor=d,d!==c&&(a.m[d]=c));a.h[c]=b[0]}f.at=function(a,b){mc(this.w.c);var c=b.getAttribute(this.o.ao),d=this.g,e=c;"default"==c&&(d="removeFormat",e="foreColor");this.w.ia.Ba(d,e,this.ma);c=xb(this.w.c);if(null!==c){if(!Sb(c,"font")){c=c.querySelector("font[color]");if(!c)return;ic(this.w.c,c)}xd(this,c)}};
f.Ba=function(){Sc(this.w.L,this.ma);var a=xb(this.w.c);null!==a&&(a=Ad(this,a),"string"===typeof this.m[a]&&(a=this.m[a]),this.h[a]instanceof Element&&this.F!==this.h[a]&&(null!==this.F&&this.F.classList.remove("selected"),this.F=this.h[a],this.F.classList.add("selected")))};
function Ad(a,b){do if(b.nodeType===Node.ELEMENT_NODE){if("function"!==typeof b.hasAttribute)break;if(b.hasAttribute("class"))for(var c=0,d=b.classList.length;c<d;c++)if(a.h[b.classList.item(c)]instanceof Element)return b.classList.item(c);if(b.hasAttribute("color"))return b.getAttribute("color");if(b.hasAttribute("style")&&b.style.color)return b.style.color}while((b=b.parentNode)&&b!==Hb(a.w));return"default"}nb(wd);function Bd(a,b,c,d,e,g){Uc.apply(this,arguments)}Mb(Bd,Uc);
Bd.prototype.Ba=function(){mc(this.w.c);if(!0!==y(this.w,"useCssFontSize"))for(var a=Hb(this.w).querySelectorAll("font[style]"),b=0,c=a.length;b<c;b++){var d=Cd(a[b]);a[b].setAttribute("data-wsw-font-size",d)}this.w.ia.Ba("fontSize",y(this.w,this.ma+".defaultSize"),this.ma);a=Hb(this.w).querySelectorAll('font[size="4"]');b=0;for(c=a.length;b<c;b++)if(a[b].removeAttribute("size"),!(parseInt(this.w.m.getStyle(a[b],"font-size",!0),10)<=y(this.w,this.ma+".minSizePx")))if(!0===y(this.w,"useCssFontSize")){var d=
a[b],e=y(this.w,this.ma+".cssPrefix"),g;a:{g=d;for(var h=e,k=0,p=g.classList.length;k<p;k++)if(-1<g.classList.item(k).indexOf(h)){g=Number(g.classList.item(k).replace(h,""));break a}g=100}this.h(g)||(d.classList.remove(e+g),g=this.c(g),100==g?Ub(d,"class"):d.classList.add(e+g))}else d=a[b],e=Cd(d),this.h(e)||(e=this.c(e),100==e?(d.style.fontSize="",Ub(d,"style")):d.style.fontSize=e+"%");if(!0!==y(this.w,"useCssFontSize"))for(a=Hb(this.w).querySelectorAll("font[data-wsw-font-size]"),b=0,c=a.length;b<
c;b++)a[b].removeAttribute("data-wsw-font-size");Lb(this.w);pc(this.w.ia,this.ma)};function Cd(a){return a.hasAttribute("data-wsw-font-size")?parseInt(a.getAttribute("data-wsw-font-size"),10):a.style.fontSize?parseInt(a.style.fontSize,10):100}function Dd(a){Bd.call(this,a,"DecreaseFont")}Mb(Dd,Bd);Dd.prototype.c=function(a){return a-parseInt(y(this.w,this.ma+".changePercents"),10)};Dd.prototype.h=function(a){return a<=parseInt(y(this.w,this.ma+".minPercentSize"),10)};nb(Dd);
function Ed(a){Bd.call(this,a,"IncreaseFont")}Mb(Ed,Bd);Ed.prototype.c=function(a){return a+parseInt(y(this.w,this.ma+".changePercents"),10)};Ed.prototype.h=function(a){return a>=parseInt(y(this.w,this.ma+".maxPercentSize"),10)};nb(Ed);function Fd(a){Uc.call(this,a,"SelectBlockAlign");this.c=["AlignLeft","AlignCenter","AlignRight","AlignJustify"]}Mb(Fd,Uc);Fd.prototype.init=function(a,b,c){return this.w.L.create(a,b,c,this.c)};Fd.prototype.Ba=function(){Sc(this.w.L,this.ma)};nb(Fd);
function Gd(a){Uc.call(this,a,"SelectBlockFormat");this.c=[sb,"Heading1","Heading2","Heading3","Heading4","Blockquote"]}Mb(Gd,Uc);Gd.prototype.init=function(a,b,c){var d=y(this.w,"allowedFormats");Array.isArray(d)&&(this.c=d);a=this.w.L.create(a,b,c,this.c);(b=xb(this.w.c))&&this.w.c.ed(null,b);return a};Gd.prototype.Ba=function(){Sc(this.w.L,this.ma)};nb(Gd);function Hd(a){Uc.call(this,a,"Wnd2Delete")}Mb(Hd,Uc);Hd.prototype.Ba=function(){this.w.notify("wnd2Delete",null)};nb(Hd);
function Id(a){Uc.call(this,a,Ab,"insertImage",["img"])}Mb(Id,Uc);f=Id.prototype;f.init=function(){return[]};f.Ba=function(){return!1};f.dh=function(){return!1};f.eg=function(){return!1};f.setStyle=function(){return!1};function Eb(){this.identifier="";this.c={}}Eb.prototype.$c=function(){return this.identifier};
function Jd(){Eb.call(this);this.identifier="wnd";this.c={type:"inline",cursorPosition:"start",setCursor:!0,editors:{inline:{className:"wnd-wsw"}},pasteCleaner:{allowedTags:"p blockquote h1 h2 h3 h4 li ul ol strong em a br".split(" "),unnecessaryTags:["a","span","hr"],unnecessaryAttrs:"id class style name cellspacing cellpadding valign start face itemprop data-[\\w|-]*?".split(" "),semanticTags:[["b","strong"],["i","em"],["h5","p"],["h6","p"]],unwantedTags:"applet embed noframes noscript iframe form videoplayer".split(" "),
replaceTableTags:[["table",""],["thead",""],["tbody",""],["tfoot",""],["tr","<br>"],["td"," "],["th"," "]],replaceHtmlEntityNames:[["&nbsp;"," "]]},contentAnalyzer:{listsMarks:["\u00b7","-","\u30fb","\u25cf","\u25bd"]},toolbars:{inline:{template:[["span",{className:"wnd-base wnd-wsw-toolbar-area",unselectable:"on"},[["span",{className:"wnd-wsw-toolbar"},[["span",{className:"wnd-wsw-toolbar-arrow"}],["span",{className:"wnd-wsw-toolbar-in"}]]]]]],switcher:{button:{template:[["span",{className:"wnd-wsw-switcher-button",
"data-type":"toolbarSwitcher"}]]},area:{template:[["span",{className:"wnd-wsw-switcher-area"}]]}},blocks:{basic:{template:[["span",{className:"wnd-wsw-toolbar-block"}]],modules:[["Bold","Italic"],["SelectBlockFormat"],["SelectBlockAlign"],[Bb],["OrderedList","UnorderedList"],["Undo","Redo"]],visible:!0},extend:{template:[["span",{className:"wnd-wsw-toolbar-block"}]],modules:[["Outdent","Indent"],["IncreaseFont","DecreaseFont"],["ColorFont"]],visible:!1}},group:[["span",{className:"wnd-wsw-toolbar-group"}]],
fromRightClass:"from-right",spacing:{top:0,right:0,bottom:0,left:0},topOffset:60,heightCorrection:10}},buttons:{inline:{template:[["span",{className:"wnd-wsw-button",_prefix:"module"},[["b"]]]],overClass:"over",activeClass:"active",disabledClass:"disabled",useTitle:!1}},popups:{modals:{inline:{template:{base:[["span",{className:"wnd-wsw-modal"},[["span",{className:"wnd-wsw-modal-content"}]]]],close:[["b",{className:"wnd-wsw-modal-close"}]],buttons:{area:[["span",{className:"wnd-wsw-modal-buttons"}]],
button:[["button",{className:"wnd-wsw-modal-button"},[["u"]]]],link:[["a",{className:"wnd-wsw-modal-link"}]]}}}},popOvers:{inline:{template:{base:[["div",{className:"wnd-base wnd-wsw-bubble"},[["i",{className:"wnd-wsw-bubble-arrow"}],["div",{className:"wnd-wsw-bubble-in"}]]]]}}}},Link:{external:!0},Indent:{marginLeft:1,unit:"rem"},Outdent:{marginLeft:1,unit:"rem",widthPercentage:33},Paragraph:{textual:!0},Heading1:{textual:!0,excludeModules:["Blockquote"]},Heading2:{textual:!0,excludeModules:["Blockquote"]},
Heading3:{textual:!0,excludeModules:["Blockquote"]},Heading4:{textual:!0,excludeModules:["Blockquote"]},Blockquote:{textual:!0},SelectBox:{template:{base:[["span",{className:"wnd-wsw-select"}]],button:[["span",{className:"wnd-wsw-button"}]],list:[["span",{className:"wnd-wsw-select-list"},[["span",{className:"wnd-wsw-select-list-in"}]]]]},className:{textual:"textual",opened:"opened"}},ColorFont:{template:{base:[["span",{className:"wnd-wsw-cf"}]],group:[["span",{className:"cf-group"}]],item:[["span",
{className:"cf-item"}]],breakline:[["br"]]},onlyCustomColors:!0,colorItemsPerRow:10},IncreaseFont:{maxPercentSize:200,changePercents:10,defaultSize:4,cssPrefix:"wnd-font-size-"},DecreaseFont:{minPercentSize:10,minSizePx:12,changePercents:10,defaultSize:4,cssPrefix:"wnd-font-size-"},emptinessTest:{allowedTags:["p","blockquote","a","img"]},regex:{urlRegex:/\(?(?:(http|https|ftp):\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|localhost(?=\/)|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/g,
emailShortRegex:/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-\.]+?\.[a-zA-Z]{2,20}$/g,phoneRegex:/^tel:\+?([0-9\-])+$/},alignCssClass:{right:"wnd-align-right",left:"wnd-align-left",center:"wnd-align-center",justify:"wnd-align-justify"},marginViaCss:{prefix:"wnd-offset-",levels:5}}}Mb(Jd,Eb);kb.push(Jd);function yc(){this.c="";this.Ck={}}
function Kd(){yc.call(this);this.c="*";this.Ck={modifyLinkButton:"Edit link",goToLinkTitle:"Go to",removeLinkButton:"Remove",emptySelectBox:"Format",moduleParagraph:"Normal",moduleHeading1:"Heading 1",moduleHeading2:"Heading 2",moduleHeading3:"Heading 3",moduleHeading4:"Heading 4",moduleBold:"Bold",moduleItalic:"Italic",moduleUnderline:"Underline",moduleAlignLeft:"Left",moduleAlignCenter:"Center",moduleOrderedList:"Numbered List",moduleUnorderedList:"Bulleted List",moduleBlockquote:"Blockquote",moduleLink:"Link",
moduleUndo:"Undo",moduleRedo:"Redo"}}Mb(Kd,yc);var Ld=new Kd;mb[Ld.c]=Ld;var Md={rootPageId:5E7,systemIdBoundary:2E8,PagesAdmin:{popupIdentifier:"wnd-page-settings",contentGroups:{PM_DEFAULT:"pm-default",PM_ADD_PAGE:"pm-add-page",PM_LANGUAGE_SWITCHER:"pm-language-switcher",PM_PATTERNS:"pm-patterns",PM_NEW_PAGE_FORM:"pm-new-page-form"},dataSettings:{filter:[{prefix:"(",key:"gui_pages.sys_page",operator:"=",value:0,suffix:"OR"},{prefix:"(",key:"gui_pages.sys_page",operator:"=",value:1,suffix:"AND"},{prefix:"",key:"gui_pages.disabled",operator:"=",value:0,suffix:"))"}],orderBy:{key:"gui_pages.item_order",
order:"asc"}},mainContent:{height:"calc(100% - 56px)",width:"100%"}},DefaultPopupProperties:{"wnd.pm.AddNewPagePopup":{width:840,height:525},"wnd.pm.PagesAdminPopup":{width:840,height:480}},AddNewPagePatterns:{width:"100%",height:410},AddNewPagePattern:{selectedClassName:"selected"},AddNewPagePopup:{animation:{fadeIn:{time:300,start:.2,end:1},resize:{time:300,start:[0,0]}},formContent:{width:480,height:220,tooltipHeight:240}},ModuleDataEventFilter:["gui_pages","fe_languages","server_projects","project_info"],
PagesTree:{width:307,height:"full",css:{"item-id-prefix":"wnd_gui_pages_item_","group-id-prefix":"wnd_gui_pages_group_","item-locked":"wnd-item-locked"}},PageEdit:{homepageIdentifier:"home",width:533},NewPageForm:{width:"100%",height:100,tooltipHeight:120},TooLongPageName:{notice:11,warning:19}};var Nd={DefaultPopupProperties:{"wnd.ps.SettingsPopup":{width:840,height:480},"wnd.ps.AddLanguagePopup":{width:470,height:246}},ModuleDataEventFilter:["project_info","fe_languages","server_projects","gui_pages"],SettingsMenu:{settingsItems:{"default":"wnd.ps.GeneralSettings wnd.ps.Domains wnd.ps.EmailAccounts wnd.ps.WebsiteEditors wnd.ps.SiteSettings wnd.ps.BackupAndRecovery wnd.ps.WebsiteLanguages wnd.ps.BlogSettings".split(" ")},width:256,height:"full",translatedTypes:{}},AddLanguageForm:{width:"100%",
height:115},SettingsPopupContent:{width:583,height:420},SiteSettings:{formContent:{height:360}},BlogSettings:{formContent:{height:360}},MemberLoginSettings:{formContent:{height:360}},Rating:{Undesirable:1,MediumRisk:2,SlightRisk:3,MostlyOK:4,DefinitelyOK:5}};var Od={DefaultPopupProperties:{"wnd.tb.MyAccountBubble":{width:300,height:160}},ModuleDataEventFilter:["fe_languages","project_info","filesystem_files"],NotEnoughStorage:{limit:80},NotEnoughBandwidth:{limit:80},ToolbarContent:{mvcId:"ToolbarContent",cssIdentifier:"wnd_toolbar",buttonIdentifier:"wnd-tb-button",publishCookieAge:120,publishTimeout:1E4,notEnoughStorageTimeout:2E3},MyAccount:{defaultUserName:"---",defaultProjectsUri:"http://www.webnode.com/"}};var Pd;var Qd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Rd(){0!=Sd&&(Td[oa(this)]=this);this.ub=this.ub;this.Jf=this.Jf}var Sd=0,Td={};Rd.prototype.ub=!1;Rd.prototype.dispose=function(){if(!this.ub&&(this.ub=!0,this.X(),0!=Sd)){var a=oa(this);delete Td[a]}};function Ud(a,b){a.ub?b.call(void 0):(a.Jf||(a.Jf=[]),a.Jf.push(l(void 0)?m(b,void 0):b))}Rd.prototype.X=function(){if(this.Jf)for(;this.Jf.length;)this.Jf.shift()()};function Vd(a){a&&"function"==typeof a.dispose&&a.dispose()};var Wd;function Xd(a,b){this.type=a;this.currentTarget=this.target=b;this.g=!1;this.nq=!0}Xd.prototype.stopPropagation=function(){this.g=!0};Xd.prototype.preventDefault=function(){this.nq=!1};var Yd="closure_listenable_"+(1E6*Math.random()|0);function Zd(a){return!(!a||!a[Yd])}var $d=0;function ae(a,b,c,d,e){this.listener=a;this.c=null;this.src=b;this.type=c;this.Ti=!!d;this.Lj=e;this.key=++$d;this.jh=this.Pi=!1}function be(a){a.jh=!0;a.listener=null;a.c=null;a.src=null;a.Lj=null};function ce(a){return Math.pow(a,3)}function de(a){return 1-Math.pow(1-a,3)};var ee={Pr:"y",YB:"y G",ZB:"MMM y",Qr:"MMMM y",KB:"MMM d",LB:"MMMM dd",NB:"M/d",MB:"MMMM d",OB:"MMM d, y",WB:"EEE, MMM d",XB:"EEE, MMM d, y",EB:"d"};var fe,ge={Nb:["p\u0159. n. l.","n. l."],Mb:["p\u0159. n. l.","n. l."],Pb:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ub:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ob:"ledna \u00fanora b\u0159ezna dubna kv\u011btna \u010dervna \u010dervence srpna z\u00e1\u0159\u00ed \u0159\u00edjna listopadu prosince".split(" "),ob:"leden \u00fanor b\u0159ezen duben kv\u011bten \u010derven \u010dervenec srpen z\u00e1\u0159\u00ed \u0159\u00edjen listopad prosinec".split(" "),Rb:"led \u00fano b\u0159e dub kv\u011b \u010dvn \u010dvc srp z\u00e1\u0159 \u0159\u00edj lis pro".split(" "),
Vb:"led \u00fano b\u0159e dub kv\u011b \u010dvn \u010dvc srp z\u00e1\u0159 \u0159\u00edj lis pro".split(" "),Xb:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dtvrtek p\u00e1tek sobota".split(" "),Wb:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dtvrtek p\u00e1tek sobota".split(" "),Tb:"ne po \u00fat st \u010dt p\u00e1 so".split(" "),yb:"ne po \u00fat st \u010dt p\u00e1 so".split(" "),c:"NP\u00daS\u010cPS".split(""),Cb:"NP\u00daS\u010cPS".split(""),Sb:["Q1","Q2",
"Q3","Q4"],Qb:["1. \u010dtvrtlet\u00ed","2. \u010dtvrtlet\u00ed","3. \u010dtvrtlet\u00ed","4. \u010dtvrtlet\u00ed"],Kb:["dop.","odp."],vb:["EEEE d. MMMM y","d. MMMM y","d. M. y","dd.MM.yy"],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},he={Nb:["f.Kr.","e.Kr."],Mb:["f.Kr.","e.Kr."],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januar februar marts april maj juni juli august september oktober november december".split(" "),
ob:"januar februar marts april maj juni juli august september oktober november december".split(" "),Rb:"jan. feb. mar. apr. maj jun. jul. aug. sep. okt. nov. dec.".split(" "),Vb:"jan feb mar apr maj jun jul aug sep okt nov dec".split(" "),Xb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),Wb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),Tb:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),yb:"s\u00f8n man tir ons tor fre l\u00f8r".split(" "),
c:"SMTOTFL".split(""),Cb:"SMTOTFL".split(""),Sb:["1. kvt.","2. kvt.","3. kvt.","4. kvt."],Qb:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],Kb:["AM","PM"],vb:["EEEE 'den' d. MMMM y","d. MMMM y","d. MMM y","dd/MM/y"],Db:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],Lb:["{1} 'kl'. {0}","{1} 'kl'. {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},ie={Nb:["v. Chr.","n. Chr."],Mb:["v. Chr.","n. Chr."],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),
ob:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),Rb:"Jan. Feb. M\u00e4rz Apr. Mai Juni Juli Aug. Sep. Okt. Nov. Dez.".split(" "),Vb:"Jan Feb M\u00e4r Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),Xb:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),Wb:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),Tb:"So. Mo. Di. Mi. Do. Fr. Sa.".split(" "),yb:"So Mo Di Mi Do Fr Sa".split(" "),c:"SMDMDFS".split(""),
Cb:"SMDMDFS".split(""),Sb:["Q1","Q2","Q3","Q4"],Qb:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"],Kb:["vorm.","nachm."],vb:["EEEE, d. MMMM y","d. MMMM y","dd.MM.y","dd.MM.yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} 'um' {0}","{1} 'um' {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:3},je={Nb:["\u03c0.\u03a7.","\u03bc.\u03a7."],Mb:["\u03c0\u03c1\u03bf \u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd","\u03bc\u03b5\u03c4\u03ac \u03a7\u03c1\u03b9\u03c3\u03c4\u03cc\u03bd"],Pb:"\u0399\u03a6\u039c\u0391\u039c\u0399\u0399\u0391\u03a3\u039f\u039d\u0394".split(""),
Ub:"\u0399\u03a6\u039c\u0391\u039c\u0399\u0399\u0391\u03a3\u039f\u039d\u0394".split(""),Ob:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5 \u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5 \u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5 \u039c\u03b1\u0390\u03bf\u03c5 \u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5 \u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5 \u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5 \u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5 \u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5 \u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5 \u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split(" "),
ob:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2 \u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2 \u039c\u03ac\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2 \u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2 \u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2 \u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split(" "),
Rb:"\u0399\u03b1\u03bd \u03a6\u03b5\u03b2 \u039c\u03b1\u03c1 \u0391\u03c0\u03c1 \u039c\u03b1\u0390 \u0399\u03bf\u03c5\u03bd \u0399\u03bf\u03c5\u03bb \u0391\u03c5\u03b3 \u03a3\u03b5\u03c0 \u039f\u03ba\u03c4 \u039d\u03bf\u03b5 \u0394\u03b5\u03ba".split(" "),Vb:"\u0399\u03b1\u03bd \u03a6\u03b5\u03b2 \u039c\u03ac\u03c1 \u0391\u03c0\u03c1 \u039c\u03ac\u03b9 \u0399\u03bf\u03cd\u03bd \u0399\u03bf\u03cd\u03bb \u0391\u03cd\u03b3 \u03a3\u03b5\u03c0 \u039f\u03ba\u03c4 \u039d\u03bf\u03ad \u0394\u03b5\u03ba".split(" "),
Xb:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae \u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1 \u03a4\u03c1\u03af\u03c4\u03b7 \u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7 \u03a0\u03ad\u03bc\u03c0\u03c4\u03b7 \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae \u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split(" "),Wb:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae \u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1 \u03a4\u03c1\u03af\u03c4\u03b7 \u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7 \u03a0\u03ad\u03bc\u03c0\u03c4\u03b7 \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae \u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split(" "),
Tb:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03af \u03a4\u03b5\u03c4 \u03a0\u03ad\u03bc \u03a0\u03b1\u03c1 \u03a3\u03ac\u03b2".split(" "),yb:"\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03af \u03a4\u03b5\u03c4 \u03a0\u03ad\u03bc \u03a0\u03b1\u03c1 \u03a3\u03ac\u03b2".split(" "),c:"\u039a\u0394\u03a4\u03a4\u03a0\u03a0\u03a3".split(""),Cb:"\u039a\u0394\u03a4\u03a4\u03a0\u03a0\u03a3".split(""),Sb:["\u03a41","\u03a42","\u03a43","\u03a44"],Qb:["1\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf",
"2\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf","3\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf","4\u03bf \u03c4\u03c1\u03af\u03bc\u03b7\u03bd\u03bf"],Kb:["\u03c0.\u03bc.","\u03bc.\u03bc."],vb:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],Db:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Lb:["{1} - {0}","{1} - {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:3},ke={Nb:["BC","AD"],Mb:["Before Christ","Anno Domini"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"January February March April May June July August September October November December".split(" "),
ob:"January February March April May June July August September October November December".split(" "),Rb:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vb:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xb:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Wb:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Tb:"Sun Mon Tue Wed Thu Fri Sat".split(" "),yb:"Sun Mon Tue Wed Thu Fri Sat".split(" "),c:"SMTWTFS".split(""),Cb:"SMTWTFS".split(""),
Sb:["Q1","Q2","Q3","Q4"],Qb:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Kb:["AM","PM"],vb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Db:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Lb:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],wb:6,Eb:[5,6],xb:5},le={Nb:["a. C.","d. C."],Mb:["antes de Cristo","despu\u00e9s de Cristo"],Pb:"EFMAMJJASOND".split(""),Ub:"EFMAMJJASOND".split(""),Ob:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),
ob:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),Rb:"ene. feb. mar. abr. may. jun. jul. ago. sept. oct. nov. dic.".split(" "),Vb:"ene. feb. mar. abr. may. jun. jul. ago. sept. oct. nov. dic.".split(" "),Xb:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),Wb:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),Tb:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),yb:"dom. lun. mar. mi\u00e9. jue. vie. s\u00e1b.".split(" "),
c:"DLMXJVS".split(""),Cb:"DLMXJVS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1.er trimestre","2.\u00ba trimestre","3.er trimestre","4.\u00ba trimestre"],Kb:["a. m.","p. m."],vb:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d MMM y","d/M/yy"],Db:["H:mm:ss (zzzz)","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1}, {0}","{1}, {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},me={Nb:["eKr.","jKr."],Mb:["ennen Kristuksen syntym\u00e4\u00e4","j\u00e4lkeen Kristuksen syntym\u00e4n"],Pb:"THMHTKHESLMJ".split(""),Ub:"THMHTKHESLMJ".split(""),
Ob:"tammikuuta helmikuuta maaliskuuta huhtikuuta toukokuuta kes\u00e4kuuta hein\u00e4kuuta elokuuta syyskuuta lokakuuta marraskuuta joulukuuta".split(" "),ob:"tammikuu helmikuu maaliskuu huhtikuu toukokuu kes\u00e4kuu hein\u00e4kuu elokuu syyskuu lokakuu marraskuu joulukuu".split(" "),Rb:"tammikuuta helmikuuta maaliskuuta huhtikuuta toukokuuta kes\u00e4kuuta hein\u00e4kuuta elokuuta syyskuuta lokakuuta marraskuuta joulukuuta".split(" "),Vb:"tammi helmi maalis huhti touko kes\u00e4 hein\u00e4 elo syys loka marras joulu".split(" "),
Xb:"sunnuntaina maanantaina tiistaina keskiviikkona torstaina perjantaina lauantaina".split(" "),Wb:"sunnuntai maanantai tiistai keskiviikko torstai perjantai lauantai".split(" "),Tb:"su ma ti ke to pe la".split(" "),yb:"su ma ti ke to pe la".split(" "),c:"SMTKTPL".split(""),Cb:"SMTKTPL".split(""),Sb:["1. nelj.","2. nelj.","3. nelj.","4. nelj."],Qb:["1. nelj\u00e4nnes","2. nelj\u00e4nnes","3. nelj\u00e4nnes","4. nelj\u00e4nnes"],Kb:["ap.","ip."],vb:["cccc d. MMMM y","d. MMMM y","d.M.y","d.M.y"],Db:["H.mm.ss zzzz",
"H.mm.ss z","H.mm.ss","H.mm"],Lb:["{1} 'klo' {0}","{1} 'klo' {0}","{1} 'klo' {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},ne={Nb:["av. J.-C.","ap. J.-C."],Mb:["avant J\u00e9sus-Christ","apr\u00e8s J\u00e9sus-Christ"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),ob:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),Rb:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),
Vb:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),Xb:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),Wb:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),Tb:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),yb:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),c:"DLMMJVS".split(""),Cb:"DLMMJVS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1er trimestre","2e trimestre","3e trimestre","4e trimestre"],Kb:["AM","PM"],vb:["EEEE d MMMM y",
"d MMMM y","d MMM y","dd/MM/y"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} '\u00e0' {0}","{1} '\u00e0' {0}","{1} '\u00e0' {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},oe={Nb:["pr. Kr.","p. Kr."],Mb:["prije Krista","poslije Krista"],Pb:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),Ub:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),Ob:"sije\u010dnja velja\u010de o\u017eujka travnja svibnja lipnja srpnja kolovoza rujna listopada studenoga prosinca".split(" "),ob:"sije\u010danj velja\u010da o\u017eujak travanj svibanj lipanj srpanj kolovoz rujan listopad studeni prosinac".split(" "),
Rb:"sij velj o\u017eu tra svi lip srp kol ruj lis stu pro".split(" "),Vb:"sij velj o\u017eu tra svi lip srp kol ruj lis stu pro".split(" "),Xb:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),Wb:"nedjelja ponedjeljak utorak srijeda \u010detvrtak petak subota".split(" "),Tb:"ned pon uto sri \u010det pet sub".split(" "),yb:"ned pon uto sri \u010det pet sub".split(" "),c:"NPUS\u010cPS".split(""),Cb:"npus\u010dps".split(""),Sb:["1kv","2kv","3kv","4kv"],Qb:["1. kvartal","2. kvartal",
"3. kvartal","4. kvartal"],Kb:["AM","PM"],vb:["EEEE, d. MMMM y.","d. MMMM y.","d. MMM y.","dd.MM.y."],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} 'u' {0}","{1} 'u' {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:6},pe={Nb:["i. e.","i. sz."],Mb:["id\u0151sz\u00e1m\u00edt\u00e1sunk el\u0151tt","id\u0151sz\u00e1m\u00edt\u00e1sunk szerint"],Pb:"J F M \u00c1 M J J A Sz O N D".split(" "),Ub:"J F M \u00c1 M J J A Sz O N D".split(" "),Ob:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),
ob:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),Rb:"jan. febr. m\u00e1rc. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" "),Vb:"jan. febr. m\u00e1rc. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" "),Xb:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),Wb:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),
Tb:"V H K Sze Cs P Szo".split(" "),yb:"V H K Sze Cs P Szo".split(" "),c:"V H K Sz Cs P Sz".split(" "),Cb:"V H K Sz Cs P Sz".split(" "),Sb:["N1","N2","N3","N4"],Qb:["I. negyed\u00e9v","II. negyed\u00e9v","III. negyed\u00e9v","IV. negyed\u00e9v"],Kb:["de.","du."],vb:["y. MMMM d., EEEE","y. MMMM d.","y. MMM d.","y. MM. dd."],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},qe={Nb:["a.C.","d.C."],Mb:["a.C.","d.C."],Pb:"GFMAMGLASOND".split(""),
Ub:"GFMAMGLASOND".split(""),Ob:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),ob:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),Rb:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),Vb:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),Xb:"domenica luned\u00ec marted\u00ec mercoled\u00ec gioved\u00ec venerd\u00ec sabato".split(" "),Wb:"Domenica Luned\u00ec Marted\u00ec Mercoled\u00ec Gioved\u00ec Venerd\u00ec Sabato".split(" "),
Tb:"dom lun mar mer gio ven sab".split(" "),yb:"dom lun mar mer gio ven sab".split(" "),c:"DLMMGVS".split(""),Cb:"DLMMGVS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1\u00ba trimestre","2\u00ba trimestre","3\u00ba trimestre","4\u00ba trimestre"],Kb:["AM","PM"],vb:["EEEE d MMMM y","d MMMM y","dd MMM y","dd/MM/yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:3},re={Nb:["\u7d00\u5143\u524d","\u897f\u66a6"],Mb:["\u7d00\u5143\u524d",
"\u897f\u66a6"],Pb:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ub:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),Ob:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),ob:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),Rb:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),Vb:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
Xb:"\u65e5\u66dc\u65e5 \u6708\u66dc\u65e5 \u706b\u66dc\u65e5 \u6c34\u66dc\u65e5 \u6728\u66dc\u65e5 \u91d1\u66dc\u65e5 \u571f\u66dc\u65e5".split(" "),Wb:"\u65e5\u66dc\u65e5 \u6708\u66dc\u65e5 \u706b\u66dc\u65e5 \u6c34\u66dc\u65e5 \u6728\u66dc\u65e5 \u91d1\u66dc\u65e5 \u571f\u66dc\u65e5".split(" "),Tb:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),yb:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),c:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),Cb:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),
Sb:["Q1","Q2","Q3","Q4"],Qb:["\u7b2c1\u56db\u534a\u671f","\u7b2c2\u56db\u534a\u671f","\u7b2c3\u56db\u534a\u671f","\u7b2c4\u56db\u534a\u671f"],Kb:["\u5348\u524d","\u5348\u5f8c"],vb:["y\u5e74M\u6708d\u65e5EEEE","y\u5e74M\u6708d\u65e5","y/MM/dd","y/MM/dd"],Db:["H\u6642mm\u5206ss\u79d2 zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:6,Eb:[5,6],xb:5},se={Nb:["p.m.\u0113.","m.\u0113."],Mb:["pirms m\u016bsu \u0113ras","m\u016bsu \u0113r\u0101"],Pb:"JFMAMJJASOND".split(""),
Ub:"JFMAMJJASOND".split(""),Ob:"janv\u0101ris febru\u0101ris marts apr\u012blis maijs j\u016bnijs j\u016blijs augusts septembris oktobris novembris decembris".split(" "),ob:"Janv\u0101ris Febru\u0101ris Marts Apr\u012blis Maijs J\u016bnijs J\u016blijs Augusts Septembris Oktobris Novembris Decembris".split(" "),Rb:"janv. febr. marts apr. maijs j\u016bn. j\u016bl. aug. sept. okt. nov. dec.".split(" "),Vb:"Janv. Febr. Marts Apr. Maijs J\u016bn. J\u016bl. Aug. Sept. Okt. Nov. Dec.".split(" "),Xb:"sv\u0113tdiena pirmdiena otrdiena tre\u0161diena ceturtdiena piektdiena sestdiena".split(" "),
Wb:"Sv\u0113tdiena Pirmdiena Otrdiena Tre\u0161diena Ceturtdiena Piektdiena Sestdiena".split(" "),Tb:"Sv Pr Ot Tr Ce Pk Se".split(" "),yb:"Sv Pr Ot Tr Ce Pk Se".split(" "),c:"SPOTCPS".split(""),Cb:"SPOTCPS".split(""),Sb:["1.\u00a0cet.","2.\u00a0cet.","3.\u00a0cet.","4.\u00a0cet."],Qb:["1. ceturksnis","2. ceturksnis","3. ceturksnis","4. ceturksnis"],Kb:["priek\u0161pusdien\u0101","p\u0113cpusdien\u0101"],vb:["EEEE, y. 'gada' d. MMMM","y. 'gada' d. MMMM","y. 'gada' d. MMM","dd.MM.yy"],Db:["HH:mm:ss zzzz",
"HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:6},te={Nb:["v.Chr.","n.Chr."],Mb:["voor Christus","na Christus"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),ob:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),Rb:"jan. feb. mrt. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),Vb:"jan. feb. mrt. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),
Xb:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),Wb:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),Tb:"zo ma di wo do vr za".split(" "),yb:"zo ma di wo do vr za".split(" "),c:"ZMDWDVZ".split(""),Cb:"ZMDWDVZ".split(""),Sb:["K1","K2","K3","K4"],Qb:["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],Kb:["a.m.","p.m."],vb:["EEEE d MMMM y","d MMMM y","d MMM y","dd-MM-yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}",
"{1} {0}","{1} {0}"],wb:0,Eb:[5,6],xb:3},ue={Nb:["f.Kr.","e.Kr."],Mb:["f\u00f8r Kristus","etter Kristus"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januar februar mars april mai juni juli august september oktober november desember".split(" "),ob:"januar februar mars april mai juni juli august september oktober november desember".split(" "),Rb:"jan. feb. mar. apr. mai jun. jul. aug. sep. okt. nov. des.".split(" "),Vb:"jan feb mar apr mai jun jul aug sep okt nov des".split(" "),Xb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),
Wb:"s\u00f8ndag mandag tirsdag onsdag torsdag fredag l\u00f8rdag".split(" "),Tb:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),yb:"s\u00f8n. man. tir. ons. tor. fre. l\u00f8r.".split(" "),c:"SMTOTFL".split(""),Cb:"SMTOTFL".split(""),Sb:["K1","K2","K3","K4"],Qb:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],Kb:["a.m.","p.m."],vb:["EEEE d. MMMM y","d. MMMM y","d. MMM y","dd.MM.y"],Db:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],Lb:["{1} {0}","{1} 'kl'. {0}","{1}, {0}","{1}, {0}"],
wb:0,Eb:[5,6],xb:3},ve={Nb:["a.C.","d.C."],Mb:["antes de Cristo","depois de Cristo"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),ob:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),Rb:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),Vb:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),Xb:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),
Wb:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),Tb:"dom seg ter qua qui sex s\u00e1b".split(" "),yb:"dom seg ter qua qui sex s\u00e1b".split(" "),c:"DSTQQSS".split(""),Cb:"DSTQQSS".split(""),Sb:["T1","T2","T3","T4"],Qb:["1\u00ba trimestre","2\u00ba trimestre","3\u00ba trimestre","4\u00ba trimestre"],Kb:["AM","PM"],vb:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d 'de' MMM 'de' y","dd/MM/yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss",
"HH:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],wb:6,Eb:[5,6],xb:5},we={Nb:["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],Mb:["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"],Pb:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),Ub:"\u042f\u0424\u041c\u0410\u041c\u0418\u0418\u0410\u0421\u041e\u041d\u0414".split(""),
Ob:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" "),ob:"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
Rb:"\u044f\u043d\u0432. \u0444\u0435\u0432\u0440. \u043c\u0430\u0440. \u0430\u043f\u0440. \u043c\u0430\u044f \u0438\u044e\u043d. \u0438\u044e\u043b. \u0430\u0432\u0433. \u0441\u0435\u043d\u0442. \u043e\u043a\u0442. \u043d\u043e\u044f\u0431. \u0434\u0435\u043a.".split(" "),Vb:"\u044f\u043d\u0432. \u0444\u0435\u0432\u0440. \u043c\u0430\u0440\u0442 \u0430\u043f\u0440. \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433. \u0441\u0435\u043d\u0442. \u043e\u043a\u0442. \u043d\u043e\u044f\u0431. \u0434\u0435\u043a.".split(" "),
Xb:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),Wb:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),
Tb:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),yb:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),c:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),Cb:"\u0412\u041f\u0412\u0421\u0427\u041f\u0421".split(""),Sb:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.","3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],Qb:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b",
"2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],Kb:["\u0414\u041f","\u041f\u041f"],vb:["EEEE, d MMMM y '\u0433'.","d MMMM y '\u0433'.","d MMM y '\u0433'.","dd.MM.yy"],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:6},xe={Nb:["pred Kr.","po Kr."],Mb:["pred Kristom","po Kristovi"],Pb:"jfmamjjasond".split(""),Ub:"jfmamjjasond".split(""),
Ob:"janu\u00e1ra febru\u00e1ra marca apr\u00edla m\u00e1ja j\u00fana j\u00fala augusta septembra okt\u00f3bra novembra decembra".split(" "),ob:"janu\u00e1r febru\u00e1r marec apr\u00edl m\u00e1j j\u00fan j\u00fal august september okt\u00f3ber november december".split(" "),Rb:"jan feb mar apr m\u00e1j j\u00fan j\u00fal aug sep okt nov dec".split(" "),Vb:"jan feb mar apr m\u00e1j j\u00fan j\u00fal aug sep okt nov dec".split(" "),Xb:"nede\u013ea pondelok utorok streda \u0161tvrtok piatok sobota".split(" "),
Wb:"nede\u013ea pondelok utorok streda \u0161tvrtok piatok sobota".split(" "),Tb:"ne po ut st \u0161t pi so".split(" "),yb:"ne po ut st \u0161t pi so".split(" "),c:"npus\u0161ps".split(""),Cb:"npus\u0161ps".split(""),Sb:["Q1","Q2","Q3","Q4"],Qb:["1. \u0161tvr\u0165rok","2. \u0161tvr\u0165rok","3. \u0161tvr\u0165rok","4. \u0161tvr\u0165rok"],Kb:["AM","PM"],vb:["EEEE, d. MMMM y","d. MMMM y","d. M. y","d.M.yy"],Db:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],Lb:["{1}, {0}","{1}, {0}","{1}, {0}","{1} {0}"],
wb:0,Eb:[5,6],xb:3},ye={Nb:["f.Kr.","e.Kr."],Mb:["f\u00f6re Kristus","efter Kristus"],Pb:"JFMAMJJASOND".split(""),Ub:"JFMAMJJASOND".split(""),Ob:"januari februari mars april maj juni juli augusti september oktober november december".split(" "),ob:"januari februari mars april maj juni juli augusti september oktober november december".split(" "),Rb:"jan. feb. mars apr. maj juni juli aug. sep. okt. nov. dec.".split(" "),Vb:"jan. feb. mars apr. maj juni juli aug. sep. okt. nov. dec.".split(" "),Xb:"s\u00f6ndag m\u00e5ndag tisdag onsdag torsdag fredag l\u00f6rdag".split(" "),
Wb:"s\u00f6ndag m\u00e5ndag tisdag onsdag torsdag fredag l\u00f6rdag".split(" "),Tb:"s\u00f6n m\u00e5n tis ons tors fre l\u00f6r".split(" "),yb:"s\u00f6n m\u00e5n tis ons tors fre l\u00f6r".split(" "),c:"SMTOTFL".split(""),Cb:"SMTOTFL".split(""),Sb:["K1","K2","K3","K4"],Qb:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"],Kb:["fm","em"],vb:["EEEE d MMMM y","d MMMM y","d MMM y","y-MM-dd"],Db:["'kl'. HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],
wb:0,Eb:[5,6],xb:3},ze={Nb:["\u0434\u043e \u043d. \u0435.","\u043d. \u0435."],Mb:["\u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438","\u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438"],Pb:"\u0421\u041b\u0411\u041a\u0422\u0427\u041b\u0421\u0412\u0416\u041b\u0413".split(""),Ub:"\u0421\u041b\u0411\u041a\u0422\u0427\u041b\u0421\u0412\u0416\u041b\u0413".split(""),Ob:"\u0441\u0456\u0447\u043d\u044f \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0435\u0440\u0435\u0437\u043d\u044f \u043a\u0432\u0456\u0442\u043d\u044f \u0442\u0440\u0430\u0432\u043d\u044f \u0447\u0435\u0440\u0432\u043d\u044f \u043b\u0438\u043f\u043d\u044f \u0441\u0435\u0440\u043f\u043d\u044f \u0432\u0435\u0440\u0435\u0441\u043d\u044f \u0436\u043e\u0432\u0442\u043d\u044f \u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430 \u0433\u0440\u0443\u0434\u043d\u044f".split(" "),
ob:"\u0441\u0456\u0447\u0435\u043d\u044c \u043b\u044e\u0442\u0438\u0439 \u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c \u043a\u0432\u0456\u0442\u0435\u043d\u044c \u0442\u0440\u0430\u0432\u0435\u043d\u044c \u0447\u0435\u0440\u0432\u0435\u043d\u044c \u043b\u0438\u043f\u0435\u043d\u044c \u0441\u0435\u0440\u043f\u0435\u043d\u044c \u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c \u0436\u043e\u0432\u0442\u0435\u043d\u044c \u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434 \u0433\u0440\u0443\u0434\u0435\u043d\u044c".split(" "),
Rb:"\u0441\u0456\u0447. \u043b\u044e\u0442. \u0431\u0435\u0440. \u043a\u0432\u0456\u0442. \u0442\u0440\u0430\u0432. \u0447\u0435\u0440\u0432. \u043b\u0438\u043f. \u0441\u0435\u0440\u043f. \u0432\u0435\u0440. \u0436\u043e\u0432\u0442. \u043b\u0438\u0441\u0442. \u0433\u0440\u0443\u0434.".split(" "),Vb:"\u0421\u0456\u0447 \u041b\u044e\u0442 \u0411\u0435\u0440 \u041a\u0432\u0456 \u0422\u0440\u0430 \u0427\u0435\u0440 \u041b\u0438\u043f \u0421\u0435\u0440 \u0412\u0435\u0440 \u0416\u043e\u0432 \u041b\u0438\u0441 \u0413\u0440\u0443".split(" "),
Xb:"\u043d\u0435\u0434\u0456\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a \u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a \u0441\u0435\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440 \u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),Wb:"\u043d\u0435\u0434\u0456\u043b\u044f \u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a \u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a \u0441\u0435\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440 \u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f \u0441\u0443\u0431\u043e\u0442\u0430".split(" "),
Tb:"\u041d\u0434 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),yb:"\u041d\u0434 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),c:"\u041d\u041f\u0412\u0421\u0427\u041f\u0421".split(""),Cb:"\u041d\u041f\u0412\u0421\u0427\u041f\u0421".split(""),Sb:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.","3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],Qb:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b",
"3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"],Kb:["\u0434\u043f","\u043f\u043f"],vb:["EEEE, d MMMM y '\u0440'.","d MMMM y '\u0440'.","d MMM y '\u0440'.","dd.MM.yy"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1} '\u043e' {0}","{1} '\u043e' {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:6};fe=ke;var Ae={Nb:["\u00ee.Hr.","d.Hr."],Mb:["\u00eenainte de Hristos","dup\u0103 Hristos"],Pb:"IFMAMIIASOND".split(""),Ub:"IFMAMIIASOND".split(""),Ob:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),ob:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),Rb:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),Vb:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),
Xb:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),Wb:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),Tb:"Dum Lun Mar Mie Joi Vin S\u00e2m".split(" "),yb:"Dum Lun Mar Mie Joi Vin S\u00e2m".split(" "),c:"D L Ma Mi J V S".split(" "),Cb:"D L Ma Mi J V S".split(" "),Sb:["trim. 1","trim. 2","trim. 3","trim. 4"],Qb:["trimestrul 1","trimestrul 2","trimestrul 3","trimestrul 4"],Kb:["a.m.","p.m."],vb:["EEEE, d MMMM y","d MMMM y","d MMM y",
"dd.MM.y"],Db:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],Lb:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],wb:0,Eb:[5,6],xb:6};function Be(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Ce(a,b){this.width=a;this.height=b}function De(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}f=Ce.prototype;f.clone=function(){return new Ce(this.width,this.height)};function Ee(a){return Math.min(a.width,a.height)}f.cs=function(){return this.width*this.height};f.isEmpty=function(){return!this.cs()};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.scale=function(a,b){var c=la(b)?b:a;this.width*=a;this.height*=c;return this};function Fe(a){this.c=a}var Ge=/\s*;\s*/;function He(a,b,c,d,e,g){if(/[;=\s]/.test(b))throw Error('Invalid cookie name "'+b+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');l(d)||(d=-1);g=g?";domain="+g:"";e=e?";path="+e:"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(va()+1E3*d)).toUTCString();a.c.cookie=b+"="+c+g+e+d+""}f=Fe.prototype;
f.get=function(a,b){for(var c=a+"=",d=(this.c.cookie||"").split(Ge),e=0,g;g=d[e];e++){if(0==g.lastIndexOf(c,0))return g.substr(c.length);if(g==a)return""}return b};f.remove=function(a,b,c){var d=l(this.get(a));He(this,a,"",0,b,c);return d};f.xd=function(){return Ie(this).keys};f.oc=function(){return Ie(this).values};f.isEmpty=function(){return!this.c.cookie};f.vd=function(){return this.c.cookie?(this.c.cookie||"").split(Ge).length:0};f.clear=function(){for(var a=Ie(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
function Ie(a){a=(a.c.cookie||"").split(Ge);for(var b=[],c=[],d,e,g=0;e=a[g];g++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var Je=new Fe(document);Je.h=3950;function Ke(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};function Le(){}Le.prototype.c=null;function Me(a){var b;(b=a.c)||(b={},Ne(a)&&(b[0]=!0,b[1]=!0),b=a.c=b);return b};function z(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Oe(a){var b=Pe.sections,c={},d;for(d in b)a.call(void 0,b[d],d,b)&&(c[d]=b[d]);return c}function Qe(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1}function Re(a){var b=0,c;for(c in a)b++;return b}function Se(a){for(var b in a)return b}function Te(a){for(var b in a)return a[b]}function Ue(a){return Ka(t.visibleRelease,a)}function Ve(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}
function Ma(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function We(a,b){return null!==a&&b in a}function Ka(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Xe(a){for(var b in a)return!1;return!0}function Ye(a,b){b in a&&delete a[b]}function Ze(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0}function $e(a){var b={},c;for(c in a)b[c]=a[c];return b}
function af(a){var b=ea(a);if("object"==b||"array"==b){if(ma(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=af(a[c]);return b}return a}var bf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cf(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<bf.length;g++)c=bf[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function df(a){var b=arguments.length;if(1==b&&ha(arguments[0]))return df.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function A(){Rd.call(this);this.Ik=[]}n(A,Rd);A.prototype.X=function(){for(var a=0;a<this.Ik.length;a++)this.Ik[a]&&ef(this.Ik[a],this);A.l.X.call(this)};function ff(a,b,c,d){var e=d?a:af(a);null!=e||(e={});z(b,function(b,d){ha(e)&&D(e)&&!la(d)&&(e={});if(null!=a&&"object"===typeof a[d]&&"object"===typeof b)e[d]=ff(e[d],b,c,!0);else if("object"===typeof b)e[d]=af(b),c&&(c.changed=!0);else if(null==a||a[d]!==b)e[d]=b,c&&(c.changed=!0,"undefined"===typeof c.ri&&(c.ri={}),c.ri[d]=b)});return e}
function gf(a,b,c){z(a,function(d,e){"object"===typeof d?gf(a[e],b,c):b(a,e,c)})};function hf(){A.call(this);this.c=jf}n(hf,A);function kf(a){A.call(this);this.id=Math.random().toString(36).substring(7);this.A=[];this.g=[];a&&(this.id=a+"_"+this.id);this.data={}}n(kf,A);kf.prototype.getId=function(){return this.id};kf.prototype.getJSON=function(){return{id:this.getId(),type:this.getType(),data:this.getData()}};function lf(a,b){a.A.push(b)}kf.prototype.getData=function(){return this.data};function mf(a){a||(a="DbServerRequest");kf.call(this,a)}n(mf,kf);mf.prototype.getType=function(){return ya.DbCollectionServerRequest.type};function nf(a){a||(a="DbObjectRequest");kf.call(this,a)}n(nf,kf);nf.prototype.getType=function(){return ya.DbObjectServerRequest.type};function of(a,b){a.data=b;b.settings&&b.settings.langFe&&(a.data.langFe=b.settings.langFe)};function pf(a){a||(a="FeLangDataRequest");kf.call(this,a)}n(pf,kf);pf.prototype.getType=function(){return ya.FeLangDataRequest.type};function qf(a){a||(a="FileUploadRequest");kf.call(this,a)}n(qf,kf);qf.prototype.getType=function(){return ya.FileUploadServerRequest.type};function rf(a){return a.data.chunk_processed||0};function sf(){kf.call(this,"LoginRefreshRequest");this.data={}}n(sf,kf);sf.prototype.getType=function(){return ya.LoginRefreshRequest.type};function tf(a){a||(a="PrecachedCollectionRequest");kf.call(this,a)}n(tf,kf);tf.prototype.getType=function(){return ya.PrecachedCollectionRequest.type};function uf(a){a||(a="PremiumContentCheckRequest");kf.call(this,a)}n(uf,kf);uf.prototype.getType=function(){return ya.PremiumContentCheckServerRequest.type};function vf(a){a||(a="PublishWebRequest");kf.call(this,a)}n(vf,kf);vf.prototype.getType=function(){return ya.PublishWebServerRequest.type};function wf(a){a||(a="SafeDataServerRequest");this.identifier=0;kf.call(this,a)}n(wf,kf);function xf(a,b,c){b=l(b.dataType)&&l(b.dataKey)&&l(b.dataSettings)&&l(b.dataSettings.id)?b.dataType+"_"+b.dataKey+"_"+b.dataSettings.id:null;null!=b&&l(yf[b])&&(c=c?c:a.identifier,a.data[c].checksum=yf[b],a.data[c].windowId=t.windowId)}function zf(a){z(a.data,function(a,c){l(this.data[c].checksum)&&(this.data[c].disabledChecksum=!0)},a)};function Af(a){a||(a="JSONServerRequest");this.c={};wf.call(this,a)}n(Af,wf);Af.prototype.getType=function(){return ya.JSONServerRequest.type};function Bf(a,b,c,d,e){e={source:d,dataType:e};var g=!1;if("1"==t.useJsonPatch){var g=b,h=[];c=af(c);g=af(g);La(c,g,h,"");e.patch=h;(g=0<h.length)&&(a.c[a.identifier]=b)}else e.data=b,g=JSON.stringify(b)!=JSON.stringify(c);!0===g&&(a.data[a.identifier]=e,xf(a,d),a.identifier++)}
function Cf(a){z(a.data,function(a,c){"1"==t.useJsonPatch&&(delete this.data[c].patch,this.data[c].data=this.c[c])},a)};function Df(a){a||(a="ContentItemServerRequest");Af.call(this,a)}n(Df,Af);Df.prototype.getType=function(){return ya.ContentItemServerRequest.type};function Ef(a){a||(a="ServerProjectServerRequest");nf.call(this,a)}n(Ef,nf);Ef.prototype.getType=function(){return ya.ServerProjectServerRequest.type};function Ff(a){a||(a="StaticServerCollectionRequest");kf.call(this,a)}n(Ff,kf);Ff.prototype.getType=function(){return ya.StaticServerCollectionServerRequest.type};function Gf(){A.call(this);this.c={274:"Orientation"}}n(Gf,A);
Gf.prototype.getData=function(a){var b=new DataView(a);if(255!=b.getUint8(0)||216!=b.getUint8(1))return!1;var c=2;a=a.byteLength;for(var d;c<a&&255==b.getUint8(c);){d=b.getUint8(c+1);if(225==d){a:if(c=c+4,"Exif"!=Hf(b,c,4))c=!1;else{var e=void 0;a=c+6;if(18761==b.getUint16(a))e=!1;else if(19789==b.getUint16(a))e=!0;else{c=!1;break a}if(42!=b.getUint16(a+2,!e))c=!1;else if(d=b.getUint32(a+4,!e),8>d)c=!1;else{c=b;b=a;a=a+d;d=this.c;for(var g=c.getUint16(a,!e),h={},k=void 0,p=void 0,w=void 0,w=0;w<g;w++)k=
a+12*w+2,p=d[c.getUint16(k,!e)],h[p]=If(c,k,b,e);c=h}}return c}c+=2+b.getUint16(c+2)}return!1};function Hf(a,b,c){for(var d="",e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}
function If(a,b,c,d){var e=a.getUint16(b+2,!d),g=a.getUint32(b+4,!d);c=a.getUint32(b+8,!d)+c;var h,k;switch(e){case 1:case 7:if(1==g)return a.getUint8(b+8);c=4<g?c:b+8;b=[];for(e=0;e<g;e++)b[e]=a.getUint8(c+e);return b;case 2:return Hf(a,4<g?c:b+8,g-1);case 3:if(1==g)return a.getUint16(b+8,!d);c=2<g?c:b+8;b=[];for(e=0;e<g;e++)b[e]=a.getUint16(c+2*e,!d);return b;case 4:if(1==g)return a.getUint32(b+8,!d);b=[];for(e=0;e<g;e++)b[e]=a.getUint32(c+4*e,!d);return b;case 5:if(1==g)return h=a.getUint32(c,
!d),k=a.getUint32(c+4,!d),a=Number(h/k),a.numerator=h,a.denominator=k,a;b=[];for(e=0;e<g;e++)h=a.getUint32(c+8*e,!d),k=a.getUint32(c+4+8*e,!d),b[e]=Number(h/k),b[e].xC=h,b[e].cC=k;return b;case 9:if(1==g)return a.getInt32(b+8,!d);b=[];for(e=0;e<g;e++)b[e]=a.getInt32(c+4*e,!d);return b;case 10:if(1==g)return a.getInt32(c,!d)/a.getInt32(c+4,!d);b=[];for(e=0;e<g;e++)b[e]=a.getInt32(c+8*e,!d)/a.getInt32(c+4+8*e,!d);return b}return!1};function Jf(){A.call(this);this.c=null}n(Jf,A);Jf.prototype.pn=function(){if(!this.A)throw new Oa("Unknown contextType");if(null===this.c){var a=document.createElement("canvas"),b;try{b=a.getContext(this.A)}catch(c){b=null}this.c=!!b}return this.c};Jf.prototype.blur=function(a,b){this.Tg(a);this.Qn(b);return this.canvas};Jf.prototype.oh=function(a,b){this.Tg(a);this.sq(b);return this.canvas};function Kf(){Jf.call(this);this.A="2d"}n(Kf,Jf);Kf.prototype.Tg=function(a){this.canvas||(this.canvas=document.createElement("canvas"));var b=a.width,c=a.height;this.canvas.setAttribute("width",b);this.canvas.setAttribute("height",c);this.g=this.canvas.getContext(this.A);this.g.drawImage(a,0,0,b,c);this.h=this.g.getImageData(0,0,b,c);return this.canvas};
Kf.prototype.Qn=function(a){a/=2;for(var b=this.h.data,c=parseInt(this.canvas.width,10),d=parseInt(this.canvas.height,10),e=[],g=[],h=[],k=[],p=[],w=[],v=0,C=b.length;v<C;v+=4)e.push(b[v]),g.push(b[v+1]),h.push(b[v+2]),k.push(0),p.push(0),w.push(0);Lf(e,k,c,d,a);Lf(g,p,c,d,a);Lf(h,w,c,d,a);a=0;c=b.length/4;for(v=0;v<c;v++)a=4*v,b[a]=k[v],b[a+1]=p[v],b[a+2]=w[v];this.g.putImageData(this.h,0,0)};
function Lf(a,b,c,d,e){var g=Math.floor(Math.sqrt(12*e*e/3+1));0==g%2&&g--;var h=g+2;e=Math.round((12*e*e-3*g*g-12*g-9)/(-4*g-4));for(var k=[],p=0;3>p;p++)k.push(p<e?g:h);Mf(a,b,c,d,(k[0]-1)/2);Mf(b,a,c,d,(k[1]-1)/2);Mf(a,b,c,d,(k[2]-1)/2)}
function Mf(a,b,c,d,e){for(var g=0,h=a.length;g<h;g++)b[g]=a[g];for(var k,p,w,v,C,G,J=1/(e+e+1),g=0;g<d;g++){p=k=g*c;w=k+e;v=b[k];C=b[k+c-1];G=(e+1)*v;for(h=0;h<e;h++)G+=b[k+h];for(h=0;h<=e;h++)G+=b[w++]-v,a[k++]=Math.round(G*J);for(h=e+1;h<c-e;h++)G+=b[w++]-b[p++],a[k++]=Math.round(G*J);for(h=c-e;h<c;h++)G+=C-b[p++],a[k++]=Math.round(G*J)}J=1/(e+e+1);for(g=0;g<c;g++){p=k=g;w=k+e*c;v=a[k];C=a[k+c*(d-1)];G=(e+1)*v;for(h=0;h<e;h++)G+=a[k+h*c];for(h=0;h<=e;h++)G+=a[w]-v,b[k]=Math.round(G*J),w+=c,k+=
c;for(h=e+1;h<d-e;h++)G+=a[w]-a[p],b[k]=Math.round(G*J),p+=c,w+=c,k+=c;for(h=d-e;h<d;h++)G+=C-a[p],b[k]=Math.round(G*J),p+=c,k+=c}}
Kf.prototype.Ql=function(a,b,c){a=this.h.data;var d=[],e=0,g=0,h=0;b&&(g=255*Math.max(-1,Math.min(b,1)));c&&(h=Math.max(-1,Math.min(c,1))/255*3);b=0;for(c=a.length;b<c;b+=4){for(var d=[a[b],a[b+1],a[b+2]],e=(d[0]+d[1]+d[2])/3,k=0;3>k;k++)d[k]=e+g,h&&(d[k]=0<h?(d[k]-.5)/(1-h)+.5:(d[k]-.5)*(1+h)+.5);a[b]=parseInt(d[0],10);a[b+1]=parseInt(d[1],10);a[b+2]=parseInt(d[2],10)}this.g.putImageData(this.h,0,0)};
Kf.prototype.sq=function(a){var b=this.h.data;a=Math.max(0,Math.min(a,1));for(var c=[[.607,.769,.189],[.314,.168,.349],[.869,.272,.534]],d=0,e=b.length;d<e;d+=4)for(var g=[[b[d],b[d+1],b[d+2]],[b[d+1],b[d+2],b[d]],[b[d+2],b[d],b[d+1]]],h=0;3>h;h++)b[d+h]=parseInt(g[h][0]*(1-c[h][0]*a)+g[h][1]*c[h][1]*a+g[h][2]*c[h][2]*a,10);this.g.putImageData(this.h,0,0)};function Nf(a){A.call(this);this.c=a?a:Of}n(Nf,A);var Of="be";function Pf(a,b){if(!b)return"";for(var c={},d=Qf(a).split("%"),e=[],g=0;g<d.length;g++)0!=d[g].length&&e.push({type:d[g].charAt(0),separator:d[g].substring(1,d.length-1)});for(var h=g=d=0;h<e.length;h++){var k=e[h],d=b.indexOf(k.separator,d);0>d&&(d=b.length);d==g&&(d=b.length);c[k.type]=b.substring(g,d);g=d+=k.separator.length}return(Rf(c,"Y",4)+Rf(c,"m",2)+Rf(c,"d",2)+Rf(c,"H",2)+Rf(c,"M",2)+"00000000000000").substr(0,14)}
function Rf(a,b,c){var d="";a&&a[b]&&(a=a[b].replace(new RegExp("[.]?(\\d{"+c+"}).*"),"$1"),isNaN(Number(a))||(d=a));return d}function Qf(a,b){var c="DATE_TIME";l(b)&&"00"==b.substr(8,2)&&"00"==b.substr(10,2)&&"00"==b.substr(12,2)&&(c="DATE");return t.format[a.c][c].mask};function Sf(){A.call(this)}n(Sf,A);Sf.prototype.h=!1;Sf.prototype.max=null;Sf.prototype.c=function(a,b,c){return null!=c&&c.hasOwnProperty("max")?(this.max=c.max,a.length<=this.max):!0};function Tf(a){A.call(this);this.h=a;this.c=r.FeLanguages.DataType}n(Tf,A);Tf.prototype.getId=function(){return parseInt(Uf(this,"id"),10)};Tf.prototype.$c=function(){return Uf(this,"identifier")};function Vf(a){return Uf(a,"base_identifier")}Tf.prototype.getName=function(){return Uf(this,"name")};function Wf(a){return Uf(a,"home_page_id")}function Uf(a,b){var c=a.h[a.c+"."+b];if(!l(c))throw new Oa("Missing value for column "+a.c+"."+b+"!");return c}Tf.prototype.pp=function(){return 1===this.getId()};
function Xf(a){return"/"+(a.pp()?"home":a.$c())+"/"}function Yf(a){return[Uf(a,"user_login_page_id"),Uf(a,"user_recovery_page_id"),Uf(a,"user_registration_page_id")]};function Zf(){A.call(this);this.c={};this.g=[];this.h=!0;this.A={}}n(Zf,A);da(Zf);function $f(a,b){return"object"===typeof a.c[b]}f=Zf.prototype;f.get=function(a){this.c[a]||(this.c[a]=E.j().create("wnd.ui.Toolbox",a,document.body,ag.j().get("wnd.pc"),{withOverlay:!1},{className:"transparent",noScroll:!0,withoutSideCorrection:!0}));return this.c[a]};f.pause=function(){this.h=!1};
f.show=function(a,b,c){if(!this.h)return!1;var d=!1,e=this.get(a);D(this.g)||u(this.g,function(b){b!==a&&this.hide(b)},this);e.Ra()||(this.g.push(a),bg(e,b,!0,null,null,c),d=!0);return d};f.hide=function(a){var b;if(b=this.Ra(a))b=this.A[a],b=!0!==(b&&b.Ra());b&&(cg(this.g,a),this.get(a).hide())};f.Ra=function(a){return F(this.g,a)};f.remove=function(a){this.c[a]&&(this.c[a].dispose(),delete this.c[a])};function dg(){A.call(this);this.h={};this.g={}}n(dg,A);f=dg.prototype;f.Dh=null;f.ck=!1;f.bj=null;f.register=function(a,b){if(l(this.h[a]))throw new Oa('Class "'+a+'" already registered in factory');this.h[a]=b};f.get=function(a,b){if(this.ck){var c=this.Jo.apply(this,arguments);l(this.g[c])||(this.g[c]=this.Rq.apply(this,arguments));return this.g[c]}return this.Rq.apply(this,arguments)};
f.Rq=function(a,b){null===this.Dh&&(this.Dh=this.A());var c;if(l(this.Dh[a]))c=this.Dh[a];else{if(null===this.bj)throw new Oa('No valid class found for "'+a+'"');c=this.bj}if(!l(this.h[c]))throw new Oa('Unregistered class "'+c+'" in factory');c=this.h[c];var d=eg(arguments);d.unshift(null);return new (Function.prototype.bind.apply(c,d))};f.Jo=function(a){return a};function fg(){dg.call(this);this.Dh=r.ValidatorFactory;this.ck=!0}n(fg,dg);da(fg);function gg(){A.call(this)}n(gg,Sf);
gg.prototype.c=function(a,b,c){b=gg.l.c.call(this,a,b,c);la(a)&&(a=a.toString());if(/[0-9]{14}/.test(a)){c=new Date(Date.UTC(parseInt(a.substr(0,4),10),parseInt(a.substr(4,2),10)-1,parseInt(a.substr(6,2),10),parseInt(a.substr(8,2),10),parseInt(a.substr(10,2),10),parseInt(a.substr(12,2),10)));var d=[c.getUTCFullYear(),("0"+(c.getUTCMonth()+1)).substr(-2,2),("0"+c.getUTCDate()).substr(-2,2),("0"+c.getUTCHours()).substr(-2,2),("0"+c.getUTCMinutes()).substr(-2,2),("0"+c.getUTCSeconds()).substr(-2,2)].join("");
this.h=b&&!1===isNaN(c.getTime())&&a===d}else this.h=!1;return this.h};fg.j().register("wnd.ui.DateValidator",gg);function hg(){A.call(this)}n(hg,Sf);hg.prototype.pattern=/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-\.]+?\.[a-zA-Z]{2,20}$/;hg.prototype.c=function(a,b,c){b=hg.l.c.call(this,a,b,c);0===a.indexOf("mailto:")&&(a=a.substr(7));return this.h=b&&this.pattern.test(a)};fg.j().register("wnd.ui.EmailValidator",hg);function ig(){A.call(this);this.pattern=/^[A-Z]{2}\-[0-9]{4,}[0-9\-]*$/}n(ig,Sf);ig.prototype.c=function(a,b,c){return this.h=ig.l.c.call(this,a,b,c)&&this.pattern.test(a)};fg.j().register("wnd.ui.GoogleAnalyticsValidator",ig);function jg(){A.call(this)}n(jg,Sf);jg.prototype.c=function(a,b,c){b=jg.l.c.call(this,a,b,c);a=String(a).replace(/&nbsp;/g," ").replace(/&(?!amp;)/g,"&amp;").replace(/([ ]?\/>)/g,">");c="";try{c=this.parse(a)}catch(d){}return this.h=b&&c==a};jg.prototype.parse=function(a){var b=document.implementation.createHTMLDocument("");b.body.innerHTML=a;a=b.body.innerHTML;return a=a.replace('=""',"")};fg.j().register("wnd.ui.HtmlValidator",jg);function kg(){A.call(this)}n(kg,Sf);kg.prototype.pattern=/^[a-z0-9\-\/%]+$/;kg.prototype.c=function(a,b,c){b=kg.l.c.call(this,a,b,c);null!=c&&c.hasOwnProperty("pattern")&&(this.pattern=c.pattern);return this.h=b&&this.pattern.test(a)};fg.j().register("wnd.ui.IdentifierValidator",kg);function lg(){A.call(this)}n(lg,Sf);lg.prototype.c=function(a,b,c){a=lg.l.c.call(this,a,b,c);if(null===this.max)throw new Oa("Max. limit must be defined");return this.h=a};fg.j().register("wnd.ui.LessThanValidator",lg);function mg(){A.call(this)}n(mg,Sf);mg.prototype.pattern=/^(\([0-9]{3}\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}$/;mg.prototype.c=function(a,b,c){return this.h=mg.l.c.call(this,a,b,c)&&this.pattern.test(a)};fg.j().register("wnd.ui.PhoneValidator",mg);function ng(){A.call(this)}n(ng,Sf);ng.prototype.pattern=/^(((https?):\/\/|)[\w-]+(\.[\w-]+)+|\/)([\w.,@?^=%&amp;:\/~+#$![\]{}()*+-]*[\w@?^=%&amp;:\/~+#$![\]{}()*+-])?$/;ng.prototype.c=function(a,b,c){return this.h=ng.l.c.call(this,a,b,c)&&this.pattern.test(a)};fg.j().register("wnd.ui.UrlValidator",ng);function og(a){A.call(this);this.identifier=a;this.Jd={};this.Qq=!1}n(og,A);function pg(a,b){u(b.split("|"),function(a){a=a.split(":");this.Jd[a[0]]=a[1]},a);return a}function qg(a){z(yf,function(a,c){c=c.replace("gui_pages_gui_pages.content_items_","ci_").replace("gui_page_templates_gui_page_templates.content_items_","ly_").replace("listing_items_listing_items.content_items","li_");this.Jd[c]=a},a);return a}
function rg(a){var b=[];z(a.Jd,function(a,d){b.push(d+":"+a)});b=b.join("|");He(Je,a.identifier,b,-1,"/");return a}og.prototype.$c=function(){return this.identifier};og.prototype.equals=function(a){a=a.Jd;var b=Ma(a),c=b.length;if(a.length!=this.Jd.length)return!1;for(var d=0;d<c;d++){var e=b[d];if(!l(this.Jd[e])||a[e]!=this.Jd[e])return!1}return!0};function sg(){A.call(this);this.h=null;this.c={}}n(sg,A);da(sg);function tg(){var a;a=a||t.windowId;return"tab__"+a}function ug(a){for(var b=Je.xd(),c=0;c<b.length;c++){var d=b[c];if(0==d.lastIndexOf("tab__",0)){var e=Je.get(d);l(e)&&(a.c[d]=pg(new og(d),e))}}return a}function vg(a,b){var c=tg();a.h=c;a.c[c]=qg(new og(c));b&&rg(a.c[c])}
function wg(a,b){z(a.c,function(a){var d;a:{d=Ma(b.Jd);for(var e=0;e<d.length;e++)if(l(a.Jd[d[e]])){d=!0;break a}d=!1}if(d&&!a.equals(b)){d=Ma(a.Jd);for(var e=b.Jd,g=0;g<d.length;g++){var h=d[g];l(e[h])&&(a.Jd[h]=e[h])}rg(a)}})};function xg(a,b,c){A.call(this);this.m=oa(this);this.F=a;this.h=b;this.c=null;c&&(this.c=c)}n(xg,A);xg.prototype.getId=function(){return this.m};xg.prototype.getType=function(){return this.F};xg.prototype.stopPropagation=function(){this.h="propagation_stopped"};xg.prototype.X=function(){this.c=null;xg.l.X.call(this)};function H(a,b,c){xg.call(this,a,c||"parent_propagation",b)}n(H,xg);function yg(a,b,c,d,e){xg.call(this,a,b,d);this.o=c;this.g=e}n(yg,xg);yg.prototype.J=function(){return this.o};function zg(a){a||(a="ProjectInfoRequest");kf.call(this,a);lf(this,m(this.c,this))}n(zg,kf);zg.prototype.getType=function(){return ya.ProjectInfoServerRequest.type};zg.prototype.J=function(){return"project_info"};zg.prototype.c=function(a,b){if("success"==a){Ag(Bg.j().get(this.J()),b);var c=new yg("dataUpdate","children_propagation",this.J());Cg(ag.j(),c)}};function Dg(){A.call(this)}n(Dg,A);Dg.prototype.init=function(){};function Eg(){A.call(this)}n(Eg,A);da(Eg);Eg.prototype.c=function(){return Dg};Eg.prototype.h=null;Eg.prototype.register=function(a,b){this.c=b};Eg.prototype.init=function(){this.h=new (this.c());this.h.init()};function Fg(a){kf.call(this,a);this.data={pageId:t.isListingDetail?t.listing_item.id:t.page.id,pageDataType:t.isListingDetail?"listing_items":"gui_pages",langId:t.page.langId}}n(Fg,kf);function Gg(a){Fg.call(this,a);cf(this.data,{parentId:null,context:"layout",referenceId:null,position:"bottom"});lf(this,m(this.c,this))}n(Gg,Fg);Gg.prototype.setPosition=function(a){this.data.position=a};Gg.prototype.c=function(a,b){"error"!==a&&Hg(Ig.j(),b.changedItems)};function Jg(a){a||(a="CreateMicroTemplateCellRequest");Gg.call(this,a)}n(Jg,Gg);Jg.prototype.getType=function(){return x.CreateMicroTemplateCellServerRequest.type};function Kg(a){Fg.call(this,a||"ListingZoneUpdateRequest");lf(this,m(this.c,this))}n(Kg,Fg);Kg.prototype.getType=function(){return x.ListingZoneUpdateRequest.type};Kg.prototype.c=function(){};function Lg(a){Fg.call(this,a||"ReplaceImageWithPlaceholderServerRequest");lf(this,m(this.c,this))}n(Lg,Fg);Lg.prototype.getType=function(){return x.ReplaceImageWithPlaceholderServerRequest.type};Lg.prototype.c=function(a,b){"success"===a&&(Hg(Ig.j(),b.changedItems,b.removedItems),z(b.removedItems,function(a){Mg(I.j(),a)&&I.j().get(a).dispose()}))};function Ng(){}Ng.prototype.c=function(){};function Og(a){Og[" "](a);return a}Og[" "]=ca;function Pg(a,b){try{return Og(a[b]),!0}catch(c){}return!1};function Qg(a){return/^[\s\xa0]*$/.test(a)}var Rg=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Sg(a){if(!Tg.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ug,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Vg,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Wg,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Xg,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Yg,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Zg,"&#0;"));return a}
var Ug=/&/g,Vg=/</g,Wg=/>/g,Xg=/"/g,Yg=/'/g,Zg=/\x00/g,Tg=/[\x00&<>"']/;function $g(a){return-1!=a.indexOf("&")?"document"in ba?ah(a):bh(a):a}function ah(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=ba.document.createElement("div");return a.replace(ch,function(a,e){var g=b[a];if(g)return g;if("#"==e.charAt(0)){var h=Number("0"+e.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}
function bh(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var ch=/&([^;\s<&]+);?/g;function dh(a,b){return-1!=a.toLowerCase().indexOf(b.toLowerCase())}function eh(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}
var fh=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function gh(a,b){var c=l(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);return fh("0",Math.max(0,b-d))+c}function hh(a,b){return a<b?-1:a>b?1:0}function ih(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function jh(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}
function kh(a){var b=ja(void 0)?eh(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function lh(){A.call(this);this.c={}}n(lh,A);da(lh);function mh(a){return a[a.length-1]}
var nh=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ja(a))return ja(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},oh=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(ja(a))return ja(b)&&1==b.length?a.lastIndexOf(b,c):-1;
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},u=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ja(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function ph(a,b,c){for(var d=ja(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var qh=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=ja(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var p=h[k];b.call(c,p,k,a)&&(e[g++]=p)}return e},rh=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=ja(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},sh=Array.prototype.reduce?function(a,b,c,d){d&&(b=m(b,d));return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c,d){var e=c;u(a,function(c,h){e=b.call(d,e,c,h,a)});return e},th=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ja(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1},uh=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ja(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};
function vh(a,b,c){var d=0;u(a,function(a,g,h){b.call(c,a,g,h)&&++d},c);return d}function wh(a,b,c){a:{for(var d=a.length,e=ja(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a)){b=g;break a}b=-1}return 0>b?null:ja(a)?a.charAt(b):a[b]}function F(a,b){return 0<=nh(a,b)}function D(a){return 0==a.length}function xh(a,b){F(a,b)||a.push(b)}function cg(a,b){var c=nh(a,b),d;(d=0<=c)&&yh(a,c);return d}function yh(a,b){Array.prototype.splice.call(a,b,1)}
function zh(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function Ah(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function eg(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Bh(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ia(d)){var e=a.length||0,g=d.length||0;a.length=e+g;for(var h=0;h<g;h++)a[e+h]=d[h]}else a.push(d)}}function Ch(a,b,c,d){Array.prototype.splice.apply(a,Dh(arguments,1))}
function Dh(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Eh(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],g;g=e;g=na(g)?"o"+oa(g):(typeof g).charAt(0)+g;Object.prototype.hasOwnProperty.call(b,g)||(b[g]=!0,a[c++]=e)}a.length=c}function Fh(a,b){a.sort(b||Gh)}
function Hh(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Gh;Fh(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function Gh(a,b){return a>b?1:a<b?-1:0};function K(){A.call(this);this.ta={}}n(K,A);K.prototype.observe=function(a,b,c){"undefined"==typeof this.ta[a]&&(this.ta[a]=[]);for(var d=0;d<this.ta[a].length;d++)if(this.ta[a][d].Mf===b&&this.ta[a][d].Bh===c)return;this.ta[a].push({Mf:b,Bh:c});c.Ik.push(this)};K.prototype.notify=function(a,b){var c;if("undefined"!=typeof this.ta[a])for(var d=this.ta[a].length,e=0;e<d&&(c=this.ta[a][e],c.Bh instanceof Rd&&c.Bh.ub||(c.Mf.apply(c.Bh,arguments),l(this.ta[a])));e++);};
function Ih(a,b,c){a.ta.hasOwnProperty(b)&&(c?a.ta[b]=qh(a.ta[b],function(a){return a.Mf!=c}):delete a.ta[b])}function ef(a,b){for(var c in a.ta)a.ta[c]=qh(a.ta[c],function(a){return a.Bh!=b})};function Jh(a,b){K.call(this);this.dataType=a;b&&(this.h=b)}n(Jh,K);Jh.prototype.getData=function(a){this.data||this.kg();return a?l(this.data[a])?this.data[a]:void 0:this.data};Jh.prototype.jg=function(){delete this.data;this.notify("onEraseCache")};Jh.prototype.J=function(){return this.dataType};function Kh(a,b){Jh.call(this,a,b)}n(Kh,Jh);Kh.prototype.kg=function(){if("undefined"!=typeof Mh[this.dataType])this.data=Mh[this.dataType];else throw new Oa("Datatype "+this.dataType+" doesn't exist in JSONDataCollection (wnd.$data)");};Kh.prototype.Cd=function(){return!1};function Nh(a,b){Jh.call(this,a,b);this.c=!1;this.A=[]}n(Nh,Jh);f=Nh.prototype;f.getData=function(){throw new Oa("Use `getSrvData` for server data collection");};
f.Ea=function(a,b,c){var d=this;this.data?(b&&Oh(Ph.j(),b),a.call(c,"success",this.data,null,{order:this.g})):this.c?this.A.push(a):this.o(function(b,g,h){if("success"==b){d.data=d.m(g);d.g=d.F(g);g={order:d.g};a.call(c,b,d.data,h,g);for(var k=0;k<d.A.length;k++)d.A[k].call(c,b,d.data,h,g);d.A=[]}else d.data=g,d.g=[],g={order:d.g},a.call(c,b,d.data,h,g)},b)};function Qh(a,b,c,d){lf(b,m(a.By,a));c&&lf(b,c);Rh(Ph.j(),b,d);a.c=!0}f.kg=function(){};f.By=function(){this.c=!1};f.Cd=function(){return this.c};function Sh(a){K.call(this);this.dataType=a}n(Sh,K);f=Sh.prototype;f.create=function(a,b){var c=this.Zi(a,b);this.lg();return c};f.update=function(a,b,c){this.uk(a,b,c);this.lg()};f["delete"]=function(a){this.cj(a);this.lg()};function Ag(a,b){Mh[a.dataType]=b;a.lg()}f.lg=function(){Th(L.j(),this.J())};f.J=function(){return this.dataType};function Uh(a){return L.j().get(a.dataType)};function Vh(a){Sh.call(this,a)}n(Vh,Sh);Vh.prototype.Cd=function(){return!1};Vh.prototype.Zi=function(a){"undefined"==typeof Mh[this.dataType]&&(Mh[this.dataType]={});if("undefined"==typeof a.id){do a.id=Math.floor(1E4*Math.random()).toString();while("undefined"!=typeof Mh[this.dataType][a.id])}Mh[this.dataType][a.id]=a;return a.id};Vh.prototype.uk=function(a,b){Mh[this.dataType][a]=b};Vh.prototype.cj=function(a){delete Mh[this.dataType][a]};function Wh(a){Sh.call(this,a);this.h={}}n(Wh,Sh);f=Wh.prototype;f.create=function(){throw new Oa("Use `createSrv` for server data object");};f.update=function(){throw new Oa("Use `updateSrv` for server data object");};f["delete"]=function(){throw new Oa("Use `deleteSrv` for server data object");};function Xh(a,b,c,d){a.c(b,c,null,d,null)}function Yh(a,b,c,d){Zh(a,b,c,d)}function $h(a,b,c,d){lf(b,m(a.Cy,a));c&&lf(b,c);Rh(Ph.j(),b,d);a.h[b.getId()]=b}f.Cy=function(a,b,c){delete this.h[c.getId()];this.lg()};
f.Zi=function(){return""};f.uk=function(){};f.cj=function(){};f.Cd=function(){return!Xe(this.h)};function ai(a,b){K.call(this);this.id=a+"_"+Math.random().toString(36).substring(7);this.name=a;this.Lc=[];this.c=b?b:1;this.status="ready"}n(ai,K);f=ai.prototype;f.sp=!0;f.getStatus=function(){return this.status};function bi(a,b){a.status=b;a.notify(b)}f.getId=function(){return this.id};f.getName=function(){return this.name};
f.getJSON=function(){for(var a=[],b=0;b<this.Lc.length;b++)a.push(this.Lc[b].getJSON());return{id:this.getId(),type:this.getType(),headers:{langBe:t.backendLanguage,langFe:t.frontendLanguage},requests:a}};function ci(a,b){u(a.Lc,function(a){if(b.getId()==a.getId())throw new Oa("Request `"+b.getId()+"` already exist in transaction");},a);a.Lc.push(b)}function di(a){return th(a.Lc,function(a){return a instanceof wf},a)}function ei(a){u(a.Lc,function(a){a instanceof wf&&zf(a)},a)}
function fi(a){u(a.Lc,function(a){a instanceof Af&&Cf(a)},a)};function gi(a,b){ai.call(this,a,b)}n(gi,ai);gi.prototype.getType=function(){return ya.UniversalServerTransaction.type};function hi(a,b){K.call(this);this.c=!!a;this.h=la(b)?b:0;return this}n(hi,K);function ii(){K.call(this)}n(ii,K);function ji(){K.call(this);return this}n(ji,K);f=ji.prototype;f.co=null;f.wg="";f.Rn="";f.zq=!1;f.Zp=!1;f.Hj="";f.aq=!1;f.dj=!1;function ki(a,b){a.c=b;return a}function li(a,b){a.co=b;return a}f.Da=function(){return this.co};function mi(a,b){a.Fi=b;return a}f.Bo=function(){return this.Fi};function ni(a,b){a.wg=b;return a}function oi(a,b){a.Rn=b;return a}function pi(a,b){a.zq=b;return a}function qi(a,b){a.Hj=b;return a}function ri(a,b){a.aq=b;return a}f.eb=function(a){this.m=a;return this};
function si(a,b){a.A=b;return a}function ti(a,b){a.o=b;return a}function ui(a,b){a.h=b}function vi(a,b){a.F=b;return a}function wi(a){a.L=xi;return a}function yi(a,b){a.dj=b;a.notify("onChangeDisabledState",a);return a};function zi(a){K.call(this);this.A=a||null;this.F=[];this.Hc=[];this.$a=!0;this.A&&(a=this.A,a.F.push(this),a.Xj())}n(zi,K);f=zi.prototype;f.removeChild=function(a){this.F&&(a=this.F.indexOf(a),0<=a&&this.F.splice(a,1));this.Xj()};function Ai(a,b){if(a.A)a.A.removeChild(a),b.F.push(a),b.Xj(),a.A=b;else throw new Oa("TreeObject has no parent object");}
f.ba=function(a){if("parent_propagation"==a.h)this.A?this.A.ig(a):a.stopPropagation();else if("children_propagation"==a.h)if(this.F)for(var b=this.F.length,c=0;c<b;c++)this.F[c].ig(a);else a.stopPropagation();"propagation_stopped"==a.h&&a.dispose()};f.ig=function(a){-1==this.Hc.indexOf(a.getId())&&(a.c&&a.c===this||this.handleEvent(a),this.Hc.push(a.getId()));this.ba(a)};f.handleEvent=function(a){a instanceof H?this.na(a):a instanceof yg&&this.Y(a)};f.Y=function(){};f.na=function(){};f.Xj=function(){};
f.getParent=function(){return this.A};f.X=function(){this.A&&this.A.removeChild(this);if(this.$a){var a=eg(this.F);u(a,function(a){a.dispose()},this)}zi.l.X.call(this)};function Bi(a,b){zi.call(this);this.identifier=a;this.m=b}n(Bi,zi);Bi.prototype.$c=function(){return this.identifier};Bi.prototype.Y=function(a){"parent_propagation"==a.h?Cg(ag.j(),a):"children_propagation"==a.h&&F(this.m.ModuleDataEventFilter,a.J())&&this.ba(a)};
Bi.prototype.na=function(a){var b=null;if("inspectletInfo1"==a.getType()||"inspectletInfo2"==a.getType()||"inspectletInfo3"==a.getType()||"inspectletInfo4"==a.getType()||"inspectletInfo5"==a.getType()){window.__insp=window.__insp||[];if("inspectletInfo1"==a.getType())switch(a.c.ca()){case "wnd.tb.ToolbarContent":window.__insp.push(["tagSession","published"]);b="publish";break;case "wnd.pc.ImageBlock":window.__insp.push(["tagSession","edit image"]);break;case "wnd.pc.TextBlock":window.__insp.push(["tagSession",
"wysiwyg"]);break;case "wnd.pm.NewPageForm":window.__insp.push(["tagSession","added page"]);break;case "wnd.pm.PagesAdminPopup":window.__insp.push(["tagSession","opened pages"]);break;case "wnd.pc.InsertContentPopup":window.__insp.push(["tagSession","content add open"]);break;case "wnd.pc.EditSectionPopup":window.__insp.push(["tagSession","section remove"]);break;case "wnd.pc.MicroTemplate":window.__insp.push(["tagSession","microtemplate cell add"])}if("inspectletInfo2"==a.getType())switch(a.c.ca()){case "wnd.pc.InsertContentPopup":window.__insp.push(["tagSession",
"section add open"]);break;case "wnd.pc.EditSectionPopup":window.__insp.push(["tagSession","layout edit open"])}"inspectletInfo3"==a.getType()&&"wnd.pc.EditSectionPopup"==a.c.ca()&&window.__insp.push(["tagSession","section edit open"]);"inspectletInfo4"==a.getType()&&window.__insp.push(["tagSession","member login activation open"]);"inspectletInfo5"==a.getType()&&window.__insp.push(["tagSession","member login activated"])}else b||("parent_propagation"==a.h&&(a.h="children_propagation"),this.ba(a));
if(null!=Qa&&ma(Qa.mc)&&b){var c=a.c;a={data:{MVCType:c.ca(),MVCId:c.C()}};(c=c.At?c.Z:null)&&c.C&&(a.data.parentMVCId=c.C());Qa.mc(b,a)}};function ag(){K.call(this);this.c={}}n(ag,K);da(ag);ag.prototype.register=function(a,b){var c=new b(a);this.c[a]=c};ag.prototype.init=function(){z(this.c,function(a,b){a.init();this.notify("onInit",b)},this)};ag.prototype.get=function(a){if(!l(this.c[a]))throw new Oa("Invalid module namespace `"+a+"`");return this.c[a]};function Cg(a,b){b.h="children_propagation";z(a.c,function(a,d){void 0!=d&&a.Y(b)},a)}
function Ci(a,b,c){b.h="children_propagation";if(c&&"undefined"==typeof a.c[c])throw new Oa("Invalid module namespace `"+c+"`");z(a.c,function(a,e){e!=c&&a.na(b)},a)}function Di(a){var b=ag.j();return sh(Ve(b.c),function(b,d){var e=l(d.m[a])?d.m[a]:null;return null===e?b:ff(b,e)},l(Ea[a])?Ea[a]:{},b)};function L(){dg.call(this);this.ck=!0;this.bj="wnd.data.JSONDataCollection";this.c={}}n(L,dg);da(L);function Th(a,b){l(a.c[b])&&z(a.c[b],function(a,d){this.g[b+"_"+d].jg()},a)}L.prototype.Jo=function(a,b){return this.m.apply(this,arguments)};L.prototype.m=function(a,b){var c=b?JSON.stringify(b):"no_settings";l(this.c[a])||(this.c[a]={});this.c[a][c]=!0;return a+"_"+c};L.prototype.A=function(){return ff(xa.DataCollectionFactory,Di("DataCollectionFactory"))};
L.j().register("wnd.data.JSONDataCollection",Kh);function Ei(a,b){Nh.call(this,a,b);Mh[this.J()]&&!this.h&&(this.data=Mh[this.J()],delete Mh[this.J()])}n(Ei,Nh);Ei.prototype.o=function(a,b){var c=new mf,d={dataType:this.J()};this.h&&(d.settings=this.h);c.data=d;d.settings&&d.settings.langFe&&(c.data.langFe=d.settings.langFe);Qh(this,c,a,b)};Ei.prototype.m=function(a){return a.collection};Ei.prototype.F=function(a){return a.collection_order};L.j().register("wnd.data.DbDataCollection",Ei);function Fi(a,b){Jh.call(this,a,b);this.c=L.j().get("page_styles");this.c.observe("onEraseCache",this.jg,this);this.A=L.j().get("template_styles");this.A.observe("onEraseCache",this.jg,this)}n(Fi,Jh);Fi.prototype.kg=function(){this.data=this.c.getData();cf(this.data,this.A.getData()||{})};Fi.prototype.Cd=function(){return!1};L.j().register("wnd.data.PageAndTemplateStylesCollection",Fi);function Gi(a,b){Nh.call(this,a,b)}n(Gi,Nh);Gi.prototype.o=function(a,b){var c=new tf,d={dataType:this.J()};this.h&&(d.settings=this.h);c.data=d;Qh(this,c,a,b)};Gi.prototype.m=function(a){return a.collection};Gi.prototype.F=function(a){return a.collection_order};L.j().register("wnd.data.PrecachedDataCollection",Gi);function Hi(a,b){Jh.call(this,a,b);this.c={};this.m=!0;this.A={}}n(Hi,Kh);f=Hi.prototype;f.fl=function(){return new Af};f.cq=function(a){if(!1===(null!=this.h.source))throw new Ha("Collection data source in settings not found");var b=af(this.getData());Bf(a,b,this.c,this.h.source,this.J());this.c=b};f.Dy=function(a,b,c){delete this.A[c.getId()]};f.Cd=function(){return!Xe(this.A)};f.kg=function(){Hi.l.kg.call(this);Xe(this.c)&&this.m&&this.fi()};f.fi=function(){this.c=af(this.getData())};
L.j().register("wnd.data.ServerJSONDataCollection",Hi);function Ii(a,b){Nh.call(this,a,b)}n(Ii,Nh);Ii.prototype.o=function(a,b){var c=new Ff,d={dataType:this.J()};this.h&&(d.settings=this.h);c.data=d;Qh(this,c,a,b)};Ii.prototype.m=function(a){return a.collection};Ii.prototype.F=function(a){return a.collection_order};L.j().register("wnd.data.StaticServerDataCollection",Ii);function Bg(){dg.call(this);this.ck=!0;this.bj="wnd.data.JSONDataObject"}n(Bg,dg);da(Bg);Bg.prototype.A=function(){return ff(xa.DataObjectFactory,Di("DataObjectFactory"))};Bg.j().register("wnd.data.JSONDataObject",Vh);function Ji(a){Wh.call(this,a)}n(Ji,Wh);function Ki(a,b,c,d,e){var g=new nf;of(g,{dataType:a.dataType,action:"insert",settings:c,data:b});$h(a,g,d,e)}Ji.prototype.c=function(a,b,c,d,e){var g=new nf;a={dataType:this.dataType,action:"update",id:a,data:b};c&&(a.settings=c);of(g,a);$h(this,g,d,e)};function Zh(a,b,c,d){var e=new nf;of(e,{dataType:a.dataType,action:"delete",id:b});$h(a,e,c,d)}Bg.j().register("wnd.data.DbDataObject",Ji);function Li(a){Sh.call(this,a)}n(Li,Vh);Li.prototype.Cd=function(){return Uh(this).Cd()};Bg.j().register("wnd.data.ServerJSONDataObject",Li);function Mi(a){Wh.call(this,a)}n(Mi,Ji);Mi.prototype.c=function(a,b,c,d,e){a=new Ef;of(a,{dataType:this.dataType,action:"update",settings:c,data:b});$h(this,a,d,e)};Bg.j().register("wnd.data.ServerProjectDbDataObject",Mi);function Ni(a){this.jl=a.bC;this.ik=a.AC;this.Sj=a.uC||this.ik;this.Vm=a.KC||this.ik;this.c=a.filter;this.h=a.orderBy}f=Ni.prototype;f.jl="";f.ik="";f.Sj="";f.Vm="";f.gk=function(a,b,c,d,e){e=e||!1;!1===e&&r.Autocomplete.minTokenLength>a.length?c(a,[]):(e&&(a=""),b=Oi(this,{filter:[{prefix:"",key:this.ik,operator:"LIKE",value:"%"+a+"%",suffix:""}],limit:{from:0,count:100}}),L.j().get(this.jl,b).Ea(m(this.yB,this,a,c),null))};
f.yB=function(a,b,c,d,e,g){c=[];for(e=0;e<g.order.length;e++){var h=d[g.order[e]];c.push(new Aa(h[this.Sj],h[this.Vm],h))}b(a,c)};function Pi(a,b,c){b=Oi(a,{filter:[{prefix:"",key:a.Sj,operator:"=",value:b,suffix:""}],limit:{from:0,count:1}});L.j().get(a.jl,b).Ea(function(a,b,g,h){null!=h.order[0]?(a=b[h.order[0]],c(new Aa(a[this.Sj],a[this.Vm],a))):c(null)},null,a)}
function Oi(a,b){if(null!=a.c){b.filter=b.filter||[];var c=af(a.c);c[0].prefix=" AND (";c[c.length-1].suffix=")";b.filter=zh(b.filter,c)}null!=a.h&&(b.orderBy=b.orderBy||{},b.orderBy=cf(b.orderBy,a.h));return b};function Qi(){K.call(this);this.c=null;this.g=r.FeLanguages.DataType;this.m=t.page.langId;this.h=null;this.A=L.j().get(this.g);this.A.Ea(m(this.yr,this))}n(Qi,K);da(Qi);f=Qi.prototype;f.yr=function(a,b){this.c||(this.c={},z(b,function(a){this.c[parseInt(a[this.g+".id"],10)]=new Tf(a)},this));this.h&&(Cg(ag.j(),this.h),this.h=null)};f.ru=function(a,b){"success"===a&&(this.h=new yg("dataCreate","children_propagation",this.g,null,b.identifier),Ri(this))};
f.CA=function(a,b){"success"===b&&(this.h=new yg("dataDelete","children_propagation",this.g,null,a.toString()),Ri(this))};f.Uw=function(a){"success"===a&&(this.h=new yg("dataUpdate","children_propagation",this.g),Ri(this))};function Ri(a){a.c=null;a.A.jg();a.A.Ea(m(a.yr,a))}f.vd=function(){return Re(this.c)};function Si(a,b){return a.c?a.c[b]:null}function Ti(a){return Si(a,a.m)};function M(a,b,c){K.call(this);this.Ys=a;this.jt=b;var d=b.lastIndexOf(".");this.ft=b.slice(0,d);c?this.c=c:this.c={id:a,create:{},properties:{}};"undefined"!=typeof this.c.create&&(a=this.c,b=this.ti(null),"undefined"!=typeof this.c.create.data&&(b=ff(b,this.c.create.data)),this.c.id&&(b.id=this.c.id),b=Ui(this).create(b,this.c.create),a.id=b);"undefined"===typeof this.c.properties&&(this.c.properties={});this.id=this.c.id;this.P=!1}n(M,K);f=M.prototype;f.dataType=Ea.mvc.DataType;f.yg=null;
f.tp=!1;f.J=function(){return this.dataType};f.Ab=function(a){this.dataType=a};function Ui(a){a.rh||(a.rh=Bg.j().get(a.dataType));return a.rh}f.getData=function(){var a=Vi(this).getData();return this.id?a[this.id]:a};f.cn=function(){return Vi(this).g};function N(a,b){var c=a.getData();return c?c[b]:{}}function Wi(a,b,c){var d=a.getData();if(d[b]!==c){var e=Ui(a);d[b]=c;e.update(a.id,d);a.notify("onUpdate","data_updated",null,!0)}}
function Xi(a,b,c){var d={changed:!1},e=a.getData();c?(c=b,d.changed||Ze(e,b)||(ff(e,b,d),d.changed=!0)):c=ff(e,b,d);!0===d.changed&&(Ui(a).update(a.id,c),a.notify("onUpdate","data_updated",d.ri,!0))}f.update=function(a,b,c){Vi(this).jg();this.notify("onUpdate",a,c,b)};f.Ha=function(a){this.id=a;this.c.id=a;this.notify("onChangeId")};f.getId=function(){return this.id};f.ti=function(a){return Yi(I.j(),this.ca(),a)};f.ca=function(){return this.jt};f.C=function(){return this.Ys};
f.X=function(){0==this.tp&&Ui(this)["delete"](this.getId());M.l.X.call(this)};function Zi(a){return l(a.c.create)&&null!=a.id}function Vi(a){if(!a.yg||l(a.c.collectionSettingsFunc))l(a.c.collectionSettings)?a.yg=L.j().get(a.dataType,a.c.collectionSettings):l(a.c.collectionSettingsFunc)&&ma(a.c.collectionSettingsFunc)?a.yg=L.j().get(a.dataType,a.c.collectionSettingsFunc()):a.yg=L.j().get(a.dataType);return a.yg}function O(a,b,c){a.c.properties[b]=c}
function P(a,b){return"undefined"!==typeof b?"undefined"!==typeof a.c.properties[b]?a.c.properties[b]:null:a.c.properties}f.ra=function(a,b){var c=this.P;a&&(this.P=!0);this.vi(b);a&&(this.P=c)};f.vi=function(a){a&&Xi(this,a)};f.Yf=function(){return l(this.c.collectionSettings)&&l(this.c.collectionSettings.limit)&&l(this.c.collectionSettings.limit.from)&&l(this.c.collectionSettings.limit.count)};f.Nm=function(){this.Yf()&&(this.yg=null,this.c.collectionSettings.limit.from+=this.c.collectionSettings.limit.count)};function $i(a,b,c){M.call(this,a,b,c)}n($i,M);function aj(){var a=q.ImageSizeManager.DataType;return L.j().get(a)}function bj(){var a=q.ImageSizeManager.DataType;return Bg.j().get(a)};function cj(a,b,c){if(c.properties){var d="";na(c.properties.defaultValue)||(d=c.properties.defaultValue);cf(c,{create:{data:{value:d}}})}M.call(this,a,b,c);c.properties&&c.properties.disabled&&O(this,"state",dj)}n(cj,M);function ej(a,b,c){cj.call(this,a,b,c)}n(ej,cj);ej.prototype.R=null;ej.prototype.me=function(){return this.R&&!this.R.empty?this.R.text:""};function fj(a,b,c,d,e){b=new Aa(c,b,e);c==d&&(a.R=b);return b}function gj(a,b){a.R=null;var c=P(a,"values"),d=[];na(c)&&!ia(c)?z(c,function(a,c){var h=fj(this,a,c,b);d.push(h)},a):d=P(a,"valuesAsKeys")?rh(c,function(a){return fj(this,a,a,b)},a):rh(c,function(a,c){return na(a)?fj(this,a.toString(),c,b,a):fj(this,a,c,b)},a);return d}
ej.prototype.Cf=function(){var a=P(this,"collection");L.j().get(a.datatype).Ea(m(this.Xl,this),null)};ej.prototype.Xl=function(a,b,c,d){this.fh(b,d);this.notify("onLoadAutocomplete")};function hj(a,b,c){cj.call(this,a,b,c)}n(hj,cj);function ij(a,b,c){l(c.properties.defaultValue)&&(c.properties.defaultValue=Number(c.properties.defaultValue));cj.call(this,a,b,c);a=parseInt(N(this,"value"),10);jj(this)?O(this,"checked",1!==a):O(this,"checked",1===a)}n(ij,cj);function jj(a){return null!=P(a,"inverse")&&!!P(a,"inverse")};function kj(a,b,c){null!=c.properties.defaultValue&&(c.properties.defaultValue=lj(c.properties.defaultValue));cj.call(this,a,b,c)}n(kj,cj);function lj(a){/[0-9]{14}/.test(a)?a=parseInt(a,10):a="";return a};function mj(a,b,c){cj.call(this,a,b,c)}n(mj,cj);function nj(a,b,c){cj.call(this,a,b,c)}n(nj,cj);function oj(a,b,c){cj.call(this,a,b,c)}n(oj,cj);function pj(a,b,c){cj.call(this,a,b,c)}n(pj,cj);function qj(a,b,c){cj.call(this,a,b,c)}n(qj,cj);function rj(a,b,c){cj.call(this,a,b,c)}n(rj,cj);function sj(a,b,c){M.call(this,a,b,c)}n(sj,M);sj.prototype.dataType="listing_menu";function tj(a,b,c){M.call(this,a,b,c)}n(tj,M);function uj(a){a=P(a,"type");return null!=a?a:vj};function wj(a,b,c){M.call(this,a,b,c)}n(wj,M);function xj(a,b,c){M.call(this,a,b,c)}n(xj,M);xj.prototype.getSelection=function(){return this.Vn};xj.prototype.getPosition=function(){var a=this.getSelection(),b={x:0,y:0};switch(P(this,"type")){case yj:b.x=a.x;b.y=a.y;break;case zj:b.x=a.x+a.width;b.y=a.y;break;case Aj:b.x=a.x+a.width;b.y=a.y+a.height;break;case Bj:b.x=a.x,b.y=a.y+a.height}return b};function Cj(a,b,c){M.call(this,a,b,c)}n(Cj,M);Cj.prototype.dataType="tree_menu";function Dj(a,b,c){M.call(this,a,b,c)}n(Dj,M);Dj.prototype.dataType="tree_menu";function Ej(a,b,c){M.call(this,a,b,c)}n(Ej,M);Ej.prototype.Ea=function(a,b,c){var d=this;Vi(this).Ea(function(b,g,h,k){g=d.id?g[d.id]:g;a.call(c,b,g,h,k)},b)};function Fj(a,b,c,d){a.Ea(function(a,g,h){c.call(d,a,g?g[b]:null,h)},null)}function Gj(a,b,c,d){a.Ea(function(e,g){var h={changed:!1,ri:{}};g=ff(g,b,h);h.changed?Xh(Ui(a),a.id,h.ri,function(b,e,g){c&&c.call(d,b,e,g);a.notify("onUpdate","data_updated",null,!0)}):a.notify("onUpdateCancelled")})}
Ej.prototype.X=function(){var a=Ui(this);if(a instanceof Wh){var b=this.getId();Zh(a,b,void 0,void 0)}else a["delete"](this.getId());this.tp=!0;Ej.l.X.call(this)};Ej.prototype.Cd=function(){var a=Vi(this),b=Ui(this);return a.Cd()||b.Cd()};function Q(a,b,c){return(c||a.dataType)+"."+b};function Hj(a,b,c){M.call(this,a,b,c)}n(Hj,Ej);function Ij(a,b){var c=P(a,"width");return null===c?null:"full"==c?parseInt(b.width-b.usedWidth,10)+"px":!0===la(c)?c+"px":c}function Jj(a,b){var c=P(a,"height");return null===c?null:"full"==c?b.height===b.usedHeight?b.height:parseInt(b.height-b.usedHeight,10)+"px":!0===la(c)?c+"px":c};function Kj(a,b,c){M.call(this,a,b,c);a=af(r.ListMenu.defaultCss);O(this,"css",a)}n(Kj,Hj);Kj.prototype.dataType="listing_items";function Lj(a,b,c){M.call(this,a,b,c)}n(Lj,Hj);function Mj(a,b,c){M.call(this,a,b,c)}n(Mj,Lj);function Nj(a,b,c){M.call(this,a,b,c);null===P(this,"saveBeforeClose")&&O(this,"saveBeforeClose",!0)}n(Nj,Lj);function Oj(a,b,c){M.call(this,a,b,c);this.properties=af(r.Popup.defaultProperties)}n(Oj,Lj);function Pj(a,b,c){M.call(this,a,b,c);this.properties=af(r.Popup.defaultProperties)}n(Pj,Lj);function Qj(a,b,c){M.call(this,a,b,c)}n(Qj,Hj);function Rj(a,b,c){var d=af(N(a,"selection"));0<=d.x&&d.x+d.width<=a.D.width&&(b-=d.ue,0>b&&(b=0),b+d.width>a.D.width&&(b=a.D.width-d.width),d.x=b);0<=d.y&&d.y+d.height<=a.D.height&&(c-=d.ve,0>c&&(c=0),c+d.height>a.D.height&&(c=a.D.height-d.height),d.y=c);Wi(a,"selection",d)}Qj.prototype.gb=function(){return P(this,"image")};function Sj(a,b,c){M.call(this,a,b,c);this.v={image:[Tj],file:[Uj],favicon:[Vj]}}n(Sj,Lj);function Wj(a,b){var c=null;z(a.v,function(a,e){-1<a.indexOf(b)&&(c=e)},a);return c};function Xj(a,b,c){M.call(this,a,b,c)}n(Xj,Lj);function Yj(a,b,c){Nj.call(this,a,b,c)}n(Yj,Nj);Yj.prototype.dataType="listing_items";function Zj(a,b,c){M.call(this,a,b,c);this.properties={}}var ak;n(Zj,Lj);Zj.prototype.Mo=function(){return ak=!ak||ak<this.Ia()?this.Ia():ak+5};Zj.prototype.Ro=function(){return ak=!ak||ak<this.Ia()?this.Ia():ak-5};Zj.prototype.Ia=function(){return r.Popup.defaultZIndex};Zj.prototype.ti=function(a){a=Zj.l.ti.call(this,a);var b=af(r.Popup.defaultProperties);cf(a,b);return a};function bk(a,b,c){Zj.call(this,a,b,c);this.left=this.top=0}n(bk,Zj);bk.prototype.Ia=function(){return r.Bubble.defaultZIndex};function ck(a,b,c){bk.call(this,a,b,c);this.xh=!1;this.buttons=[];this.Ca=[]}n(ck,bk);f=ck.prototype;f.qd=null;f.fd=!1;f.Eh="";f.Mo=function(){return r.Toolbox.zIndex};f.Ro=function(){return r.Toolbox.zIndex};f.Nd=function(){return this.xh};function dk(a,b,c){M.call(this,a,b,c);a=af(r.TreeMenu.defaultCss);cf(a,P(this,"css"));O(this,"css",a);this.g={};this.M=[];this.xa=[];this.we=null}n(dk,Hj);dk.prototype.Dn=function(){return{items:[],firstLevel:1}};function ek(a,b,c){M.call(this,a,b,c);this.la=!1}n(ek,M);ek.prototype.Od=function(){return"left"==this.position||"right"==this.position};ek.prototype.Af=function(){return x.AddContentManager[this.la?"innerFadeInTime":"fadeInTime"]};ek.prototype.Bf=function(){return x.AddContentManager[this.la?"innerFadeOutTime":"fadeOutTime"]};function fk(a,b,c){ek.call(this,a,b,c)}n(fk,ek);fk.prototype.Af=function(){return x.AddContentContainerManager[this.la?"innerFadeInTime":"fadeInTime"]};fk.prototype.Bf=function(){return x.AddContentContainerManager[this.la?"innerFadeOutTime":"fadeOutTime"]};function gk(a,b,c){ek.call(this,a,b,c)}n(gk,ek);gk.prototype.Af=function(){return x.AddSectionManager[this.la?"innerFadeInTime":"fadeInTime"]};gk.prototype.Bf=function(){return x.AddSectionManager[this.la?"innerFadeOutTime":"fadeOutTime"]};function hk(){K.call(this);this.init()}n(hk,K);hk.prototype.c={};hk.prototype.getName=function(a){return l(this.c[a])?this.c[a]:a};function ik(){hk.call(this)}n(ik,hk);ik.prototype.init=function(){this.c={"wnd.pc.TextBlock":"Basic","wnd.pc.ImageBlock":"Image","wnd.pc.PhotoGalleryBlock":"Photo gallery","wnd.pc.VideoBlock":"Video","wnd.pc.HrLineBlock":"Line","wnd.pc.MapBlock":"Map","wnd.pc.ButtonBlock":"Button","wnd.pc.HtmlBlock":"HTML","wnd.pc.FileBlock":"File","wnd.pc.BlogRecentPosts":"Recent Blog\u00a0Posts","dfc.form.contact":"Contact form","dfc.form.blank":"Blank form"}};function jk(){hk.call(this)}n(jk,hk);jk.prototype.init=function(){this.c={"wnd.pc.ShortTextField":"Short text","wnd.pc.LongTextField":"Long text","wnd.pc.RadioGroupField":"Single choice","wnd.pc.CheckboxGroupField":"Multiple choice","wnd.pc.SelectboxField":"Dropdown list","wnd.pc.EmailField":"Email","wnd.pc.FileUploadField":"File upload","wnd.pc.DateField":"Date","wnd.pc.PhoneField":"Phone","wnd.pc.NumberField":"Number","wnd.pc.PasswordField":"Password\n"}};function kk(){hk.call(this)}n(kk,hk);
kk.prototype.init=function(){this.c={header:"Header",master:"Master",footer:"Footer",blog:"Blog",blog_detail_header:"Blog detail header","default":"Blank",cta:"Heading with button",services:"Services",testimonials:"Testimonials",clients:"Logos",pricelist:"Pricelist",two_cols:"Two text columns",text_image:"Text and image",heading:"Heading",two_cols_image:"Two columns",three_cols_image:"Three columns",photogallery:"Photo gallery",contact:"Contact",products:"Products",newsletter:"Newsletter registration",
order:"Order form",reservation:"Reservation",blog_recent_posts:"Recent Blog\u00a0Posts",media:"Media"}};function lk(a,b,c){M.call(this,a,b,c)}n(lk,M);lk.prototype.active=!1;function mk(a,b,c){Nj.call(this,a,b,c)}n(mk,Nj);mk.prototype.dataType="listing_items";function nk(a,b,c){Nj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(nk,Nj);nk.prototype.dataType=x.EditDefaultPageForm.DataType;function ok(a,b,c){Nj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(ok,Nj);ok.prototype.dataType=x.EditEmailNotificationFormModel.DataType;function pk(a,b,c){Nj.call(this,a,b,c)}n(pk,Nj);pk.prototype.dataType=x.EditFieldSettingsForm.DataType;function qk(a,b,c){Nj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(qk,Nj);qk.prototype.dataType=x.EditFormActionForm.DataType;function rk(a,b,c){Nj.call(this,a,b,c)}n(rk,Nj);rk.prototype.dataType=x.EditImageFormModel.DataType;function sk(a,b,c){Nj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(sk,Nj);sk.prototype.dataType=x.EditLinkFormModel.DataType;function tk(a,b,c){Nj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(tk,Nj);tk.prototype.dataType=x.EditMapFormModel.DataType;tk.prototype.zf=function(){var a="";return a=this.J()===x.EditMapFormModel.DataType?N(this,"address"):"12 Pike St, New York"};function uk(a,b,c){Nj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(uk,Nj);uk.prototype.dataType=x.EditSelectboxFieldOptionsFormModel.DataType;uk.prototype.vi=function(a){a&&Xi(this,a,!0)};function vk(a,b,c){Nj.call(this,a,b,c)}n(vk,Nj);vk.prototype.dataType="content_items";function wk(a,b,c){Nj.call(this,a,b,c)}n(wk,Nj);wk.prototype.dataType="content_items";function xk(a,b,c){M.call(this,a,b,c)}n(xk,M);function yk(a,b,c){M.call(this,a,b,c)}n(yk,M);yk.prototype.active=!1;yk.prototype.selected=!1;function zk(a,b,c){M.call(this,a,b,c)}n(zk,yk);function Ak(a,b,c){M.call(this,a,b,c)}n(Ak,zk);function Bk(a,b,c){Oj.call(this,a,b,c)}n(Bk,Oj);function Ck(a,b,c){Pj.call(this,a,b,c)}n(Ck,Pj);function Dk(a,b,c){c.id=c.properties.imageId;M.call(this,a,b,c)}n(Dk,Lj);function Ek(a,b,c){Zj.call(this,a,b,c)}n(Ek,Zj);function Fk(a,b,c){Zj.call(this,a,b,c)}n(Fk,Zj);function Gk(a,b,c){bk.call(this,a,b,c);a=t.page.langId;this.yc=null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[a]&&!t.listings.blog[a].removed}n(Gk,bk);function Hk(a,b,c){Gk.call(this,a,b,c)}n(Hk,Gk);function Ik(a,b,c){Zj.call(this,a,b,c)}n(Ik,Zj);function Jk(a,b,c){Zj.call(this,a,b,c)}n(Jk,Zj);function Kk(a){K.call(this);this.uri=a;this.c=null;this.h=!1;this.init()}n(Kk,K);Kk.prototype.init=function(){this.notify("onDataReady")};Kk.prototype.getData=function(){var a=this.pr();return{url:this.qr(),source:this.Nh(),thumbnail:this.Nl(),thumbnail_large:this.Ko(),video_id:this.Wf(),thumbnail_id:this.To(),width:a.width,height:a.height}};function Lk(a){return x.VideoUrlParser[a.Nh()].thumbnail};function Mk(a){Kk.call(this,a)}n(Mk,Kk);f=Mk.prototype;f.init=function(){if(!this.c){this.h=!0;var a=Lk(this)+this.Wf()+".json";Nk(a,m(this.Qz,this))}};f.Nh=function(){return Ok};f.Qz=function(a){this.h=!1;var b=a.target;"complete"===a.type&&Pk(b)&&(this.c=Qk(b)[0],this.notify("onDataReady"))};f.qr=function(){return x.VideoUrlParser[this.Nh()].url+this.Wf()};function Rk(a,b){var c="";null!=a.c&&(c=a.c[b]);return c}f.Nl=function(){return Rk(this,"thumbnail_medium")};
f.Ko=function(){return Rk(this,"thumbnail_large")};f.Wf=function(){return mh(this.uri.c.split("/")).trim()};f.To=function(){return Sk(this.Nl()).c.replace(/\/video\/(\d*)\_.*/,"$1")};f.pr=function(){var a=1,b=1;this.c&&(a=this.c.width,b=this.c.height);return new Ce(a,b)};function Tk(a){Kk.call(this,a)}n(Tk,Kk);f=Tk.prototype;f.Nh=function(){return Uk};f.qr=function(){var a="";null!=this.uri.h.get("list")&&(a="?list="+this.uri.h.get("list"));return x.VideoUrlParser[this.Nh()].url+this.Wf()+a};function Vk(a,b){var c=Lk(a),c=c+a.Wf()+"/";return c+b+".jpg"}f.Nl=function(){return Vk(this,"mqdefault")};f.Ko=function(){return Vk(this,"hqdefault")};f.Wf=function(){var a="";return a=this.uri.h.get("v")?this.uri.h.get("v"):this.uri.c.replace("/embed","").substr(1)};f.To=function(){return this.Wf()};
f.pr=function(){return new Ce(640,360)};function Wk(){K.call(this)}n(Wk,K);function Xk(a){Sh.call(this,a)}n(Xk,Li);Xk.prototype.Zi=function(a,b){var c=Xk.l.Zi.call(this,a,b);if("undefined"!=typeof b.parentId){var d=b.parentId,d=Uh(this).getData(d);if(b&&(b.before||b.after)){var e=d.content.indexOf(b.before?b.before:b.after);b.after&&e++;d.content.splice(e,0,a.id)}else"undefined"==typeof d.content&&(d.content=[]),d.content.push(a.id)}return c};
Xk.prototype.cj=function(a){var b=Uh(this).getData(a);if(b&&l(b.content)){var c=[];l(b.contentMap)?(z(b.content,function(a){c=zh(c,a)}),Eh(c)):c=b.content;u(c,m(function(a){this["delete"](a)},this))}Xk.l.cj.call(this,a);(b=Yk(this,a))&&b.content&&(a=b.content.indexOf(a),b.content.splice(a,1))};function Yk(a,b){var c=Uh(a).getData(),d={},e=null,g;for(g in c)if(ha(c[g].content)&&(d=c[g].content,-1!=d.indexOf(b))){e=c[g];break}return e}Xk.prototype.lg=function(){Xk.l.lg.call(this)};
function Zk(a,b,c){b=Yi(I.j(),b,c);"object"==typeof b.refs?a.refs=b.refs:"object"==typeof a.refs&&delete a.refs}Xk.prototype.uk=function(a,b,c){var d=c?c.parentId:null,e=c?c.before:null,g=c?c.after:null;d||e||g?(d?((b=Yk(this,a))&&b.content&&cg(b.content,a),d=Uh(this).getData(d)):d=Yk(this,a),e||g?(cg(d.content,a),e=d.content.indexOf(e?e:g),g&&e++,Ch(d.content,e,0,a)):("undefined"==typeof d.content&&(d.content=[]),d.content.push(a))):Xk.l.uk.call(this,a,b,c)};
Bg.j().register("wnd.pc.ContentItemDataObject",Xk);function $k(a,b,c){M.call(this,a,b,c);this.oa();this.de={zIndex:null,isFixed:null}}n($k,Ej);f=$k.prototype;f.dataType=x.ContentItemModel.DataType;f.oa=function(){this.options={Pc:!1,gc:!1,mh:!1,Ed:!1,editable:!1,Ec:!1,Fd:!1,Gg:!1,lj:!1}};f.move=function(a,b,c){var d=Ui(this);a={parentId:a};b&&c&&("right"==c||"bottom"==c?a.after=b:a.before=b);d.update(this.getId(),null,a)};f.getContext=function(){return this.getData().context};f.Uc=function(){return N(this,"variant")?N(this,"variant"):"default"};
f.Xe=function(){return this.ca()};f.getComputedStyle=function(a){return null!=this.de[a]?this.de[a]:null};f.Nd=function(){return this.getComputedStyle("isFixed")};function al(a,b,c){M.call(this,a,b,c)}n(al,M);al.prototype.dataType="gui_pages";al.prototype.eb=function(){};function bl(a,b,c){M.call(this,a,b,c)}n(bl,Lj);bl.prototype.dataType="tpl_page_templates";function cl(a,b,c){Nj.call(this,a,b,c)}n(cl,Nj);cl.prototype.dataType="gui_pages";function dl(a,b,c){Nj.call(this,a,b,c);this.cd={On:"pageDetailBaseForm",Ki:"pageDetailAdvancedForm"}}n(dl,Nj);dl.prototype.dataType="gui_pages";function el(a,b,c){M.call(this,a,b,c)}n(el,Cj);el.prototype.dataType="gui_pages_tree";function fl(a,b,c){M.call(this,a,b,c)}n(fl,Dj);fl.prototype.dataType="gui_pages_tree";function gl(a){return!!N(a,"sys_page")};function hl(a,b,c){dk.call(this,a,b,c)}n(hl,dk);hl.prototype.dataType="gui_pages";
hl.prototype.Dn=function(a,b){for(var c=[],d=[],e=0,g=b.length;e<g;e++){var h=parseInt(a[b[e]][Q(this,"parent_id")],10),k={id:parseInt(a[b[e]][Q(this,"id")],10),item_order:parseInt(a[b[e]][Q(this,"item_order")],10),parent_id:h,x:parseInt(a[b[e]][Q(this,"x")],10),identifier:"/"+a[b[e]][Q(this,"identifier")]+"/",name:a[b[e]][Q(this,"name")],publish_since:a[b[e]][Q(this,"publish_since")],publish_until:a[b[e]][Q(this,"publish_until")],page_template_id:parseInt(a[b[e]][Q(this,"page_template_id")],10),
lang_id:parseInt(a[b[e]][Q(this,"lang_id")],10),private_access:parseInt(a[b[e]][Q(this,"private_access")],10),show_in_map:parseInt(a[b[e]][Q(this,"show_in_map")],10),show_in_menu:parseInt(a[b[e]][Q(this,"show_in_menu")],10),sys_page:parseInt(a[b[e]][Q(this,"sys_page")],10)};k.sys_page&&!F(b,h)?d.push(k):c.push(k)}c=Ah(c,d);return{items:c,firstLevel:c[0].x+1,rootId:c[0].id}};function il(a,b,c){Nj.call(this,a,b,c)}n(il,Nj);il.prototype.dataType="server_projects";function jl(a,b,c){Nj.call(this,a,b,c)}n(jl,Nj);jl.prototype.dataType="server_projects";function kl(a,b,c){Nj.call(this,a,b,c)}n(kl,Nj);kl.prototype.dataType=r.FeLanguages.DataType;function ll(a,b,c){cj.call(this,a,b,c)}n(ll,ej);ll.prototype.fh=function(a,b){var c={};u(b.order,function(b){b=a[b];c[b.identifier]=b.name},this);O(this,"values",c)};function ml(a,b,c){Nj.call(this,a,b,c)}n(ml,Nj);ml.prototype.dataType=r.FeLanguages.DataType;function nl(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}return b};function ol(a,b){switch(b){case 1:return 0!=a%4||0==a%100&&0!=a%400?28:29;case 5:case 8:case 10:case 3:return 30}return 31}function pl(a,b,c,d,e,g){ja(a)?(this.F=a==ql?b:0,this.A=a==rl?b:0,this.c=a==sl?b:0,this.h=a==tl?b:0,this.g=a==ul?b:0,this.m=a==vl?b:0):(this.F=a||0,this.A=b||0,this.c=c||0,this.h=d||0,this.g=e||0,this.m=g||0)}pl.prototype.equals=function(a){return a.F==this.F&&a.A==this.A&&a.c==this.c&&a.h==this.h&&a.g==this.g&&a.m==this.m};
pl.prototype.clone=function(){return new pl(this.F,this.A,this.c,this.h,this.g,this.m)};var ql="y",rl="m",sl="d",tl="h",ul="n",vl="s";pl.prototype.add=function(a){this.F+=a.F;this.A+=a.A;this.c+=a.c;this.h+=a.h;this.g+=a.g;this.m+=a.m};
function wl(a,b,c){la(a)?(this.c=xl(a,b||0,c||1),yl(this,c||1)):na(a)?(this.c=xl(a.getFullYear(),a.getMonth(),a.getDate()),yl(this,a.getDate())):(this.c=new Date(va()),a=this.c.getDate(),this.c.setHours(0),this.c.setMinutes(0),this.c.setSeconds(0),this.c.setMilliseconds(0),yl(this,a))}function xl(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}f=wl.prototype;f.Ie=fe.wb;f.Hh=fe.xb;f.clone=function(){var a=new wl(this.c);a.Ie=this.Ie;a.Hh=this.Hh;return a};
f.getFullYear=function(){return this.c.getFullYear()};f.getMonth=function(){return this.c.getMonth()};f.getDate=function(){return this.c.getDate()};f.getTime=function(){return this.c.getTime()};f.getDay=function(){return this.c.getDay()};f.getUTCFullYear=function(){return this.c.getUTCFullYear()};f.getUTCMonth=function(){return this.c.getUTCMonth()};f.getUTCDate=function(){return this.c.getUTCDate()};f.getUTCHours=function(){return this.c.getUTCHours()};f.getUTCMinutes=function(){return this.c.getUTCMinutes()};
f.getTimezoneOffset=function(){return this.c.getTimezoneOffset()};function zl(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+gh(c,2)+":"+gh(b,2)}return a}
f.add=function(a){if(a.F||a.A){var b=this.getMonth()+a.A+12*a.F,c=this.getFullYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d=Math.min(ol(c,b),this.getDate());this.c.setDate(1);this.c.setFullYear(c);this.c.setMonth(b);this.c.setDate(d)}a.c&&(a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.c),this.c.setDate(1),this.c.setFullYear(a.getFullYear()),this.c.setMonth(a.getMonth()),this.c.setDate(a.getDate()),yl(this,a.getDate()))};
f.Ij=function(a,b){return[this.getFullYear(),gh(this.getMonth()+1,2),gh(this.getDate(),2)].join(a?"-":"")+(b?zl(this):"")};f.equals=function(a){return!(!a||this.getFullYear()!=a.getFullYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};f.toString=function(){return this.Ij()};function yl(a,b){a.getDate()!=b&&a.c.setUTCHours(a.c.getUTCHours()+(a.getDate()<b?1:-1))}f.valueOf=function(){return this.c.valueOf()};
function Al(a,b,c,d,e,g,h){this.c=la(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a&&a.getTime?a.getTime():va())}n(Al,wl);f=Al.prototype;f.getHours=function(){return this.c.getHours()};f.getMinutes=function(){return this.c.getMinutes()};f.getSeconds=function(){return this.c.getSeconds()};f.getUTCHours=function(){return this.c.getUTCHours()};f.getUTCMinutes=function(){return this.c.getUTCMinutes()};
f.add=function(a){wl.prototype.add.call(this,a);a.h&&this.c.setUTCHours(this.c.getUTCHours()+a.h);a.g&&this.c.setUTCMinutes(this.c.getUTCMinutes()+a.g);a.m&&this.c.setUTCSeconds(this.c.getUTCSeconds()+a.m)};f.Ij=function(a,b){var c=wl.prototype.Ij.call(this,a);return a?c+" "+gh(this.getHours(),2)+":"+gh(this.getMinutes(),2)+":"+gh(this.getSeconds(),2)+(b?zl(this):""):c+"T"+gh(this.getHours(),2)+gh(this.getMinutes(),2)+gh(this.getSeconds(),2)+(b?zl(this):"")};
f.equals=function(a){return this.getTime()==a.getTime()};f.toString=function(){return this.Ij()};f.clone=function(){var a=new Al(this.c);a.Ie=this.Ie;a.Hh=this.Hh;return a};function Bl(a){if(a.classList)return a.classList;a=a.className;return ja(a)&&a.match(/\S+/g)||[]}function Cl(a,b){return a.classList?a.classList.contains(b):F(Bl(a),b)}function Dl(a,b){a.classList?a.classList.add(b):Cl(a,b)||(a.className+=0<a.className.length?" "+b:b)}function El(a,b){if(a.classList)u(b,function(b){Dl(a,b)});else{var c={};u(Bl(a),function(a){c[a]=!0});u(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Fl(a,b){a.classList?a.classList.remove(b):Cl(a,b)&&(a.className=qh(Bl(a),function(a){return a!=b}).join(" "))}function Gl(a,b){a.classList?u(b,function(b){Fl(a,b)}):a.className=qh(Bl(a),function(a){return!F(b,a)}).join(" ")}function Hl(a,b,c){c?Dl(a,b):Fl(a,b)};function Il(a){this.src=a;this.c={};this.h=0}Il.prototype.add=function(a,b,c,d,e){var g=a.toString();a=this.c[g];a||(a=this.c[g]=[],this.h++);var h=Jl(a,b,d,e);-1<h?(b=a[h],c||(b.Pi=!1)):(b=new ae(b,this.src,g,!!d,e),b.Pi=c,a.push(b));return b};Il.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.c))return!1;var e=this.c[a];b=Jl(e,b,c,d);return-1<b?(be(e[b]),yh(e,b),0==e.length&&(delete this.c[a],this.h--),!0):!1};
function Kl(a,b){var c=b.type;c in a.c&&cg(a.c[c],b)&&(be(b),0==a.c[c].length&&(delete a.c[c],a.h--))}Il.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.c)if(!a||c==a){for(var d=this.c[c],e=0;e<d.length;e++)++b,be(d[e]);delete this.c[c];this.h--}return b};function Ll(a,b,c,d,e){a=a.c[b.toString()];b=-1;a&&(b=Jl(a,c,d,e));return-1<b?a[b]:null}function Jl(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.jh&&g.listener==b&&g.Ti==!!c&&g.Lj==d)return e}return-1};function Ml(a){return $g(Rg(a.replace(Nl,function(a,c){return Ol.test(c)?"":" "}).replace(/[\t\n ]+/g," ")))}var Ol=/^(?:abbr|acronym|address|b|em|i|small|strong|su[bp]|u)$/i,Nl=/<[!\/]?([a-z0-9]+)([\/ ][^>]*)?>/gi;function Pl(a,b,c){if(!0===(null!=c.properties.defaultValue)){var d=c.properties,e=c.properties.defaultValue;!0===/^\/.*\/$/.test(e)?e=e.slice(1,-1):ja(e)&&0===e.indexOf("http://")&&(e=e.slice(7));d.defaultValue=e}cj.call(this,a,b,c);this.v=this.Xa=0;this.S=!1}n(Pl,ej);
Pl.prototype.fh=function(a,b,c){var d=c+".",e=null!=P(this,"values")?P(this,"values"):{},g={};u(b.order,function(b){b=a[b];var k=b[d+"link"],p=Ml(b[d+"name"]);"listing_items"===c&&(k=t.listingsPrefix+b[d+"identifier"]+"/");t.page.langId==b[d+"lang_id"]?e[k]=p:g[k]=p},this);cf(e,g);O(this,"values",e)};Pl.prototype.Cf=function(){L.j().get("server_projects").Ea(m(this.af,this),null,this)};Pl.prototype.af=function(a,b){this.S="MEMBER_LOGIN"===b["server_projects.private_access_type"];Ql(this)};
function Ql(a){a.v=0;var b=[{datatype:"gui_pages",filter:Rl(a),orderBy:r.LinkFormItem.dataSettings.orderBy},{datatype:"listing_items"}];a.Xa=b.length;O(a,"values",null);u(b,function(a){L.j().get(a.datatype,{filter:a.filter,orderBy:a.orderBy}).Ea(m(this.ce,this,a.datatype),null)},a)}
function Rl(a){var b=[{prefix:"",key:"gui_pages.sys_page",operator:"=",value:0,suffix:""}],c=Sl(a);D(c)||b.push({prefix:"OR",key:"gui_pages.id",operator:"IN",value:c,suffix:""});a=P(a,"dataSettings");null!=a&&null!=a.filter&&(b=a.filter);return b}function Sl(a){var b=[];a.S&&z(Qi.j().c,function(a){Yf(a)&&(b=zh(b,Yf(a)))},a);return b}Pl.prototype.ce=function(a,b,c,d,e){this.v++;this.fh(c,e,a);this.Xa==this.v&&this.notify("onLoadAutocomplete")};function Tl(){}function Ul(a){if("number"==typeof a){var b=new Tl;b.h=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",gh(c,2));c=d.join("")}b.A=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=Vl(a);b.m=[c,c];b.c={UB:a,Bn:a};b.g=[];return b}b=new Tl;b.A=a.id;b.h=-a.std_offset;b.m=a.names;b.c=a.names_ext;b.g=a.transitions;return b}
function Vl(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(gh(Math.floor(a/60)%100,2),":",gh(a%60,2));return b.join("")}function Wl(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.g.length&&c>=a.g[d];)d+=2;return 0==d?0:a.g[d-1]};function Xl(a,b){this.h=[];this.c=b||fe;"number"==typeof a?Yl(this,a):Zl(this,a)}var $l=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/];function am(a){return a.getHours?a.getHours():0}
function Zl(a,b){for(bm&&(b=b.replace(/\u200f/g,""));b;)for(var c=0;c<$l.length;++c){var d=b.match($l[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.h.push({text:d,type:c});break}}}
Xl.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-(b.h-Wl(b,a))):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));for(var c=[],g=0;g<this.h.length;++g){var h=this.h[g].text;1==this.h[g].type?c.push(cm(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function Yl(a,b){var c;if(4>b)c=a.c.vb[b];else if(8>b)c=a.c.Db[b-4];else if(12>b)c=a.c.Lb[b-8],c=c.replace("{1}",a.c.vb[b-8]),c=c.replace("{0}",a.c.Db[b-8]);else{Yl(a,10);return}Zl(a,c)}function dm(a,b){var c;c=String(b);var d=a.c||fe;if(void 0!==d.Rr){for(var e=[],g=0;g<c.length;g++){var h=c.charCodeAt(g);e.push(48<=h&&57>=h?String.fromCharCode(d.Rr+h-48):c.charAt(g))}c=e.join("")}return c}var bm=!1;
function em(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function cm(a,b,c,d,e,g){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.c.Mb[c]:a.c.Nb[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),dm(a,gh(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.c.Pb[c];break a;case 4:h=a.c.Ob[c];break a;case 3:h=a.c.Rb[c];break a;default:h=dm(a,gh(c+1,h))}return h;case "k":return em(e),dm(a,gh(am(e)||24,h));case "S":return dm(a,(e.getTime()%1E3/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?gh(0,h-3):""));case "E":return c=
d.getDay(),4<=h?a.c.Xb[c]:a.c.Tb[c];case "a":return em(e),h=am(e),a.c.Kb[12<=h&&24>h?1:0];case "h":return em(e),dm(a,gh(am(e)%12||12,h));case "K":return em(e),dm(a,gh(am(e)%12,h));case "H":return em(e),dm(a,gh(am(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.c.Cb[c];break a;case 4:h=a.c.Wb[c];break a;case 3:h=a.c.yb[c];break a;default:h=dm(a,gh(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.c.Ub[c];break a;case 4:h=a.c.ob[c];break a;case 3:h=a.c.Vb[c];break a;default:h=dm(a,gh(c+
1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.c.Sb[c]:a.c.Qb[c];case "d":return dm(a,gh(d.getDate(),h));case "m":return em(e),dm(a,gh(e.getMinutes(),h));case "s":return em(e),dm(a,gh(e.getSeconds(),h));case "v":return h=g||Ul(c.getTimezoneOffset()),h.A;case "V":return a=g||Ul(c.getTimezoneOffset()),2>=h?a.A:0<Wl(a,c)?l(a.c.Mr)?a.c.Mr:a.c.DST_GENERIC_LOCATION:l(a.c.Bn)?a.c.Bn:a.c.STD_GENERIC_LOCATION;case "w":return c=a.c.xb,e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),
b=a.c.wb||0,c=e.valueOf()+864E5*(((l(c)?c:3)-b+7)%7-((e.getDay()+6)%7-b+7)%7),dm(a,gh(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=g||Ul(c.getTimezoneOffset()),4>h?a.m[0<Wl(a,c)?2:0]:a.m[0<Wl(a,c)?3:1];case "Z":return e=g||Ul(c.getTimezoneOffset()),4>h?(h=-(e.h-Wl(e,c)),a=[0>h?"-":"+"],h=Math.abs(h),a.push(gh(Math.floor(h/60)%100,2),gh(h%60,2)),h=a.join("")):h=dm(a,Vl(e.h-Wl(e,c))),h;default:return""}};var fm;a:{var gm=ba.navigator;if(gm){var hm=gm.userAgent;if(hm){fm=hm;break a}}fm=""}function im(a){return-1!=fm.indexOf(a)};function jm(){return im("Opera")||im("OPR")}function km(){return(im("Chrome")||im("CriOS"))&&!jm()&&!im("Edge")};function lm(){return im("iPhone")&&!im("iPod")&&!im("iPad")};function mm(a,b,c){M.call(this,a,b,c)}n(mm,M);mm.prototype.Ic=function(){return"bottom"==this.position||"top"==this.position};mm.prototype.Od=function(){return"left"==this.position||"right"==this.position};
mm.prototype.We=function(a,b,c){var d,e,g,h,k,p=a.id+"_"+b.id+(c?"_"+c.id:""),w=P(this,"stripeCoords");w[p]?(b=w[p].srcElCoord,d=w[p].srcElMargin,h=w[p].width,k=w[p].height):(b=R.Me(a,b),d=R.Og(a),e=R.pa(a),h=e.width,k=e.height,c&&(g=R.pa(c),this.Ic()?h=g.width:k=g.height),w[p]={srcElCoord:b,srcElMargin:d,srcElSize:e,sizeElSize:g,width:h,height:k});Mg(I.j(),a.id)&&nm(I.j().get(a.id))&&(h+=d.left+d.right,k+=d.top+d.bottom,b=new S(b.x-d.left,b.y-d.top));switch(this.position){case "top":this.A=new S(b.x,
b.y);this.o=new S(b.x+h,b.y);break;case "right":this.A=new S(b.x+h,b.y);this.o=new S(b.x+h,b.y+k);break;case "bottom":this.A=new S(b.x,b.y+k);this.o=new S(b.x+h,b.y+k);break;case "left":this.A=new S(b.x,b.y),this.o=new S(b.x,b.y+k)}};
function om(a){var b=r.DropStripe.DefaultHorizOffset,c=r.DropStripe.DefaultVertOffset;a.Ic()&&(c=r.DropStripe.HorizStripeVertOffset);a.Od()&&(b=r.DropStripe.VertStripeHorizOffset);a.h&&delete a.h;a.h=new pm(a.A.x-b>>0||0,a.A.y-c>>0||0,a.o.x-a.A.x+2*b>>0||0,a.o.y-a.A.y+2*c>>0||0)}function qm(a){a.zIndex=a.Ic()?r.DropStripe.ZIndex:r.DropStripe.ZIndex+1}
function rm(a,b,c){var d=b.id+"_"+c.id,e=P(a,"dragAreaBoxRect");if(e[d])a.U=e[d];else{c=R.Me(b,c);b=R.pa(b);var g=r.DropStripe.DragAreaOffset;a.U=new pm(c.x-g,c.y-g,b.width+2*g,b.height+2*g);e[d]=a.U}};function sm(a,b,c){M.call(this,a,b,c)}n(sm,mm);function tm(a){var b=um(a);if(!b.length)throw Error(a+" is not a valid RGB color");return b}var vm=/#(.)(.)(.)/;function wm(a){if(!xm.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(vm,"#$1$1$2$2$3$3"));a=a.toLowerCase();return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function ym(a,b,c){a=Number(a);b=Number(b);c=Number(c);if(a!=(a&255)||b!=(b&255)||c!=(c&255))throw Error('"('+a+","+b+","+c+'") is not a valid RGB color');a=zm(a.toString(16));b=zm(b.toString(16));c=zm(c.toString(16));return"#"+a+b+c}function Am(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var xm=/^#(?:[0-9a-f]{3}){1,2}$/i,Bm=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
function um(a){var b=a.match(Bm);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]}function zm(a){return 1==a.length?"0"+a:a}function Cm(a){return"#"==a.charAt(0)?a:"#"+a};function Dm(a){var b={};a=String(a);var c=Cm(a);if(Em.test(c))return b.Nj=Fm(c),b.type="hex",b;var d;a:{var e=a.match(Gm);if(e){var c=Number(e[1]),g=Number(e[2]);d=Number(e[3]);e=Number(e[4]);if(0<=c&&255>=c&&0<=g&&255>=g&&0<=d&&255>=d&&0<=e&&1>=e){d=[c,g,d,e];break a}}d=[]}if(d.length){a=d[0];c=d[1];g=d[2];d=d[3];e=Math.floor(255*d);if(isNaN(e)||0>e||255<e)throw Error('"('+a+","+c+","+g+","+d+'") is not a valid RGBA color');d=zm(e.toString(16));a=ym(a,c,g)+d;b.Nj=a;b.type="rgba";return b}a:{if(e=
a.match(Hm))if(c=Number(e[1]),g=Number(e[2]),d=Number(e[3]),e=Number(e[4]),0<=c&&360>=c&&0<=g&&100>=g&&0<=d&&100>=d&&0<=e&&1>=e){e=[c,g,d,e];break a}e=[]}if(e.length){c=e[0];g=e[1];d=e[2];a=e[3];e=Math.floor(255*a);if(isNaN(e)||0>e||255<e)throw Error('"('+c+","+g+","+d+","+a+'") is not a valid HSLA color');a=zm(e.toString(16));g=g/100;d=d/100;var h=e=0,k=0,c=c/360;if(0==g)e=h=k=255*d;else var p=k=0,p=.5>d?d*(1+g):d+g-g*d,k=2*d-p,e=255*Am(k,p,c+1/3),h=255*Am(k,p,c),k=255*Am(k,p,c-1/3);c=[Math.round(e),
Math.round(h),Math.round(k)];c=ym(c[0],c[1],c[2]);b.Nj=c+a;b.type="hsla";return b}throw Error(a+" is not a valid color string");}function Im(a,b,c){if(Em.test(a))return Fm(Cm(a)).substring(b,c);throw Error(a+" is not a valid 8-hex color string");}var Jm=/#(.)(.)(.)(.)/;function Fm(a){if(!Em.test(a))throw Error("'"+a+"' is not a valid alpha hex color");5==a.length&&(a=a.replace(Jm,"#$1$1$2$2$3$3$4$4"));return a.toLowerCase()}
function Km(a,b,c,d){if(isNaN(a)||0>a||255<a||isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c||isNaN(d)||0>d||1<d)throw Error('"('+a+","+b+","+c+","+d+')" is not a valid RGBA color');a=[a,b,c,d];b=a.slice(0);b[3]=Math.round(1E3*a[3])/1E3;return"rgba("+b.join(",")+")"}var Em=/^#(?:[0-9a-f]{4}){1,2}$/i,Gm=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,Hm=/^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i;var Lm="StopIteration"in ba?ba.StopIteration:{message:"StopIteration",stack:""};function Mm(){}Mm.prototype.next=function(){throw Lm;};Mm.prototype.Jk=function(){return this};function Nm(a){if(a instanceof Mm)return a;if("function"==typeof a.Jk)return a.Jk(!1);if(ia(a)){var b=0,c=new Mm;c.next=function(){for(;;){if(b>=a.length)throw Lm;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Om(a,b,c){if(ia(a))try{u(a,b,c)}catch(d){if(d!==Lm)throw d;}else{a=Nm(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(d){if(d!==Lm)throw d;}}};function Pm(a,b){this.h=a;this.c=b}var Qm=new wl(0,0,1),Rm=new wl(9999,11,31);Pm.prototype.contains=function(a){return a.valueOf()>=this.h.valueOf()&&a.valueOf()<=this.c.valueOf()};function S(a,b){this.x=l(a)?a:0;this.y=l(b)?b:0}f=S.prototype;f.clone=function(){return new S(this.x,this.y)};function Sm(a,b){return new S(a.x-b.x,a.y-b.y)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof S?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),la(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=la(b)?b:a;this.x*=a;this.y*=c;return this};function Tm(){this.h=null;this.m=this.A=0;this.g=this.c=this.F=null}f=Tm.prototype;f.add=function(a,b,c){this.h=Um(a);this.m=this.A=0;this.F=null;this.c=b;this.g=c;Vm(this.h,"touchstart",m(this.ky,this));Vm(this.h,"touchmove",m(this.jy,this));Vm(this.h,"touchend",m(this.iy,this))};
f.ky=function(a){var b=a.c.targetTouches[0];if(null!==b){var c=b.pageX,b=b.pageY;null===this.c.F?this.c.F=new S(c,b):(this.c.F.x=c,this.c.F.y=b)}this.c.je(a);a=this.g;a.h=[];for(var c=a.c.length,b=[],d=null;c--;)d=a.c[c],"object"===typeof d&&"none"!=d.style.display&&(d={Zt:c,size:R.pa(d),offset:R.Me(d,document.documentElement)},b.push(d));a.h=b};
f.jy=function(a){a.preventDefault();a.stopPropagation();var b=a.c.targetTouches[0];if(null!=b){var c=b.pageX,d=b.pageY;null===this.c.F?this.c.F=new S(c,d):(this.c.F.x=c,this.c.F.y=d);this.c.Vi(c,d);Wm(this.c,b);b=Ca(this.g,c,d);this.F!==b&&(a.rk=this.F,this.c.ej(a),this.F=b,this.A=c,this.m=d,a.rk=b,this.c.Bg(a))}};f.iy=function(a){Da(this.g,this.A,this.m);var b=Ca(this.g,this.A,this.m);a.rk=b;this.c.Ge(a);null!==b&&this.c.Ae(a)};
f.getPosition=function(){return{x:parseInt(this.h.style.left||0,10),y:parseInt(this.h.style.top||0,10)}};function Xm(){K.call(this);this.h=new Tm;this.c=new Ba}n(Xm,K);function Ym(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=Ym.prototype;f.Ma=function(){return this.right-this.left};f.getHeight=function(){return this.bottom-this.top};f.clone=function(){return new Ym(this.top,this.right,this.bottom,this.left)};f.contains=function(a){return this&&a?a instanceof Ym?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
f.translate=function(a,b){a instanceof S?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,la(b)&&(this.top+=b,this.bottom+=b));return this};f.scale=function(a,b){var c=la(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function pm(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=pm.prototype;f.clone=function(){return new pm(this.left,this.top,this.width,this.height)};function Zm(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),g=Math.min(a.top+a.height,b.top+b.height);if(e<=g)return a.left=c,a.top=e,a.width=d-c,a.height=g-e,!0}return!1}
function $m(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),g=Math.min(a.top+a.height,b.top+b.height);if(e<=g)return new pm(c,e,d-c,g-e)}return null}
f.difference=function(a){var b=$m(this,a);if(b&&b.height&&b.width){var b=[],c=this.top,d=this.height,e=this.left+this.width,g=this.top+this.height,h=a.left+a.width,k=a.top+a.height;a.top>this.top&&(b.push(new pm(this.left,this.top,this.width,a.top-this.top)),c=a.top,d-=a.top-this.top);k<g&&(b.push(new pm(this.left,k,this.width,g-k)),d=k-c);a.left>this.left&&b.push(new pm(this.left,c,a.left-this.left,d));h<e&&b.push(new pm(h,c,e-h,d));a=b}else a=[this.clone()];return a};
f.contains=function(a){return a instanceof pm?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};f.pa=function(){return new Ce(this.width,this.height)};f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.translate=function(a,b){a instanceof S?(this.left+=a.x,this.top+=a.y):(this.left+=a,la(b)&&(this.top+=b));return this};
f.scale=function(a,b){var c=la(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function an(a,b,c,d,e,g){K.call(this);this.c=a;this.h=b;this.g=c;this.o=d;this.F=!0===e;this.m=g?g:null;this.A=null;bn(this)}n(an,K);f=an.prototype;f.B=function(){return Um(this.o)};f.getPosition=function(){return this.g};f.Bj=function(){var a=x.AddContentManager.maxDistance;this.F&&(a=x.AddContentManager.maxInnerDistance);return a};f.Kl=function(){return x.AddContentManager.minDistance};
function cn(a){var b=R.pa(a.B()),c=0;if("top"===a.g||"bottom"===a.g)c=b.height/100*a.Bl();else if("left"===a.g||"right"===a.g)c=b.width/100*a.Bl();return parseInt(c,10)}f.Bl=function(){return x.AddContentManager.defaultDistance};
function bn(a,b){if("top"==a.g||"bottom"==a.g){var c=a.Bj(),d=a.Kl();a.h.top<a.c.top&&(a.c.height=a.c.height+a.c.top-a.h.top,a.c.top=a.h.top);if(!a.F){var e=a.h.top-a.c.top,g=a.c.height-e,h=cn(a);c>h&&d<h&&(0<e&&e>h&&(a.c.height=g+h,a.c.top=a.h.top-h,e=h),0<g&&g>h&&(a.c.height=e+h));a.c.top<a.h.top-c&&(a.c.height-=a.h.top-a.c.top-c,a.c.top=a.h.top-c);a.c.top+a.c.height>a.h.top+c&&(a.c.height=a.h.top-a.c.top+c);0<a.c.top-a.h.top&&a.c.top<a.h.top-d&&(a.c.height=a.c.height+d+a.c.top-a.h.top,a.c.top=
a.h.top-d);a.c.top+a.c.height>a.h.top+c&&(a.c.height=a.h.top-a.c.top+c)}b&&(a.c.height-=b);a.m&&(c=a.m.c,c=c.top+c.height-a.c.top)&&(c/=2,a.c.top+=c,a.c.height-=c,bn(a.m,c))}else c=a.Bj(),d=a.Kl(),e=a.h.left-a.c.left,g=a.c.width-e,h=cn(a),c>h&&d<h&&(0<e&&e>h&&(a.c.width=g+h,a.c.left=a.h.left-h,e=h),0<g&&g>h&&(a.c.width=e+h)),a.c.left<a.h.left-c&&(a.c.width-=a.h.left-a.c.left-c,0>a.c.width&&(a.c.width=2*c),a.c.left=a.h.left-c),a.c.left+a.c.width>a.h.left+c&&(a.c.width=a.h.left-a.c.left+c),a.h.left<
a.c.left&&(a.c.width=a.c.width+a.c.left-a.h.left,a.c.left=a.h.left),0<a.c.left-a.h.left&&a.c.left<a.h.left-d&&(a.c.width=a.c.width+d+a.c.left-a.h.left,a.c.left=a.h.left-d),a.c.left+a.c.width>a.h.left+c&&(a.c.width=a.h.left-a.c.left+c)};function dn(a,b,c,d,e,g){an.call(this,a,b,c,d,e,g)}n(dn,an);dn.prototype.Kl=function(){return x.AddContentContainerManager[this.Yc()].minDistance};dn.prototype.Bl=function(){return x.AddContentContainerManager[this.Yc()].defaultDistance};dn.prototype.Bj=function(){return x.AddContentContainerManager[this.Yc()].maxDistance};dn.prototype.Yc=function(){var a="horizontal";if("left"==this.getPosition()||"right"==this.getPosition())a="vertical";return a};function en(a,b,c,d,e,g){an.call(this,a,b,c,d,e,g)}n(en,an);en.prototype.Bj=function(){return x.AddSectionManager.maxDistance};var fn;function gn(){}n(gn,Le);function hn(a){return(a=Ne(a))?new ActiveXObject(a):new XMLHttpRequest}function Ne(a){if(!a.h&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.h=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.h}fn=new gn;function jn(a){var b=a.lastIndexOf("/")+1;a=a.slice(b).replace(/\.+/g,".");b=a.lastIndexOf(".");return 0>=b?"":a.substr(b+1)};function kn(){this.h="";this.c=ln}var ln={};function mn(){this.h="";this.c=nn}mn.prototype.Yc=function(){return 1};var nn={};function on(){this.c=pn}on.prototype.Yc=function(){return 1};var pn={};function qn(){this.h="";this.g=rn;this.c=null}qn.prototype.Yc=function(){return this.c};var rn={};function sn(a){var b=new qn;b.h=a;b.c=0}sn("<!DOCTYPE html>");sn("");sn("<br>");var tn={},un={},vn={},wn={},xn={};function yn(){throw Error("Do not instantiate directly");}yn.prototype.Fe=null;yn.prototype.getContent=function(){return this.content};yn.prototype.toString=function(){return this.content};function zn(){yn.call(this)}n(zn,yn);function An(a,b){this.h={};this.c=[];this.A=this.g=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)Bn(this,arguments[d],arguments[d+1])}else if(a){a instanceof An?(c=a.xd(),d=a.oc()):(c=Ma(a),d=Ve(a));for(var e=0;e<c.length;e++)Bn(this,c[e],d[e])}}f=An.prototype;f.vd=function(){return this.g};f.oc=function(){Cn(this);for(var a=[],b=0;b<this.c.length;b++)a.push(this.h[this.c[b]]);return a};f.xd=function(){Cn(this);return this.c.concat()};
f.equals=function(a,b){if(this===a)return!0;if(this.g!=a.vd())return!1;var c=b||Dn;Cn(this);for(var d,e=0;d=this.c[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Dn(a,b){return a===b}f.isEmpty=function(){return 0==this.g};f.clear=function(){this.h={};this.A=this.g=this.c.length=0};f.remove=function(a){return En(this.h,a)?(delete this.h[a],this.g--,this.A++,this.c.length>2*this.g&&Cn(this),!0):!1};
function Cn(a){if(a.g!=a.c.length){for(var b=0,c=0;b<a.c.length;){var d=a.c[b];En(a.h,d)&&(a.c[c++]=d);b++}a.c.length=c}if(a.g!=a.c.length){for(var e={},c=b=0;b<a.c.length;)d=a.c[b],En(e,d)||(a.c[c++]=d,e[d]=1),b++;a.c.length=c}}f.get=function(a,b){return En(this.h,a)?this.h[a]:b};function Bn(a,b,c){En(a.h,b)||(a.g++,a.c.push(b),a.A++);a.h[b]=c}f.forEach=function(a,b){for(var c=this.xd(),d=0;d<c.length;d++){var e=c[d],g=this.get(e);a.call(b,g,e,this)}};f.clone=function(){return new An(this)};
f.Jk=function(a){Cn(this);var b=0,c=this.A,d=this,e=new Mm;e.next=function(){if(c!=d.A)throw Error("The map has changed since the iterator was created");if(b>=d.c.length)throw Lm;var e=d.c[b++];return a?e:d.h[e]};return e};function En(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Fn(){this.c=[];this.h=[]}function Gn(){var a=Hn;D(a.c)&&(a.c=a.h,a.c.reverse(),a.h=[]);a.c.pop()}f=Fn.prototype;f.vd=function(){return this.c.length+this.h.length};f.isEmpty=function(){return D(this.c)&&D(this.h)};f.clear=function(){this.c=[];this.h=[]};f.contains=function(a){return F(this.c,a)||F(this.h,a)};f.remove=function(a){var b;b=this.c;var c=oh(b,a);0<=c?(yh(b,c),b=!0):b=!1;return b||cg(this.h,a)};
f.oc=function(){for(var a=[],b=this.c.length-1;0<=b;--b)a.push(this.c[b]);for(var c=this.h.length,b=0;b<c;++b)a.push(this.h[b]);return a};function In(a){if(a.oc&&"function"==typeof a.oc)return a.oc();if(ja(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ve(a)}function Jn(a){if(a.xd&&"function"==typeof a.xd)return a.xd();if(!a.oc||"function"!=typeof a.oc){if(ia(a)||ja(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Ma(a)}}
function Kn(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||ja(a))u(a,b,c);else for(var d=Jn(a),e=In(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)};function Ln(a,b){this.c=a||[];this.A=!b}Ln.prototype.gk=function(a,b,c){if(this.A){var d=this.c,e=Mn(a,b,d);0==e.length&&(e=Nn(a,b,d));b=e}else b=this.h(a,b);c(a,b)};Ln.prototype.h=function(a,b){return Mn(a,b,this.c)};function Mn(a,b,c){var d=[];if(""!=a){a=eh(a);a=new RegExp("(^|\\W+)"+a,"i");for(var e=0;e<c.length&&d.length<b;e++){var g=c[e];String(g).match(a)&&d.push(g)}}return d}
function Nn(a,b,c){for(var d=[],e=0;e<c.length;e++){var g=c[e],h=a.toLowerCase(),k=String(g).toLowerCase(),p=0;if(-1!=k.indexOf(h))p=parseInt((k.indexOf(h)/4).toString(),10);else for(var w=h.split(""),v=-1,C=10,G=0,J;J=w[G];G++)J=k.indexOf(J),J>v?(v=J-v-1,v>C-5&&(v=C-5),p+=v,v=J):(p+=C,C+=5);p<6*h.length&&d.push({Zx:g,pq:p,index:e})}d.sort(function(a,b){var c=a.pq-b.pq;return 0!=c?c:a.index-b.index});a=[];for(G=0;G<b&&G<d.length;G++)a.push(d[G].Zx);return a};function On(a,b){this.c=[];Ln.call(this,a,b)}n(On,Ln);On.prototype.h=function(a,b){b=this.c.length;return""==a?this.c:On.l.h.call(this,a,b)};On.prototype.gk=function(a,b,c,d,e){e=e||!1;!1===e&&r.Autocomplete.minTokenLength>a.length?c(a,[]):(e&&(a=""),On.l.gk.call(this,a,b,c,d))};function Pn(){}da(Pn);Pn.prototype.c=0;function Qn(a){return":"+(a.c++).toString(36)};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Sn(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),g=null,h=null;0<=e?(g=c[d].substring(0,e),h=c[d].substring(e+1)):g=c[d];b(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};function Tn(a,b){this.g=this.L=this.m="";this.o=null;this.F=this.c="";this.A=!1;var c;a instanceof Tn?(this.A=l(b)?b:a.A,Un(this,a.m),this.L=a.L,this.g=a.g,Vn(this,a.o),this.c=a.c,Wn(this,a.h.clone()),this.F=a.F):a&&(c=String(a).match(Rn))?(this.A=!!b,Un(this,c[1]||"",!0),this.L=Xn(c[2]||""),this.g=Xn(c[3]||"",!0),Vn(this,c[4]),this.c=Xn(c[5]||"",!0),Wn(this,c[6]||"",!0),this.F=Xn(c[7]||"")):(this.A=!!b,this.h=new Yn(null,0,this.A))}
Tn.prototype.toString=function(){var a=[],b=this.m;b&&a.push(Zn(b,$n,!0),":");var c=this.g;if(c||"file"==b)a.push("//"),(b=this.L)&&a.push(Zn(b,$n,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.o,null!=c&&a.push(":",String(c));if(c=this.c)this.g&&"/"!=c.charAt(0)&&a.push("/"),a.push(Zn(c,"/"==c.charAt(0)?ao:bo,!0));(c=this.h.toString())&&a.push("?",c);(c=this.F)&&a.push("#",Zn(c,co));return a.join("")};Tn.prototype.clone=function(){return new Tn(this)};
function Un(a,b,c){a.m=c?Xn(b,!0):b;a.m&&(a.m=a.m.replace(/:$/,""))}function Vn(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.o=b}else a.o=null}function Wn(a,b,c){b instanceof Yn?(a.h=b,eo(a.h,a.A)):(c||(b=Zn(b,fo)),a.h=new Yn(b,0,a.A))}function go(a,b,c){a=a.h;ho(a);a.g=null;b=io(a,b);jo(a,b)&&(a.h=a.h-a.c.get(b).length);Bn(a.c,b,[c]);a.h=a.h+1}function Sk(a){return a instanceof Tn?a.clone():new Tn(a,void 0)}
function Xn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Zn(a,b,c){return ja(a)?(a=encodeURI(a).replace(b,ko),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ko(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $n=/[#\/\?@]/g,bo=/[\#\?:]/g,ao=/[\#\?]/g,fo=/[\#\?@]/g,co=/#/g;function Yn(a,b,c){this.h=this.c=null;this.g=a||null;this.A=!!c}
function ho(a){a.c||(a.c=new An,a.h=0,a.g&&Sn(a.g,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}f=Yn.prototype;f.vd=function(){ho(this);return this.h};f.add=function(a,b){ho(this);this.g=null;a=io(this,a);var c=this.c.get(a);c||Bn(this.c,a,c=[]);c.push(b);this.h=this.h+1;return this};f.remove=function(a){ho(this);a=io(this,a);return En(this.c.h,a)?(this.g=null,this.h=this.h-this.c.get(a).length,this.c.remove(a)):!1};f.clear=function(){this.c=this.g=null;this.h=0};
f.isEmpty=function(){ho(this);return 0==this.h};function jo(a,b){ho(a);b=io(a,b);return En(a.c.h,b)}f.xd=function(){ho(this);for(var a=this.c.oc(),b=this.c.xd(),c=[],d=0;d<b.length;d++)for(var e=a[d],g=0;g<e.length;g++)c.push(b[d]);return c};f.oc=function(a){ho(this);var b=[];if(ja(a))jo(this,a)&&(b=zh(b,this.c.get(io(this,a))));else{a=this.c.oc();for(var c=0;c<a.length;c++)b=zh(b,a[c])}return b};f.get=function(a,b){var c=a?this.oc(a):[];return 0<c.length?String(c[0]):b};
function lo(a,b,c){a.remove(b);0<c.length&&(a.g=null,Bn(a.c,io(a,b),eg(c)),a.h=a.h+c.length)}f.toString=function(){if(this.g)return this.g;if(!this.c)return"";for(var a=[],b=this.c.xd(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.oc(d),g=0;g<d.length;g++){var h=e;""!==d[g]&&(h+="="+encodeURIComponent(String(d[g])));a.push(h)}return this.g=a.join("&")};f.clone=function(){var a=new Yn;a.g=this.g;this.c&&(a.c=this.c.clone(),a.h=this.h);return a};
function io(a,b){var c=String(b);a.A&&(c=c.toLowerCase());return c}function eo(a,b){b&&!a.A&&(ho(a),a.g=null,a.c.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),lo(this,e,a))},a));a.A=b};var mo={NONE:0,GB:1,PB:2};function no(a){a=oo(a);return t["static"]+a}function po(a,b,c){switch(b){case "filesystem_files":!0===Ka(q.FilesystemPreviewSize,c)&&(a=a.split("/"),a=a[0]+"/"+c+"/"+a[1]);c=t.filesPath+encodeURI(a);break;case "static_server":a&&!qo(a)&&!0===Ka(q.FilesystemPreviewSize,c)&&(a=a.split("/"),a="/"+a[1]+"/"+a[2]+"/"+c+"/"+a[3]);a=oo(a);c=t.staticFiles+a;break;case "my_videos":c=a;break;default:throw new Oa("Unknown dataType: "+b);}return c}
function oo(a){var b=L.j().get("project_info").getData("project_hash");b&&(a+="?ph="+b);return a}function qo(a){a=new Tn(a);return"svg"==jn(a.c)}function ro(){var a=t.licenceLevel,b=[];z(mo,function(c){a?c>=a&&b.push(c):b.push(c)});return b}function so(a){return/\/files\/\w{2}\/\w{3}(\/\d+)?\/\w{6}\.\w+/.test(a.toString())}function to(a){return a.m+"://"+a.g+"/"==t.filesPath};function uo(){A.call(this)}n(uo,Sf);uo.prototype.c=function(a,b,c){b=uo.l.c.call(this,a,b,c);c=["www.youtube.com","youtube.com","youtu.be","www.vimeo.com","vimeo.com"];var d=Sk(a);return this.h=b&&c.some(function(a){return d.g===a})};fg.j().register("wnd.ui.VideoValidator",uo);function vo(){A.call(this);this.g=this.c=null;this.h=[];this.A={};wo(this)}n(vo,A);da(vo);vo.prototype.hasFeature=function(a){return!0===(l(this.g[a])&&this.g[a])};
function wo(a){if(null===a.c){var b=L.j().get("project_info").getData();l(b.packagesInfo)&&u(b.packagesInfo,function(a){this.A[a.identifier]=a;this.h.push(a.identifier);a.identifier===b.package_identifier&&(this.c=a,this.c.packageValidity=b.packageValidity,this.c.packageSubscrPaymentDay=b.packageSubscrPaymentDay,this.c.packageExpiryStatus=b.packageExpiryStatus)},a);l(b.packageFeatures)&&(a.g=b.packageFeatures)}}vo.prototype.Qh=function(){return null===this.c?!0:"free"===this.c.identifier};
function xo(a,b,c){a=new Tn(t.urlPriceList);switch(b){case "customize_footer":b="remove_branding";break;case "form_enabled_upload":case "form_no_limit":b="forms";break;case "premium_upload":b=null}null!=b&&go(a,"feature",b);void 0!==c&&go(a,"ref",t.keenIo.refs[c]);return a.toString()};function yo(a,b,c){Nj.call(this,a,b,c)}n(yo,Nj);yo.prototype.dataType=x.EditHtmlFormModel.DataType;function zo(a,b,c){Nj.call(this,a,b,c);l(c.dataType)&&this.Ab(c.dataType)}n(zo,Nj);zo.prototype.dataType=x.EditVideoFormModel.DataType;function Ao(a){var b="";a.J()==x.EditVideoFormModel.DataType&&(b=N(a,"originalUrl"));return b};var Bo=jm(),Co=im("Trident")||im("MSIE"),Do=im("Edge"),Eo=Do||Co,Fo=im("Gecko")&&!(dh(fm,"WebKit")&&!im("Edge"))&&!(im("Trident")||im("MSIE"))&&!im("Edge"),Go=dh(fm,"WebKit")&&!im("Edge");Go&&im("Mobile");var Ho=im("Macintosh");im("Windows");im("Linux")||im("CrOS");var Io=ba.navigator||null;Io&&(Io.appVersion||"").indexOf("X11");im("Android");lm();im("iPad");function Jo(){var a=ba.document;return a?a.documentMode:void 0}var Ko;
a:{var Lo="",Mo=function(){var a=fm;if(Fo)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Do)return/Edge\/([\d\.]+)/.exec(a);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Go)return/WebKit\/(\S+)/.exec(a);if(Bo)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Mo&&(Lo=Mo?Mo[1]:"");if(Co){var No=Jo();if(null!=No&&No>parseFloat(Lo)){Ko=String(No);break a}}Ko=Lo}var Oo={};
function Po(a){var b;if(!(b=Oo[a])){b=0;for(var c=Rg(String(Ko)).split("."),d=Rg(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",k=d[g]||"",p=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var v=p.exec(h)||["","",""],C=w.exec(k)||["","",""];if(0==v[0].length&&0==C[0].length)break;b=hh(0==v[1].length?0:parseInt(v[1],10),0==C[1].length?0:parseInt(C[1],10))||hh(0==v[2].length,0==C[2].length)||hh(v[2],C[2])}while(0==b)}b=Oo[a]=0<=b}return b}
function Qo(a){return Number(Ro)>=a}var So=ba.document,Ro=So&&Co?Jo()||("CSS1Compat"==So.compatMode?parseInt(Ko,10):5):void 0;var To=!Co||Qo(9),Uo=!Fo&&!Co||Co&&Qo(9)||Fo&&Po("1.9.1"),Vo=Co&&!Po("9"),Wo=Co||Bo||Go;function Xo(a){return a?new Yo(Zo(a)):Wd||(Wd=new Yo)}function Um(a){return ja(a)?document.getElementById(a):a}function $o(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):ap(document,"*",a,b)}function bp(a,b){var c=b||document,d=null;c.getElementsByClassName?d=c.getElementsByClassName(a)[0]:c.querySelectorAll&&c.querySelector?d=c.querySelector("."+a):d=ap(document,"*",a,b)[0];return d||null}
function ap(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[e++]=h);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=e=0;h=a[g];g++)b=h.className,"function"==typeof b.split&&F(b.split(/\s+/),c)&&(d[e++]=h);d.length=e;return d}return a}
function cp(a,b){z(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:dp.hasOwnProperty(d)?a.setAttribute(dp[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var dp={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ep(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Ce(a.clientWidth,a.clientHeight)}function fp(a){var b=gp(a);a=hp(a);return Co&&Po("10")&&a.pageYOffset!=b.scrollTop?new S(b.scrollLeft,b.scrollTop):new S(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function gp(a){return a.scrollingElement?a.scrollingElement:Go||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function hp(a){return a.parentWindow||a.defaultView}
function ip(a,b,c){return jp(document,arguments)}function jp(a,b){var c=b[0],d=b[1];if(!To&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Sg(d.name),'"');if(d.type){c.push(' type="',Sg(d.type),'"');var e={};cf(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(ja(d)?c.className=d:ha(d)?c.className=d.join(" "):cp(c,d));2<b.length&&kp(a,c,b,2);return c}
function kp(a,b,c,d){function e(c){c&&b.appendChild(ja(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];!ia(g)||na(g)&&0<g.nodeType?e(g):u(lp(g)?eg(g):g,e)}}function mp(a){return document.createElement(a)}function np(a,b){a.appendChild(b)}function op(a,b){kp(Zo(a),a,arguments,1)}function pp(a){for(var b;b=a.firstChild;)a.removeChild(b)}function qp(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function rp(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}
function sp(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function tp(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function up(a){return Uo&&void 0!=a.children?a.children:qh(a.childNodes,function(a){return 1==a.nodeType})}function vp(a){return l(a.firstElementChild)?a.firstElementChild:wp(a.firstChild,!0)}function xp(a){return l(a.previousElementSibling)?a.previousElementSibling:wp(a.previousSibling,!1)}
function wp(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function yp(a){return na(a)&&1==a.nodeType}function zp(a){var b;if(Wo&&!(Co&&Po("9")&&!Po("10")&&ba.SVGElement&&a instanceof ba.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return yp(b)?b:null}
function Ap(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Zo(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Bp(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else pp(a),a.appendChild(Zo(a).createTextNode(String(b)))}var Cp={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Dp={IMG:" ",BR:"\n"};
function Ep(a,b,c){if(!(a.nodeName in Cp))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Dp)b.push(Dp[a.nodeName]);else for(a=a.firstChild;a;)Ep(a,b,c),a=a.nextSibling}function lp(a){if(a&&"number"==typeof a.length){if(na(a))return"function"==typeof a.item||"string"==typeof a.item;if(ma(a))return"function"==typeof a.item}return!1}function Fp(a,b){for(var c=0;a&&5>=c;){if(b(a))return a;a=a.parentNode;c++}return null}
function Yo(a){this.c=a||ba.document||document}f=Yo.prototype;f.getElement=function(a){return ja(a)?this.c.getElementById(a):a};f.Oh=function(a,b,c){return jp(this.c,arguments)};f.createElement=function(a){return this.c.createElement(a)};function Gp(a){return"CSS1Compat"==a.c.compatMode}function Hp(a){return fp(a.c)}f.appendChild=np;f.Gt=pp;f.Ht=sp;f.contains=Ap;function Ip(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Jp(a,b,c){ha(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Pd||(Pd={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Pd,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function Kp(a,b){var c="";b&&(c=b.id);Jp(a,"activedescendant",c)};function Lp(a){var b=0,c=0;if(Mp(a))b=a.selectionStart,c=-1;else if(Co){var d=Np(a),e=d[0],d=d[1];if(e.inRange(d)){e.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=e.text;for(c=!1;!c;)0==e.compareEndPoints("StartToEnd",e)?c=!0:(e.moveEnd("character",-1),e.text==a?b+="\r\n":c=!0);e=[b.length,-1];return e}b=e.text.length;c=-1}}return[b,c]}
function Np(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Op(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function Mp(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Pp(){return Go?"Webkit":Fo?"Moz":Co?"ms":Bo?"O":null};var Qp=!Co||Qo(9),Rp=!Co||Qo(9),Sp=Co&&!Po("9"),Tp=!Go||Po("528"),Up=Fo&&Po("1.9b")||Co&&Po("8")||Bo&&Po("9.5")||Go&&Po("528"),Vp=Fo&&!Po("8")||Co&&!Po("9");var Wp=("ontouchstart"in ba||!!(ba.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!ba.navigator||!ba.navigator.msMaxTouchPoints))&&(null===navigator.userAgent.match(/Chrome/)||null!==navigator.userAgent.match(/Chrome/)&&null!==navigator.userAgent.match(/Android/)),Xp=null!==navigator.userAgent.match(/Android|iPhone|iPad|iPod|BB10|BlackBerry|Windows Phone|IEMobile|Opera Mini/i),Yp=null!==navigator.userAgent.match(/Chrome/)&&null===navigator.userAgent.match(/Edge\/[0-9]{2,}/),
Zp=null!==navigator.userAgent.match(/Firefox/),$p=null!==navigator.userAgent.match(/Safari/)&&null===navigator.userAgent.match(/Chrome/),aq=null!==navigator.userAgent.match(/MSIE /)||null!==navigator.userAgent.match(/Trident/),bq=null!==navigator.userAgent.match(/Edge\/[0-9]{2,}/),cq=!1,dq=!0,T="click",eq="mousedown",fq="mouseup",gq="mouseout",hq="mousemove";!0===Wp&&(T="touchend",eq="touchstart",hq="touchmove",fq=gq="touchend");function iq(a,b){Xd.call(this,a?a.type:"");this.o=this.currentTarget=this.target=null;this.A=this.keyCode=this.clientY=this.clientX=0;this.F=this.m=this.h=this.ctrlKey=!1;this.c=this.state=null;a&&this.init(a,b)}n(iq,Xd);var jq=[1,4,2];
iq.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;e?Fo&&(Pg(e,"nodeName")||(e=null)):"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.o=e;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY);this.keyCode=
a.keyCode||0;this.A=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.h=a.altKey;this.m=a.shiftKey;this.F=a.metaKey;this.state=a.state;this.c=a;a.defaultPrevented&&this.preventDefault()};function kq(a){return Qp?0==a.c.button:"click"==a.type?!0:!!(a.c.button&jq[0])}iq.prototype.stopPropagation=function(){iq.l.stopPropagation.call(this);this.c.stopPropagation?this.c.stopPropagation():this.c.cancelBubble=!0};
iq.prototype.preventDefault=function(){iq.l.preventDefault.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Sp)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};iq.prototype.L=function(){return this.c};var lq="closure_lm_"+(1E6*Math.random()|0),mq={},nq=0;function Vm(a,b,c,d,e){if(ha(b)){for(var g=0;g<b.length;g++)Vm(a,b[g],c,d,e);return null}c=oq(c);return Zd(a)?a.H(b,c,d,e):pq(a,b,c,!1,d,e)}
function pq(a,b,c,d,e,g){if(!b)throw Error("Invalid event type");var h=!!e,k=qq(a);k||(a[lq]=k=new Il(a));c=k.add(b,c,d,e,g);if(c.c)return c;d=rq();c.c=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(sq(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");nq++;return c}
function rq(){var a=tq,b=Rp?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function uq(a,b,c,d,e){if(ha(b))for(var g=0;g<b.length;g++)uq(a,b[g],c,d,e);else c=oq(c),Zd(a)?a.L.add(String(b),c,!0,d,e):pq(a,b,c,!0,d,e)}function vq(a,b,c,d,e){if(ha(b))for(var g=0;g<b.length;g++)vq(a,b[g],c,d,e);else c=oq(c),Zd(a)?a.Bc(b,c,d,e):a&&(a=qq(a))&&(b=Ll(a,b,c,!!d,e))&&wq(b)}
function wq(a){if(!la(a)&&a&&!a.jh){var b=a.src;if(Zd(b))Kl(b.L,a);else{var c=a.type,d=a.c;b.removeEventListener?b.removeEventListener(c,d,a.Ti):b.detachEvent&&b.detachEvent(sq(c),d);nq--;(c=qq(b))?(Kl(c,a),0==c.h&&(c.src=null,b[lq]=null)):be(a)}}}function sq(a){return a in mq?mq[a]:mq[a]="on"+a}function xq(a,b,c,d){var e=!0;if(a=qq(a))if(b=a.c[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.Ti==c&&!g.jh&&(g=yq(g,d),e=e&&!1!==g)}return e}
function yq(a,b){var c=a.listener,d=a.Lj||a.src;a.Pi&&wq(a);return c.call(d,b)}
function tq(a,b){if(a.jh)return!0;if(!Rp){var c;if(!(c=b))a:{c=["window","event"];for(var d=ba,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new iq(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(p){g=!0}if(g||void 0==e.returnValue)e.returnValue=!0}e=[];for(g=c.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,h=e.length-1;!c.g&&0<=h;h--){c.currentTarget=e[h];var k=xq(e[h],g,!0,c),d=d&&k}for(h=0;!c.g&&h<
e.length;h++)c.currentTarget=e[h],k=xq(e[h],g,!1,c),d=d&&k}return d}return yq(a,new iq(b,this))}function qq(a){a=a[lq];return a instanceof Il?a:null}var zq="__closure_events_fn_"+(1E9*Math.random()>>>0);function oq(a){if(ma(a))return a;a[zq]||(a[zq]=function(b){return a.handleEvent(b)});return a[zq]};function Aq(a,b,c){$k.call(this,a,b,c)}n(Aq,$k);Aq.prototype.dataType=x.ContentBlock.DataType;Aq.prototype.oa=function(){Aq.l.oa.call(this);this.options.Pc=!0;this.options.Ec=!0};function Bq(a,b){var c=P(a,"contentMap"),d;if(c){d=c.parent;var e=a.ca(),c=c.identifier,g=!1,g=l(g)?g:null;d=null!=Pe.blockSettings&&null!=Pe.blockSettings[d]&&null!=Pe.blockSettings[d][e]?Pe.blockSettings[d][e]:{};d=b?null!=d[c]&&null!=d[c][b]?d[c][b]:g:null!=d[c]?d[c]:g}else d=!1;return d};function Cq(a,b,c){$k.call(this,a,b,c)}n(Cq,Aq);function Dq(a,b,c){$k.call(this,a,b,c)}n(Dq,Aq);Dq.prototype.oa=function(){Dq.l.oa.call(this);this.options.Pc=!1;this.options.gc=!1;this.options.Ed=!1;this.options.Ec=!1};Dq.prototype.Gf=null;
function Eq(a,b,c){a.Gf={};L.j().get("gui_pages",Fq()).Ea(function(d,e,g,h){d=h.order;g=Wf(Ti(Qi.j()));if(g=e[g]){g=af(g);g["gui_pages.x"]=4;g["gui_pages.parent_id"]=1;h={children:[]};for(var k={1:h},p=null,w=h.children,v=1,C={},G=[],J=0;J<d.length;J++){var V=e[d[J]],Va=V["gui_pages.id"],Zb=V["gui_pages.parent_id"]==g["gui_pages.id"]?1:V["gui_pages.parent_id"];0==V["gui_pages.show_in_menu"]||l(C[Zb])?C[Va]=!0:1!=V["gui_pages.sys_page"]||F(d,V["gui_pages.parent_id"])?(null===p&&(p=V["gui_pages.x"]),
V["gui_pages.x"]>p?(w=k[Zb].children,v++):V["gui_pages.x"]<p&&(w=k[Zb].children,v-=p-V["gui_pages.x"]),k[Va]={id:Va,link:"/"+V["gui_pages.identifier"]+"/",name:V["gui_pages.name"],active:Va==t.page.id,activePath:!1,level:v,children:[],parentId:Zb,homepage:Va==g["gui_pages.id"]},w.push(k[Va]),p=V["gui_pages.x"]):G.push(V)}Gq(a,G,w,k);delete k[1];if(l(k[t.page.id])){e=k[t.page.id];do{if(e.id==g["gui_pages.id"])break;e.activePath=!0;if(1==e.parentId)break;e=k[e.parentId]}while(e)}a.Gf={my:h.children,
gt:k}}b.call(c)},null,a)}function Fq(){var a=[{prefix:"",key:"gui_pages.lang_id",operator:"=",value:parseInt(t.page.langId,10),suffix:"AND"}];Bh(a,Md.PagesAdmin.dataSettings.filter);return{filter:a,orderBy:Md.PagesAdmin.dataSettings.orderBy}}function Gq(a,b,c,d){u(b,function(a){c=d[1].children;var b=a["gui_pages.id"];d[b]={id:b,link:"/"+a["gui_pages.identifier"]+"/",name:a["gui_pages.name"],active:b==t.page.id,activePath:!1,level:1,children:[],parentId:1,homepage:!1};c.push(d[b])},a)};function Hq(a,b,c){$k.call(this,a,b,c)}n(Hq,Aq);f=Hq.prototype;f.er=!0;f.Bk="";f.Rj=function(){return this.er};f.Om=function(a){this.er=a};f.Mm=function(a){this.Bk=a};f.zj=function(){return this.Bk};function Iq(a,b,c){$k.call(this,a,b,c);this.Xa=x.ResizableBlock.minWidth;this.ce=x.ResizableBlock.minHeight;this.Xl=x.ResizableBlock.maxHeight}n(Iq,Aq);f=Iq.prototype;f.oa=function(){Iq.l.oa.call(this);this.options.editable=!0;this.options.mh=!0};f.Jm=function(a){this.v=a};f.Lg=function(){return this.v};function Jq(a){return Math.round((a.Fn.bottom-a.Fn.top)*a.Xl/100)}
f.Lf=function(a,b){var c=a,d=this.sh,d=d.left+d.right+this.wa.width;b&&(c=b*this.wa.width/this.wa.height);this.Xa>c&&(c=this.Xa);c<d?this.L={left:(d-c)/2/d*100,right:(d-c)/2/d*100}:this.L={left:0,right:0};return!0};f.Ah=function(a,b,c){var d=Jq(this);a=a?a:this.v.width;b=b?b:this.v.height;c&&b>d&&(b=d);this.T=parseFloat((b/a*100).toFixed(2));this.T<this.ce&&(this.T=this.ce);return this.T};
f.vi=function(a){!0===this.options.mh&&(a||(a={}),a.style||(a={style:{}}),null!=this.L&&(a.style.margin={left:this.L.left,right:this.L.right}),null!=this.T&&(a.style.paddingBottom=this.T));Iq.l.vi.call(this,a)};function Kq(a){var b=a.wa,c=b.width,d=b.height;Jq(a)<d&&(d=Jq(a),c=d*b.width/b.height);a.Lf(c,d)};function Lq(a,b,c){Iq.call(this,a,b,c)}n(Lq,Iq);function Mq(a,b,c){Iq.call(this,a,b,c)}n(Mq,Lq);Mq.prototype.oa=function(){Mq.l.oa.call(this);this.options.mh=!1};function Nq(a,b,c){Iq.call(this,a,b,c)}n(Nq,Lq);Nq.prototype.zf=function(){return N(this,"address")};function Oq(a,b,c){$k.call(this,a,b,c)}n(Oq,Aq);Oq.prototype.oa=function(){Oq.l.oa.call(this);this.options.Pc=!1;this.options.Ec=!1};function Pq(a,b,c){$k.call(this,a,b,c)}n(Pq,Aq);function Qq(a,b,c){Iq.call(this,a,b,c)}n(Qq,Lq);function Rq(a){Rd.call(this);this.h=a;this.c={}}n(Rq,Rd);var Sq=[];f=Rq.prototype;f.H=function(a,b,c,d){ha(b)||(b&&(Sq[0]=b.toString()),b=Sq);for(var e=0;e<b.length;e++){var g=Vm(a,b[e],c||this.handleEvent,d||!1,this.h||this);if(!g)break;this.c[g.key]=g}return this};
f.Bc=function(a,b,c,d,e){if(ha(b))for(var g=0;g<b.length;g++)this.Bc(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.h||this,c=oq(c),d=!!d,b=Zd(a)?Ll(a.L,String(b),c,d,e):a?(a=qq(a))?Ll(a,b,c,d,e):null:null,b&&(wq(b),delete this.c[b.key]);return this};f.removeAll=function(){z(this.c,function(a,b){this.c.hasOwnProperty(b)&&wq(a)},this);this.c={}};f.X=function(){Rq.l.X.call(this);this.removeAll()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Tq(){A.call(this);this.c={};this.A={};this.g=new Rq(this);this.h={}}n(Tq,A);da(Tq);function Uq(a,b,c,d,e,g,h){h&&!0===Vq(a,b,c)&&(g=0);b=po(b,c,g);Wq(a,b,"static_server"===c,d,e,g)}
function Wq(a,b,c,d,e,g){var h=a.c[b];if(null!=h&&!0===h.complete)null!=d&&a.m(h.src,d);else{var k;k=b;c&&(a.h[b]||(a.h[b]=1),k+=(0>k.indexOf("?")?"?":"&")+"t="+a.h[b]);if(!h){var p=new Tn(k),h=new Image;h.id=Math.random().toString(36).substring(7);if(to(p)||/^https:\/\/s3\.amazonaws\.com\/feather\-client\-files\-aviary\-.+$/.test(p.toString())||so(p)&&g)h.crossOrigin="anonymous";h.src=k;a.c[b]=h}!0===(null!=d)&&(k=m(a.m,a,k,d,e),a.g.H(h,"load",k),c&&(b=m(a.F,a,b,d,e,g),a.g.H(h,"error",b)),l(e)&&
(null!=a.A[e]&&a.g.Bc.apply(a.g,a.A[e]),a.A[e]=[h,"load",k]))}}function Vq(a,b,c,d){b=po(b,c,d);return null!=a.c[b]&&!0===a.c[b].complete}Tq.prototype.m=function(a,b,c){b(a);null!=c&&(this.g.Bc.apply(this.g,this.A[c]),this.A[c]=null)};
Tq.prototype.F=function(a,b,c,d){new Oa("Image "+a+"?t="+this.h[a]+" was not loaded.");if(1==this.h[a]){var e=this.h,g=window.location.href+(new Date).toDateString();if(null===Fa){for(var h,k=[],p=0;256>p;p++){h=p;for(var w=0;8>w;w++)h=h&1?3988292384^h>>>1:h>>>1;k[p]=h>>>0}Fa=k}h=-1;for(k=0;k<g.length;k++)h=h>>>8^Fa[(h^g.charCodeAt(k))&255];e[a]=(h^-1)>>>0;delete this.c[a];Wq(this,a,!0,b,c,d)}};function Xq(a,b,c,d){if(!Vq(a,b,c,d))return null;b=po(b,c,d);return a.c[b]}
function Yq(a,b,c,d){return(a=Xq(a,b,c,d))?a.src:null}function Zq(a,b,c){b=new Tn(b);Wq(a,b.toString(),!0,c,void 0)};function $q(){Jf.call(this);this.A="experimental-webgl";new Rq(this)}n($q,Jf);f=$q.prototype;f.pn=function(){if(null===this.c){var a=Je.get("webglSupported");if(l(a))this.c="true"===a;else{a=new Image;a.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=";try{this.Tg(a),this.c=!0}catch(b){new Oa("WebGl is not supported! "+b),this.c=!1}He(Je,"webglSupported",this.c.toString(),-1,"/")}}return this.c};
f.Tg=function(a){this.canvas||(this.canvas=za.canvas());a=this.canvas.gd(a);this.canvas.draw(a)};f.Qn=function(a){this.canvas.mi(a);this.canvas.update()};f.Ql=function(a,b){this.canvas.Oj(0,a);b=b||0;this.canvas.Oi(b,b||0);this.canvas.update()};f.sq=function(a){this.canvas.oh(a);this.canvas.update()};function ar(){A.call(this)}n(ar,A);da(ar);ar.prototype.get=function(){if(!this.Wd){var a=new $q;if(!a.pn()&&(a=new Kf,!a.pn()))throw new Oa("ImageFilter is not supported");this.Wd=a}return this.Wd};function br(a,b,c){K.call(this);this.A=a;this.o=b;this.g=c;this.m=this.h=null;this.F=Tq.j();this.c=null;return this}n(br,K);var cr={},dr={BB:"fx-blur-light",CB:"fx-blur-strong",HB:"fx-grayscale",IB:"fx-grayscale-dark",TB:"fx-sepia"};
function er(a,b){var c;c=q.FilesystemPreviewSize.small;c=a.g+"@"+a.A+(c?"#"+c:"");(c=l(cr.brightness)&&l(cr.brightness[c])?cr.brightness[c]:null)?b.call(a,c):Uq(a.F,a.o,a.g,m(a.L,a,b,q.FilesystemPreviewSize.small),q.ImageTools.identifier+q.FilesystemPreviewSize.small+a.A,q.FilesystemPreviewSize.small)}br.prototype.v=function(a,b,c,d){"success"===c&&null!=d[a]&&(a=parseFloat(d[a]["my_videos.brightness"]),la(a)&&b.call(this,a))};
br.prototype.L=function(a,b){if("my_videos"===this.g){var c=af(r.MediaListVideos[fr].collectionSettings);c.filter=[{key:"my_videos.id",operator:"=",value:this.A,suffix:"",prefix:""}];var d=new gi("loadMyVideos",1);gr(Ph.j(),d);L.j().get("my_videos",c).Ea(m(this.v,this,this.A,a),d,this)}else{this.h=Xq(this.F,this.o,this.g,q.FilesystemPreviewSize.small);null===this.h?c=null:(this.m=ip("canvas",{width:this.h.width,height:this.h.height}),c=this.m.getContext("2d"),c.drawImage(this.h,0,0),c=c.getImageData(0,
0,this.m.width,this.m.height).data);if(null===c)c=null;else{for(var e=d=0,g=0,h=c.length;g<h;g+=4)e=Math.floor((c[g]+c[g+1]+c[g+2])/3),d+=e;c=Math.floor(d/(this.h.width*this.h.height))/255;c=parseFloat(c.toFixed(2))}c&&(d=this.g+"@"+this.A+(b?"#"+b:""),l(cr.brightness)||(cr.brightness={}),cr.brightness[d]=c,a.call(this,c))}};function hr(a,b){var c=b>a;return 2>b/a&&2>a/b?c?" wnd-full-img-portrait":" wnd-full-img-landscape":c?" wnd-img-portrait":" wnd-img-landscape"}
function ir(a,b,c,d){a.c||(a.c=ar.j().get());var e=Xq(a.F,a.o,a.g,d);d="";if(e.complete){var g=null,h=r.ImageTools.Filters;switch(b){case "fx-grayscale":g=a.c;b=h[b].amount;g.Tg(e);g.Ql(b,void 0,void 0);g=g.canvas;break;case "fx-grayscale-dark":g=a.c;a=h[b].amount;var k=h[b].brightness;b=h[b].contrast;g.Tg(e);g.Ql(a,k,b);g=g.canvas;break;case "fx-blur-light":g=a.c.blur(e,h[b].radius);break;case "fx-blur-strong":g=a.c.blur(e,h[b].radius);break;case "fx-sepia":g=a.c.oh(e,h[b].amount)}null!==g&&($p?
(e=ip("canvas",{width:g.width,height:g.height}),b=e.getContext("2d"),b.drawImage(g,0,0),d=e.toDataURL(c),b.clearRect(0,0,e.width,e.height),e.remove()):d=g.toDataURL(c))}return d}function jr(a,b){var c="square";a>b?a/b>q.ImageTools.orientationRatio&&(c="landscape"):b/a>q.ImageTools.orientationRatio&&(c="portrait");return c};function kr(){K.call(this);this.h={};this.g={};this.o=null;this.A={};this.F=this.m=null;Vm(document.body,hq,m(this.lw,this));Vm(window,"scroll",m(this.eB,this));this.init()}n(kr,K);da(kr);var lr={AB:"addContent",SB:"sectionToolbox"};f=kr.prototype;f.init=function(){z(lr,function(a){this.A[a]=!0},this)};
f.Ka=function(a,b,c,d,e,g){var h=this.getId(a,b);if(!this.h[h]){this.h[h]={group:b,rect:a,callbacks:{},gg:e?e:0,fixed:!!g};b=r.PositionManager.verticalSegmentDimension;if(!this.c)for(this.c=[],e=R.pa(document.body),e=mr(e.height),g=0;g<=e;g+=b)this.c[g]=[];e=mr(parseInt(a.top,10));a=mr(parseInt(a.top+a.height,10));this.c[e]||(this.c[e]=[]);this.c[e].push(h);for(g=e+b;g<a;)this.c[g]||(this.c[g]=[]),this.c[g].push(h),g+=b;e!==a&&(this.c[a]||(this.c[a]=[]),this.c[a].push(h))}this.h[h].callbacks[c]||
(this.h[h].callbacks[c]=d)};f.getId=function(a,b){for(var c=b+a.left+a.top+a.width+a.height,d=0,e=0;e<c.length;++e)d=31*d+c.charCodeAt(e)>>>0;return d};f.reset=function(a){a?(z(this.h,function(b,c){b.group==a&&delete this.h[c]},this),this.g[a]&&delete this.g[a]):(this.h={},this.g={});this.c=null};function mr(a){var b=r.PositionManager.verticalSegmentDimension;return(a/b>>0)*b}f.lw=function(a){var b={},c=nr(this,a,!1);cf(b,c);a=nr(this,a,!0);cf(b,a);or(this,b)};
function nr(a,b,c){var d={},e=null,g=pr(a,b,c);b=mr(g.y);u(a.c[b]?a.c[b]:[],function(a){var b=this.h[a];if(c===b.fixed&&qr(this,b.group)&&b.rect.contains(g)){d[b.group]||(d[b.group]=[]);d[b.group].push(a);this.g[b.group]||(this.g[b.group]=[]);if(rr(this,b.group,a)){var p=this.h[a];if(p){var w=p.callbacks.mouseover;ma(w)&&w.call()&&this.g[p.group].push(a)}}e=b.callbacks[hq];ma(e)&&e.call()}},a);return d}
function rr(a,b,c){var d=F(a.g[b],c),e=!d;if("addContent"===b){var g=a.h[c];u(a.g[b],function(a){var b=this.h[a];d||(e=b.gg<g.gg?sr(this,a):!1)},a)}return e}function or(a,b){z(a.g,function(a,d){u(a,function(a){!qr(this,d)||b[d]&&F(b[d],a)||sr(this,a)},this)},a)}f.eB=function(){this.m=R.Zb(document)};function pr(a,b,c){a.m||(a.m=R.Zb(document));var d=b.clientX;b=b.clientY;c||(d+=a.m.x,c=b+a.m.y,a.o||(a.o=R.Og(document.body)),b=c-a.o.top);a.F=new S(d,b);return a.F}
function tr(a){!0!==cq&&z(lr,function(a){this.A[a]=!0},a)}f.pause=function(a,b){a?(this.A[a]=!1,b&&ur(this,a)):z(lr,function(a){this.A[a]=!1;b&&ur(this,a)},this)};function ur(a,b){var c=a.g[b];ha(c)&&u(c,function(a){sr(this,a)},a)}function qr(a,b){var c=a.A[b];if(c&&"addContent"==b){var d=E.j();d.h&&(c=vr(d),c=1==c.length&&c[0]instanceof wr)}return c}function sr(a,b){var c=a.h[b];if(!c)return!1;var d=!1,e=c.callbacks[gq];ma(e)&&e.call()&&(cg(a.g[c.group],b),d=!0);return d};function xr(){Rd.call(this);this.L=new Il(this);this.Na=this;this.U=null}n(xr,Rd);xr.prototype[Yd]=!0;f=xr.prototype;f.mk=function(a){this.U=a};f.removeEventListener=function(a,b,c,d){vq(this,a,b,c,d)};
function yr(a,b){var c,d=a.U;if(d)for(c=[];d;d=d.U)c.push(d);var d=a.Na,e=b,g=e.type||e;if(ja(e))e=new Xd(e,d);else if(e instanceof Xd)e.target=e.target||d;else{var h=e,e=new Xd(g,d);cf(e,h)}var h=!0,k;if(c)for(var p=c.length-1;!e.g&&0<=p;p--)k=e.currentTarget=c[p],h=zr(k,g,!0,e)&&h;e.g||(k=e.currentTarget=d,h=zr(k,g,!0,e)&&h,e.g||(h=zr(k,g,!1,e)&&h));if(c)for(p=0;!e.g&&p<c.length;p++)k=e.currentTarget=c[p],h=zr(k,g,!1,e)&&h;return h}
f.X=function(){xr.l.X.call(this);this.removeAllListeners();this.U=null};f.H=function(a,b,c,d){return this.L.add(String(a),b,!1,c,d)};f.Bc=function(a,b,c,d){return this.L.remove(String(a),b,c,d)};f.removeAllListeners=function(a){return this.L?this.L.removeAll(a):0};function zr(a,b,c,d){b=a.L.c[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.jh&&h.Ti==c){var k=h.listener,p=h.Lj||h.src;h.Pi&&Kl(a.L,h);e=!1!==k.call(p,d)&&e}}return e&&0!=d.nq};function Ar(a,b,c,d,e){if(!(Co||Do||Go&&Po("525")))return!0;if(Ho&&e)return Br(a);if(e&&!d)return!1;la(b)&&(b=Cr(b));if(!c&&(17==b||18==b||Ho&&91==b))return!1;if((Go||Do)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Co&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(Go||Do)}return Br(a)}
function Br(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(Go||Do)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Cr(a){if(Fo)a=Dr(a);else if(Ho&&Go)a:switch(a){case 93:a=91;break a}return a}
function Dr(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Er(a,b){xr.call(this);a&&Fr(this,a,b)}n(Er,xr);f=Er.prototype;f.Qg=null;f.Tj=null;f.Yl=null;f.Uj=null;f.Dd=-1;f.kf=-1;f.Tk=!1;
var Gr={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Hr={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ir=Co||Do||Go&&Po("525"),Jr=Ho&&Fo;f=Er.prototype;
f.Mt=function(a){if(Go||Do)if(17==this.Dd&&!a.ctrlKey||18==this.Dd&&!a.h||Ho&&91==this.Dd&&!a.F)this.kf=this.Dd=-1;-1==this.Dd&&(a.ctrlKey&&17!=a.keyCode?this.Dd=17:a.h&&18!=a.keyCode?this.Dd=18:a.F&&91!=a.keyCode&&(this.Dd=91));Ir&&!Ar(a.keyCode,this.Dd,a.m,a.ctrlKey,a.h)?this.handleEvent(a):(this.kf=Cr(a.keyCode),Jr&&(this.Tk=a.h))};f.Ot=function(a){this.kf=this.Dd=-1;this.Tk=a.h};
f.handleEvent=function(a){var b=a.c,c,d,e=b.altKey;Co&&"keypress"==a.type?(c=this.kf,d=13!=c&&27!=c?b.keyCode:0):(Go||Do)&&"keypress"==a.type?(c=this.kf,d=0<=b.charCode&&63232>b.charCode&&Br(c)?b.charCode:0):Bo&&!Go?(c=this.kf,d=Br(c)?b.keyCode:0):(c=b.keyCode||this.kf,d=b.charCode||0,Jr&&(e=this.Tk),Ho&&63==d&&224==c&&(c=191));var g=c=Cr(c),h=b.keyIdentifier;c?63232<=c&&c in Gr?g=Gr[c]:25==c&&a.m&&(g=9):h&&h in Hr&&(g=Hr[h]);a=g==this.Dd;this.Dd=g;b=new Kr(g,d,a,b);b.h=e;yr(this,b)};
f.getElement=function(){return this.Qg};function Fr(a,b,c){a.Uj&&Lr(a);a.Qg=b;a.Tj=Vm(a.Qg,"keypress",a,c);a.Yl=Vm(a.Qg,"keydown",a.Mt,c,a);a.Uj=Vm(a.Qg,"keyup",a.Ot,c,a)}function Lr(a){a.Tj&&(wq(a.Tj),wq(a.Yl),wq(a.Uj),a.Tj=null,a.Yl=null,a.Uj=null);a.Qg=null;a.Dd=-1;a.kf=-1}f.X=function(){Er.l.X.call(this);Lr(this)};function Kr(a,b,c,d){iq.call(this,d);this.type="key";this.keyCode=a;this.A=b;this.repeat=c}n(Kr,iq);function Mr(){K.call(this);this.c=t.aviary;this.F=this.g=null;this.A=this.m=!1;this.h=this.Wd=null;this.o=new Rq(this);if(this.m)this.vr();else{var a=mp("script");a.src=this.c.domain+this.c.library;document.head.appendChild(a);Vm(document.head,"DOMNodeInserted",m(this.Mn,this));Vm(a,"load",m(this.vr,this))}}n(Mr,K);da(Mr);f=Mr.prototype;f.close=function(){this.Wd.close()};
f.Ew=function(){Dl(Um(this.c.undoId),this.c.historyDeletedClass);Dl(Um(this.c.redoId),this.c.historyDeletedClass);this.h=new Er(document.body);this.o.H(this.h,"key",this.kA);this.o.H(this.getElement(),T,m(this.lA,this));this.A=!0;this.notify("onOpen")};f.mA=function(){this.A=!1;null!==this.h&&(this.h.dispose(),this.h=null,this.notify("onClose"))};f.Jw=function(a,b){this.g=a;this.F=b;this.notify("onSave",this.g,this.F)};f.kA=function(a){switch(a.keyCode){case 27:this.A&&this.close()}};
f.lA=function(a){a.stopPropagation();a.preventDefault()};f.getElement=function(){return Um(this.c.id)};f.vr=function(){null!=window.AV&&(this.c.settings.onLoad=m(this.hw,this),this.Wd=new window.AV.Feather(this.c.settings))};f.hw=function(){this.m=!0;vq(document.head,"DOMNodeInserted",m(this.Mn,this));this.notify("onLoad")};f.Mn=function(a){null!=a.target&&"SCRIPT"===a.target.tagName&&0===a.target.src.indexOf(this.c.domain)&&"text/javascript"===a.target.type&&Vm(a.target,"load",m(this.bt,this))};
f.bt=function(){null!=window.AV&&z({Overlays:"Overlays",Scenery:"Scenery",Portrait:"Portrait",Food:"Food",Signature:"Signature",Classic:"Classic",Back:"Back",Original:"Original",Boom:"Boom",Square:"Square",Blemish:"Blemish"},function(a,b){window.AV.languageStrings[b]=a},this)};Co&&Po(8);function Nr(){xr.call(this);this.ec=Or;this.v=this.g=null}n(Nr,xr);var Or=0;Nr.prototype.dg=function(){this.ie("begin")};Nr.prototype.$g=function(){this.ie("end")};Nr.prototype.ie=function(a){yr(this,a)};function Pr(a,b){xr.call(this);this.c=new Rq(this);var c=a;b&&(c=Zo(a));this.c.H(c,"dragenter",this.qv);c!=a&&this.c.H(c,"dragover",this.rv);this.c.H(a,"dragover",this.zv);this.c.H(a,"drop",this.Av)}n(Pr,xr);f=Pr.prototype;f.Fh=!1;f.X=function(){Pr.l.X.call(this);this.c.dispose()};f.qv=function(a){var b=a.c.dataTransfer;(this.Fh=!(!b||!(b.types&&(F(b.types,"Files")||F(b.types,"public.file-url"))||b.files&&0<b.files.length)))&&a.preventDefault()};
f.rv=function(a){this.Fh&&(a.preventDefault(),a.c.dataTransfer.dropEffect="none")};f.zv=function(a){if(this.Fh){a.preventDefault();a.stopPropagation();a=a.c.dataTransfer;try{a.effectAllowed="all"}catch(b){}a.dropEffect="copy"}};f.Av=function(a){this.Fh&&(a.preventDefault(),a.stopPropagation(),a=new iq(a.c),a.type="drop",yr(this,a))};function Qr(a,b,c){a.innerHTML=Rr(b(c||Sr,void 0,void 0))}function Tr(a,b,c,d){a:if(a=a(b||Sr,void 0,c),d=(d||Xo()).createElement("DIV"),a=Rr(a),d.innerHTML=a,1==d.childNodes.length&&(a=d.firstChild,1==a.nodeType)){d=a;break a}return d}function Rr(a){if(!na(a))return String(a);if(a instanceof yn){if(a.ge===tn)return a.getContent();if(a.ge===xn)return Sg(a.getContent())}return"zSoyz"}var Sr={};function Ur(a,b){return null!=a&&a.ge===b}function Vr(a){if(null!=a)switch(a.Fe){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Wr(){yn.call(this)}n(Wr,yn);Wr.prototype.ge=tn;function U(a){if(null==a||a.ge!==tn)if(a instanceof qn){var b=W,c;a instanceof qn&&a.constructor===qn&&a.g===rn?c=a.h:(ea(a),c="type_error:SafeHtml");a=b(c,a.Yc())}else a=W(Sg(String(String(a))),Vr(a));return a}function Xr(){yn.call(this)}n(Xr,yn);Xr.prototype.ge={};Xr.prototype.Fe=1;
function Yr(){yn.call(this)}n(Yr,yn);Yr.prototype.ge=un;Yr.prototype.Fe=1;function Zr(){yn.call(this)}n(Zr,yn);Zr.prototype.ge=vn;Zr.prototype.Fe=1;function $r(){yn.call(this)}n($r,yn);$r.prototype.ge={};$r.prototype.Fe=1;function as(){yn.call(this)}n(as,yn);as.prototype.ge=wn;as.prototype.Fe=1;function bs(a,b){this.content=String(a);this.Fe=null!=b?b:null}n(bs,zn);bs.prototype.ge=xn;function cs(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a){return new b(String(a))}}
var W=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){var e=new b(String(a));void 0!==d&&(e.Fe=d);return e}}(Wr);cs(Xr);var ds=cs(Yr);cs(Zr);var es=cs($r),fs=cs(as);function gs(a,b){return Tr(a,b,void 0,new Yo(void 0))}function hs(a){return(a=String(a))?new bs(a,void 0):""}var X=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){var e=String(a);if(!e)return"";e=new b(e);void 0!==d&&(e.Fe=d);return e}}(Wr);
function is(a){return a.replace(/<\//g,"<\\/").replace(/\]\]>/g,"]]\\>")}function Y(a){Ur(a,tn)?(a=a.getContent(),a=String(a).replace(js,"").replace(ks,"&lt;"),a=String(a).replace(ls,ms)):a=Sg(String(a));return a}
function ns(a){Ur(a,un)||Ur(a,vn)?a=String(a).replace(os,ps):a instanceof mn?(a instanceof mn&&a.constructor===mn&&a.c===nn?a=a.h:(ea(a),a="type_error:SafeUrl"),a=String(a).replace(os,ps)):a instanceof on?(a instanceof on&&a.constructor===on&&a.c===pn?a="":(ea(a),a="type_error:TrustedResourceUrl"),a=String(a).replace(os,ps)):(a=String(a),a=qs.test(a)?a.replace(os,ps):"#zSoyz");return a}
function rs(a){Ur(a,wn)?a=is(a.getContent()):null==a?a="":a instanceof kn?(a instanceof kn&&a.constructor===kn&&a.c===ln?a=a.h:(ea(a),a="type_error:SafeStyle"),a=is(a)):(a=String(a),a=ss.test(a)?a:"zSoyz");return a}function ts(a){var b;b=String(a).replace(/(\r\n|\r|\n)/g,"<br>");return Ur(a,tn)?W(b,Vr(a)):b}
var us={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ms(a){return us[a]}
var vs={"\x00":"\\x00","\b":"\\x08","\t":"\\t","\n":"\\n","\x0B":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","\u0085":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"};function ws(a){return vs[a]}
var xs={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",
")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB",
"\uff3d":"%EF%BC%BD"};function ps(a){return xs[a]}
var ls=/[\x00\x22\x27\x3c\x3e]/g,ys=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,os=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,ss=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|(?:rgb|hsl)a?\([0-9.%,\u0020]+\)|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,qs=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,zs=
/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,js=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,ks=/</g;function As(a){var b=a.id;return W('<div id="'+Y(a.border)+'" class="wnd-add-content-container-border"></div><div id="'+Y(b)+'" class="wnd-add-content-container-btn-area"><div class="wnd-add-content-container-btn"></div></div>')};function Bs(a){var b=a.id;return W('<div id="'+Y(a.border)+'" class="wnd-add-content-border"></div><div id="'+Y(b)+'" class="wnd-add-content-btn-area"><div class="wnd-add-content-btn"></div></div>')};function Cs(a){var b=a.title;return W('<div class="wnd-page-template"><i><img src="'+Y(ns(a.src))+'" alt="'+Y(b)+'"></i><u>'+U(b)+"</u></div>")};function Ds(a){var b=a.id;return W('<div id="'+Y(a.border)+'" class="wnd-add-section-border"></div><div id="'+Y(b)+'" class="wnd-add-section-btn-area"><div class="wnd-add-section-btn"></div></div>')};function Es(a){var b=a.wk,c=!!a.hasFeature;a=a.Oq;var d;d='<div class="wnd-popup-header wnd-ps-subtitle"><h2>Backup and Recovery</h2></div><div class="wnd-ps-backup-and-recovery"><b>Online Backup and Recovery</b><i>Upgrading to Premium Services allows you to create online backups and recover your website at any time.</i>';d=c?d+('<a href="'+Y(ns(a))+'" target="_blank" class="wnd-ps-get-premium">Manage backups</a>'):d+('<a href="'+Y(ns(b))+'" target="_blank" class="wnd-ps-get-premium">Upgrade your plan</a>');
return W(d+"</div>")};function Fs(){return W('<div class="wnd-popup-controls-left"></div>')}function Gs(){return W('<div class="wnd-popup-controls-right"></div>')}
function Hs(a){var b=a.control,c=a.uri,d=a.text,e=a.target,g=a.za;a="";switch(na(b)?b.toString():b){case "Submit":g="";g=d?g+U(d):g+"OK";a+=Is({za:"submit",control:b,text:X(g),uri:c,target:e});break;case "Delete":a+=Is({za:"delete",control:b,text:X("Delete")});break;case "DeleteLanguage":a+=Is({za:"delete",control:b,text:X("Delete language")});break;case "ConfirmDelete":a+=Is({za:"submit",control:b,text:X("Delete")});break;case "ConfirmDisableMemberLogin":a+=Is({za:"submit",control:b,text:X("Disable membership")});
break;case "SaveEdit":a+=Is({za:"submit",control:b,text:X("Save and edit")});break;case "Cancel":a+=Is({za:"close",control:b,text:X("Cancel")});break;case "Close":a+=Is({za:"close",control:b,text:X("Close")});break;case "ImageList":a+=Is({za:"exists",control:b,text:X("Image gallery")});break;case "FileList":a+=Is({za:"exists",control:b,text:X("Use existing file")});break;case "Create":a+=Is({za:"submit",control:b,text:X("Create")});break;case "Choose":a+=Is({za:"submit",control:b,text:X("Choose")});
break;case "Upgrade":g="";g=d?g+U(d):g+"Upgrade your plan";d=a;a=X(g);b=W('<a class="wnd-ctrl-type-'+Y("submit")+'" data-wnd_content_button="'+Y(b)+'" href="'+Y(ns(c))+'"'+(e?' target="'+Y(e)+'"':"")+">"+U(a)+"</a>");a=d+b;break;case "SaveAnyway":a+=Is({za:"submit",control:b,text:X("Save")});break;case "Reload":a+=Is({za:g?g:"close",control:b,text:X("Reload")});break;case "Login":a+=Is({za:"submit",control:b,text:X("Log in")});break;case "Publish":a+=Is({za:"close",control:b,text:X("Publish")});break;
case "Continue":a+=Is({za:"submit",control:b,text:X("Continue")});break;case "TryForFree":a+=Is({za:"submit",control:b,text:X("Try it for free")})}return W(a)}function Is(a){var b=a.control,c=a.text;return W('<b class="wnd-ctrl-type-'+Y(a.za)+'" data-wnd_content_button="'+Y(b)+'">'+U(c)+"</b>")};function Js(a){return W('<div class="wnd-page-name-readonly">'+U(a.name)+"</div>")};function Ks(){return W('<div class="wnd-bubble"></div>')}function Ls(){return W('<i class="wnd-bubble-arrow"></i>')};function Ms(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.type;a=a.disabled;return W('<div class="wnd-form-item-button"><button'+(c?' name="'+Y(c)+'"':"")+(b?' id="'+Y(b)+'"':"")+(g?' type="'+Y(g)+'"':"")+(a?' disabled="disabled"':"")+(d?' value="'+Y(d)+'"':"")+">"+U(e)+"</button></div>")};function Ns(a){var b=a.uy,c=a.sy,d=a.ty,e=!!a.Sx;a=""+('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Domains</h2></div><div class="wnd-ps-domains"><b>Upgrade to a professional domain name</b><i>Site address: <strong>'+U(a.Ex)+'</strong></i><a href="'+Y(ns(c))+'" target="_blank" class="wnd-ps-get-premium">Register new domain</a><u>or ');a=e?a+('<a href="'+Y(ns(b))+'" target="_blank">Manage domains</a>'):a+('<a href="'+Y(ns(d))+'" target="_blank">use existing domain</a>');return W(a+"</u></div>")}
;function Os(a){var b=W,c;c=a.ma;a=a.text;var d="";switch(na(c)?c.toString():c){case "special":d+=U(a);break;default:d+="This function has not been activated"}c=W(d);return b('<div class="wnd-base wnd-dd-placeholder-in">'+c+"</div>")};function Ps(a){return W('<div class="wnd-dropdown-toggle" unselectable="on"><b>'+U(a.title)+"</b></div>")}function Qs(){return W('<div class="wnd-dropdown-arrow"></div>')};function Rs(){return W('<div class="wnd-form-hint">Tip: Enter one option per line.</div>')};function Ss(a){var b=a.wk,c=a.vy;a=!!a.hasFeature;var d;d='<div class="wnd-popup-header wnd-ps-subtitle"><h2>Email accounts</h2></div><div class="wnd-ps-email-accounts"><b>Get your own email address</b><i>Upgrading to Premium Services allows you to create email accounts for your website.</i>';d=a?d+('<a href="'+Y(ns(c))+'" target="_blank" class="wnd-ps-get-premium">Manage email accounts</a>'):d+('<a href="'+Y(ns(b))+'" target="_blank" class="wnd-ps-get-premium">Upgrade your plan</a>');return W(d+
"</div>")};function Ts(){return W("")}function Us(a){var b=a.text;a=a.sd;a="<div"+(a?' class="'+Y(a)+'"':"")+">";Ur(b,xn)&&(b.getContent(),b="zSoyz");return a+b+"</div>"}function Vs(a){var b=a.Je,c=a.label;return W(0==a.qc&&c?Ws(a)+'<label for="'+Y(b)+'">'+U(c)+"</label>"+Xs(a):"")}function Ws(a){a=a||{};return W(a.hc?'<i class="wnd-form-item-icon"></i>':"")}function Xs(a){a=a||{};a=a.rb;return W(a?'<i class="wnd-form-item-tooltip"><u>'+ts(U(a))+"</u></i>":"")}
function Ys(a){var b=a.name,c=a.id,d=a.value,e=a.className,g=a.checked,h=a.disabled,k=a.Iq,p=a.jq,w=a.placeholder,v=a.maxLength,C=a.min,G=a.max,J=a.step,V=a.accept,Va=a.multiple;return W('<input type="'+Y(a.type)+'"'+(b?' name="'+Y(b)+'"':"")+(c?' id="'+Y(c)+'"':"")+(null!=d?' value="'+Y(d)+'"':"")+(e?' class="'+Y(e)+'"':"")+(g?' checked="checked"':"")+(h?' disabled="disabled"':"")+(k?' tabindex="'+Y(k)+'"':"")+(p?' readonly="readonly"':"")+(w?' placeholder="'+Y(w)+'"':"")+(v?' maxlength="'+Y(v)+
'"':"")+(C?' min="'+Y(C)+'"':"")+(G?' max="'+Y(G)+'"':"")+(J?' step="'+Y(J)+'"':"")+(V?' accept="'+Y(V)+'"':"")+(Va?' multiple="multiple"':"")+">")};function Zs(a){var b=a.id,c=a.text,d=a.label,e=a.qc,g=a.disabled,h=a.readOnly,k=a.placeholder,p=a.rb,w=a.hc;return W('<div class="wnd-form-ac">'+Ys({type:hs("text"),name:a.name,Iq:hs("-1"),jq:!0,className:hs("wnd-form-ac-control"),value:a.value})+Vs({qc:e,Je:b,label:d,rb:p,hc:w})+'<div class="wnd-form-ac-select">'+Ys({type:hs("text"),id:b,text:c,disabled:g,readOnly:h,placeholder:k})+"<i></i></div></div>")};function $s(a){var b=a.id,c=a.label,d=a.qc,e=a.rb,g=a.hc,h=a.hint;return W('<div class="wnd-form-checkbox">'+Ys({type:hs("checkbox"),name:a.name,id:b,value:a.value,checked:a.checked,disabled:a.disabled})+"<i><i></i></i>"+Vs({Je:b,label:c,qc:d,rb:e,hc:g})+"</div>"+(h?'<div class="wnd-form-item-hint">'+U(h)+"</div>":""))};function at(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.qc,h=a.disabled,k=a.hint,p=a.css,w=a.maxLength,v=a.rb;a=a.hc;return W('<div class="wnd-form-short-text'+(p?" "+Y(p):"")+'">'+Vs({Je:b,label:e,qc:g,rb:v,hc:a})+Ys({type:hs("text"),name:c,id:b,value:d,disabled:h,maxLength:w})+(k?'<div class="wnd-form-hint">'+U(k)+"</div>":"")+"</div>")};function bt(a){var b=a.id,c=a.name,d=a.nl,e=a.value,g=a.label;return W('<div class="wnd-form-favicon"><div class="wnd-adv-fieldset-legend">'+Ws(a)+'<div class="wnd-adv-fieldset-legend-text">'+U(g)+': <i class="wnd-form-favicon-value"></i></div><div class="wnd-adv-fieldset-edit-button">'+U(d)+"</div></div>"+Ys({type:hs("hidden"),name:c,id:b,value:e})+"</div>")};function ct(a){a=a||{};var b=a.id,c=a.css;return W("<fieldset"+(b?' id="'+Y(b)+'"':"")+(c?' class="'+Y(c)+'"':"")+">"+dt(a)+"</fieldset>")}function dt(a){a=a||{};var b=a.bg,c=a.sd;return W(b?"<legend"+(c?' class="'+Y(c)+'"':"")+">"+U(b)+Xs(a)+"</legend>":"")};function et(a){var b=a.bg,c=a.css,d=a.rb;return W('<fieldset class="wnd-adv-fieldset wnd-adv-with-arrow'+(c?" "+Y(c):"")+'"><div class="wnd-adv-fieldset-legend">'+Ws(a)+dt({sd:"wnd-adv-fieldset-legend-text",bg:b,rb:d})+"</div>"+ft(a)+"</fieldset>")}
function ft(a){a=a||{};a=a.Wx;var b='<div class="wnd-adv-fieldset-edit"><div class="wnd-adv-fieldset-area'+(a?" wnd-adv-with-save":"")+'"><div class="wnd-adv-fieldset-content"></div>';a&&(b+='<b class="wnd-ctrl-type-submit">Save</b>');return W(b+"</div></div>")};function gt(a){a=a||{};var b=a.method;a=a.ss;return W("<form"+(b?' method="'+Y(b)+'"':"")+(a?' class="'+Y(a)+'"':"")+">"+Ys({type:hs("submit"),Iq:hs("-1")})+"</form>")};function ht(a){var b=a.qx,c=!!a.hs,d=a.xy,e=a.zy,g=a.yy,h=!!a.Qh,k=a.Fx,p=a.Yx,w=a.es,v=a.ry,C=!!a.bu,G=a.rx,J=a.sx,V=a.ay;a=""+('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Account overview</h2></div><div class="wnd-ps-general"><div class="wnd-ps-general-package"><div class="wnd-ps-general-package-info"><i>Your Webnode plan</i><b>'+U(b)+"</b>");c&&(a+='<a href="'+Y(ns(d))+'" target="_blank">',a=(h?a+"Choose your plan":a+"Upgrade your plan")+"</a>");a+='</div></div><div class="wnd-ps-general-bandwith"><p><b>Storage</b><s class="wnd-storagebar'+
(k.storage.percentage>p?" wnd-storagebar-limit":"")+'"><u style="width:'+Y(rs(k.storage.percentage))+'%;"></u></s><a href="'+Y(ns(e))+'" target="_blank">Buy more</a><i>'+U(k.storage.actualMB)+" MB out of ";a=0==k.storage.limitGB?a+(U(k.storage.limitMB)+" MB"):a+(U(k.storage.limitGB)+" GB");a+='</i></p><p><b>Bandwidth</b><s class="wnd-storagebar'+(k.bandwidth.percentage>w?" wnd-storagebar-limit":"")+'"><u style="width:'+Y(rs(k.bandwidth.percentage))+'%;"></u></s><a href="'+Y(ns(g))+'" target="_blank">Buy more</a><i>';
a=100>k.bandwidth.percentage?a+(U(k.bandwidth.actualMB)+" MB"):a+(U(k.bandwidth.actualGB)+" GB");a+=" out of ";a=k.bandwidth.limitGB?a+(U(k.bandwidth.limitGB)+" GB"):a+"Unlimited";a+="</i></p></div></div>";h?(v="Become a "+('<a href="'+Y(ns(d))+'" target="_blank">Premium user</a> and receive priority support, password protection, backup and recovery, email services and much more!'),a+='<div class="wnd-ps-general-support">'+v+"</div>"):(a+='<div class="wnd-ps-general-support"><p>',C?(G="Warning: Your Premium services will expire on "+
(U(J)+". To keep your website online including all the Premium functions, renew the services as soon as possible."),a+='<b class="wnd-ps-package-expire">'+G+"</b>"):(b="Premium Package <strong>"+(U(b)+"</strong>"),G="Valid from "+(U(G)+(" to "+U(J))),a+=b+" - "+G),V&&(V="Your subscription will automatically renew on <strong>"+(U(V)+"</strong>."),a+="<br>"+V),a+='</p><p><a href="'+Y(ns(v))+'" target="_blank">Active Services and Billing</a></p></div>');return W(a)};function it(a){return W(Ys({type:hs("hidden"),name:a.name,id:a.id,value:a.value}))};function jt(){return W('<div class="wnd-empty-placeholder"><p><strong>HTML code</strong><br />The content of this block cannot be displayed due to security reasons. The inserted HTML widget is visible on the published version of your website.</p></div>')};function kt(a){var b=a.link,c=a.description,d=a.Sn,e=a.Vh;a=a.sd;var g="";switch(na(d)?d.toString():d){case "Edit":d=g;b=lt({control:"Edit",link:b,description:c,Vh:e,sd:a});c=X("Replace");c=W('<b class="wnd-ctrl-type-submit" data-wnd_content_button="'+Y("Edit")+'">'+U(c)+"</b>");g=d+(b+c);break;case "Rotate":g+=lt({control:"Rotate",link:b,description:c,disabled:!0,Vh:e,sd:a})}return W(g)}
function lt(a){var b=a.control,c=a.link,d=a.description,e=a.sd;return W('<div class="wnd-image-list-box'+(a.disabled?" disabled":"")+(a.Vh?" preview-svg":"")+'"><div class="wnd-image-list-cell'+(e?" "+Y(e):"")+'" data-wnd_content_button="'+Y(b)+'"><img src="'+Y(ns(c))+'" alt="'+Y(d)+'"></div></div>')};function mt(a){var b=a.type,c=a.vx;a=a.ux;var d="";switch(na(b)?b.toString():b){case "notEnoughStorage":d+=nt({title:X("Warning: Storage almost full!")});break;case "notPublished":d+=nt({title:X("Publish Changes")})+ot({text:X("Click here to publish all changes.")});break;case "changeLanguage":d+=ot({text:X("<strong>Tip:</strong> You are able to switch between and edit language versions here.")});break;default:d+=(c?nt({title:c}):"")+(a?ot({text:a}):"")}return W(d)}
function nt(a){return W('<div class="wnd-title">'+U(a.title)+"</div>")}function ot(a){return W('<div class="wnd-text">'+U(a.text)+"</div>")}function pt(a){return W("<b>"+U(a.ju)+"</b>")};function qt(a){var b=a.bg,c=a.css,d=a.nl,b='<fieldset class="wnd-adv-fieldset'+(c?" "+Y(c):"")+'"><div class="wnd-adv-fieldset-legend">'+Ws(a)+dt({sd:"wnd-adv-fieldset-legend-text wnd-dynamic-text",bg:X(U(b)+"<i>: <strong></strong></i>")})+'<div class="wnd-adv-fieldset-edit-button">',b=d?b+U(d):b+"Edit",b=b+("</div></div>"+ft(a)+"</fieldset>");return W(b)};function rt(a){var b=a.Nx,c=a.Cg,d=a.Ni;a=""+st(a);for(var e=d.length,g=0;g<e;g++){var h=d[g];a+=0==g?tt({od:"block_"+g,Ni:h,Cg:c}):tt({od:"block_"+g,Ni:h})}c=b.length;for(d=0;d<c;d++){e=b[d];h="section_"+d;g="";if(e){for(var g=g+('<div class="wnd-insert-block" data-wnd_insert_block="'+Y(h)+'" style="display:none;">'),h=e.length,k=0;k<h;k++)var p=e[k],g=g+ut({za:"section-"+p.za,Vd:p.Vd,cf:p.cf,Td:p.Td});g+="</div>"}e=W(g);a=a+e}return W(a)}
function vt(){return W('<i class="wnd-insert-arrow"></i>')}
function st(a){a=a.Ue;var b="";if(a){for(var b=b+'<div class="wnd-insert-switch">',c=a.length,d=0;d<c;d++)var e=a[d],g=e.od,h=e.Hq,e=e.fy,e=W('<b class="wnd-insert-switcher'+(e?" "+Y(e):"")+'" data-wnd_insert_switch="'+Y(g)+"_"+Y(h)+'"></b>'),b=b+e;b+='</div><div class="wnd-insert-head">';c=a.length;for(d=0;d<c;d++){g=a[d];e=g.od;g=g.Hq;g='<h2 data-wnd_insert_title="'+Y(e)+"_"+Y(g)+'">';switch(na(e)?e.toString():e){case "section":g+="Add section";break;case "form-field":g+="Add form item";break;default:g+=
"Add content"}g+="</h2>";e=W(g);b=b+e}b+="</div>"}return W(b)}function tt(a){null==a.Cg||ha(a.Cg);var b=a.Cg,c=a.Ni,d=a.od;a="";if(c){a+='<div class="wnd-insert-block" data-wnd_insert_block="'+Y(d)+'" style="display:none;">';for(var d=c.length,e=0;e<d;e++){var g=c[e];a+=ut({za:g.za,Vd:g.Vd,cf:g.cf,Td:g.Td})}if(b)for(c=b.length,d=0;d<c;d++)e=b[d],a+=ut({za:e.za,Vd:e.Vd,cf:e.cf,Td:e.Td});a+="</div>"}return W(a)}
function ut(a){var b=a.Vd,c=a.Td,d=a.cf;a=a.za;return W('<b class="wnd-insert-button'+(a?" type-"+Y(a):"")+'" data-wnd_insert_type="'+Y(b)+'"'+(d?'data-wnd_insert_content_identifier="'+Y(d)+'"':"")+"><i>"+ts(U(c))+"</i></b>")};function wt(a){var b=a.ht,c=""+st(a);a=b.length;for(var d=0;d<a;d++){var e;e=b[d];for(var g='<div class="wnd-insert-block" data-wnd_insert_block="'+Y("form-field_"+d)+'" style="display:none;">',h=e.length,k=0;k<h;k++)var p=e[k],g=g+ut({za:p.za,Vd:p.Vd,Td:p.Td});g+="</div>";e=W(g);c=c+e}return W(c)};function xt(a){var b=a.name;return W('<div class="wnd-language-switcher flag flag-'+Y(a.identifier)+'">'+U(b)+"</div>")}function yt(){return W('<div class="wnd-language-form-item-container"></div>')};function zt(a){return W('<div  class="'+Y(a.css)+'"></div>')}
function At(a){a=a||{};var b=a.id,c=a.css,d=a.style,e=W,b="<div "+(b?' id="'+Y(b)+'"':"")+(c?' class="'+Y(c)+'"':"")+(d?' style="'+Y(rs(d))+'"':"")+">",c=a,d=c.il,g=c.name;a=W;var d='<div class="'+Y(c.cssText)+'" title="'+Y(g)+'"><u><span>'+U(g)+'</span></u><i class="'+Y(d)+'"></i>',g=c.id,h=c.hl,k=c.Os,c=c.dC,c=W((c?'<div id="'+Y(g)+'_dd_top" class="'+Y(h)+'"></div>':"")+(c?'<div id="'+Y(g)+'_dd_bottom" class="'+Y(k)+'"></div>':""));a=a(d+c+"</div>");return e(b+a+"</div>")}
function Bt(a){var b=a.value,c=a.placeholder,d=a.maxLength;return W('<div class="'+Y(a.css)+'"><form>'+Ys({type:hs("text"),value:b,placeholder:c,maxLength:d})+"</form></div>")};function Ct(a){a=a||{};a=a.buttons;var b;b='<div class="wnd-popup-controls"><div class="wnd-popup-controls-left"><b class="wnd-ctrl-type-delete">';b=a&&a["delete"]?b+U(a["delete"]):b+"Delete";b+='</b><b class="wnd-ctrl-type-edit">';b=a&&a.Xc?b+U(a.Xc):b+"Edit item";return W(b+'</b></div><div class="wnd-popup-controls-right"><b class="wnd-ctrl-type-close">Close</b></div></div>')}function Dt(a){return W('<div class="wnd-empty-content">'+U(a.text)+"</div>")};function Et(a){a=""+('<div class="wnd-empty-placeholder"><p><strong>Blog</strong><br />'+U(a.text)+"</p></div>");return W(a)};function Ft(a){var b=a.type,c="";switch(na(b)?b.toString():b){case "default":case "popup":case "section":case "container":case "wnd-block":b=c;a=a||{};a=a.text;a=W('<div class="wnd-spinner">'+(a?"<i>"+U(a)+"</i>":"")+"<b></b><b></b><b></b></div>");c=b+a;break;case "icon":case "upload":b=c,a=a||{},a=a.className,a=W('<u class="wnd-wheel'+(a?" "+Y(a):"")+'"><i></i><i></i></u>'),c=b+a}return W(c)};function Gt(a){a=a||{};var b=a.title,c=a.by;null==a.Ue||ha(a.Ue);var d=a.Ue,e=a.Aa,b=""+(b?W("<h2>"+U(a.title)+"</h2>"):"");a=c?W("<h3>"+U(a.by)+"</h3>"):"";b=b+a;if(d)for(a=d.length,c=0;c<a;c++){var g;g=d[c];var h="";switch(na(g)?g.toString():g){case "UploadImage":h+=Ht({za:"back",vc:g,text:X("Upload image"),dataType:"wnd_content_switch"});break;case "UploadFile":h+=Ht({za:"back",vc:g,text:X("Upload file"),dataType:"wnd_content_switch"});break;case "PhotoGalleryList":h+=Ht({za:"back",vc:g,text:X("Gallery"),
dataType:"wnd_content_switch"});break;case "addImages":h+=Ht({za:"button add",vc:g,text:X("Upload images"),dataType:"wnd_content_switch"});break;case "pm-add-page":h+=Ht({za:"button add",vc:g,text:X("Add page"),dataType:"wnd_content_switch"});break;case "pm-patterns":h+=Ht({za:"back",vc:g,text:X("Select page layout"),dataType:"wnd_content_switch"});break;case "mediaUploadImage":h+=Ht({za:"button add",vc:"myImages",text:X("Upload image"),dataType:"wnd_media_upload"});break;case "mediaUploadFavicon":h+=
Ht({za:"button add",vc:"myFavicons",text:X("Upload favicon"),dataType:"wnd_media_upload"});break;case "mediaUploadFile":h+=Ht({za:"button add",vc:"myFiles",text:X("Upload file"),dataType:"wnd_media_upload"});break;case "mediaUploadVideo":h+=Ht({za:"button add",vc:"myVideos",text:X("Add a video"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticImage":h+=Ht({za:"button add",vc:"publicImages",text:X("Upload Public Photo"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticIcon":h+=
Ht({za:"button add",vc:"publicIcons",text:X("Upload Icon"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticPattern":h+=Ht({za:"button add",vc:"patterns",text:X("Upload Pattern"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticVideo":h+=Ht({za:"button add",vc:"videos",text:X("Upload Video"),dataType:"wnd_media_upload"});break;case "mediaUploadStaticFavicon":h+=Ht({za:"button add",vc:"publicFavicons",text:X("Upload Public Favicon"),dataType:"wnd_media_upload"});break;case "SectionEditDefault":case "LayoutEditDefault":h+=
Ht({za:"back",vc:g,text:X("Back"),dataType:"wnd_content_switch"});break;case "pm-language-switcher":h+=Ht({za:"dropdown",vc:g,text:X(""),dataType:"wnd_content_switch"});break;case "blogAddArticle":h+=Ht({za:"button add",vc:g,text:X("Add a new post"),dataType:"wnd_content_switch"})}g=W(h);b=b+g}d=b;e?(e=""+('<b class="wnd-content-switcher wnd-loading upload">Uploading...'+Ft({type:"upload"})+"</b>"),e=W(e)):e="";return W(d+e)}
function Ht(a){var b=a.vc,c=a.text,d=a.dataType;a='<b class="wnd-content-switcher wnd-type-'+Y(a.za)+'"';switch(na(d)?d.toString():d){case "wnd_content_switch":a+='data-wnd_content_switch="'+Y(b)+'"';break;case "wnd_media_upload":a+='data-wnd_media_upload="'+Y(b)+'"'}a+=">"+U(c)+"</b>";return W(a)};function It(a){a=a||{};var b=a.type,c=a.title;null==a.text||ha(a.text);var d=a.text,c=W("<i></i>")+'<div class="wnd-info-context">'+(c?Jt({Gd:c}):"");if(b){b=a;a=b.type;var e=b.tx,b="";switch(na(a)?a.toString():a){case "publishedPage":b+=Jt({Gd:X("Website was published!")})+Kt({textContent:X("The live version is available here:")})+Kt({textContent:X('<a target="_new" onclick="this.href=\''+Y(String(e.uri).replace(ys,ws))+"';\">"+U(e.link)+"</a><u></u>"),sd:"wnd-info-published-link"});break;case "waiting":b+=
Ft({type:"default"});break;case "removeWebnodeAds":b+=Jt({Gd:X("Remove Webnode Ads")})+Kt({textContent:X("Only Premium Users with Standard or Profi Packages are able to edit the footer.")});break;case "notEnoughStorage":b+=Jt({Gd:X("Not enough storage")})+Kt({textContent:X("Files cannot be uploaded because there is not enough storage available.")});break;case "multilanguage":b+=Jt({Gd:X("Launch your website in another language")})+Kt({textContent:X("Allow visitors to view your site in their own language. Activate a Standard or Profi Premium Package and make your business truly global!")});
break;case "premiumUpload":b+=Jt({Gd:X("The file could not be uploaded")})+Kt({textContent:X("Purchase a Mini, Standard or Profi Premium Plan to upload files of any size and type.")});break;case "premiumFormItemsLimit":b+=Jt({Gd:X("You have reached the limit of 5 fields in a form!")})+Kt({textContent:X("You are able to create a form with a maximum of 5 fields with a free account. Add more fields by purchasing a Mini, Standard or Profi Premium Plan.")});break;case "premiumFormUploadField":b+=Jt({Gd:X("Enable the option to upload files in your forms")})+
Kt({textContent:X("Uploading a file is not available with your current plan. To enable this field, please purchase a Mini, Standard or Profi Premium Plan.")});break;case "searchIndex":b+=Jt({Gd:X("Enable search engine indexing for your website")})+Kt({textContent:X("Purchase a Mini, Standard or Profi Premium Plan to let your website be shown in Google search results.")});break;case "premiumAnalytics":b+=Jt({Gd:X("Connect your Google Analytics account")})+Kt({textContent:X("Activate a Standard or Profi Premium Package to analyze the traffic on your website with Google Analytics.")});
break;case "premiumFavicon":b+=Jt({Gd:X("Add your own favicon")})+Kt({textContent:X("Activate a Standard or Profi Premium Package to add your own image to the browser tab. Choose from dozens of icons prepared by our designers or upload your own.")});break;case "headerFooterCode":b+=Jt({Gd:X("Editing your website's header and footer HTML is a Premium Feature")})+Kt({textContent:X("Activate a Standard or Profi Premium Package to add HTML code to your website's header and footer for advanced analytics or other functions.")});
break;case "longPageContent":a="The most recent changes could not be saved because there is too much content on the page. The page will be reloaded and the new content will be discarded. If you have any questions, please contact our customer support at "+('<a href="mailto:'+Y(e.uri)+'">'+(U(e.link)+"</a>.")),b+=Jt({Gd:X("Changes have not been saved")})+Kt({textContent:X(""+a)})}a=W(b)}else a="";c=c+a;if(d)for(a=d.length,b=0;b<a;b++)c+=Kt({textContent:X(""+U(d[b]))});return W(c+"</div>")}
function Jt(a){return W('<div class="wnd-info-title">'+U(a.Gd)+"</div>")}function Kt(a){var b=a.textContent;a=a.sd;return W('<div class="wnd-info-text'+(a?" "+Y(a):"")+'">'+U(b)+"</div>")};function Lt(a){var b=a.id,c=a.name,d=a.value,e=a.placeholder,g=a.maxLength,h=a.disabled,k=W;a='<div class="wnd-form-long-text">'+Vs({Je:b,label:a.label,qc:a.qc,rb:a.rb,hc:a.hc})+'<textarea name="'+Y(c)+'" id="'+Y(b)+'"'+(e?' placeholder="'+Y(e)+'"':"")+(g?' maxlength="'+Y(g)+'"':"")+(h?' disabled="disabled"':"")+">";d?Ur(d,tn)?(d=d.getContent(),d=String(d).replace(ls,ms)):d=Sg(String(d)):d="";return k(a+d+"</textarea></div>")};function Mt(a){return W('<div class="'+Y(a.css)+' wnd-clearfix"></div>')}
function Nt(a){var b=a.Pm,c=a.name,d=a.tl,e=a.backgroundColor,g=W,d='<div class="wnd-media-item '+Y(a.css)+'" data-wnd_media_file="'+Y(d)+'" id="'+Y(d)+'_item">';if(1==b)var b=a.height,h=a.width,b=W('<i><img src="'+Y(ns(a.xx))+'" alt=""'+(b?' height="'+Y(b)+'"':"")+(h?' width="'+Y(h)+'"':"")+"></i>");else b="";c=d+b+(c?U(c):"");e?(a=a||{},a=W('<i style="background-color:'+Y(rs(a.backgroundColor))+';"></i>')):a="";return g(c+a+"</div>")}
function Ot(){return W('<div class="wnd-media-empty"><p>There are no items to show in this view</p></div>')}function Pt(){return W('<div class="wnd-media-low-resolution"><p>Resolution of this image is too low.</p></div>')}function Qt(){return W('<div class="wnd-media-item-toolbox-switcher"><i></i></div>')};function Rt(){return W('<ul><li data-wnd_media_type="myFiles">My files</li><li data-wnd_media_type="myFavicons">My icons</li><li data-wnd_media_type="myImages">My images</li><li data-wnd_media_type="myVideos">My videos</li><li data-wnd_media_type="publicImages">Images</li><li data-wnd_media_type="videos">Videos</li><li data-wnd_media_type="patterns">Patterns</li><li data-wnd_media_type="solidColors">Solid colors</li><li data-wnd_media_type="publicIcons">Icons</li><li data-wnd_media_type="publicFavicons">Free icons</li></ul>')}
;function St(a){var b=a.email;a=a.Gx;b='<div class="wnd-my-projects"><b title="'+Y(b)+'">'+U(b)+"</b>";a&&(b+='<a href="'+Y(ns(a))+'" class="wnd-ctrl-type-submit">My projects</a>');return W(b+"</div>")};function Tt(){return W('<div class="wnd-remove-option"></div>')};function Ut(){return W('<div class="wnd-add-option"><span>Add Option</span></div>')};function Vt(a){var b=a.type,c=W,d,e="";switch(na(d=a.type)?d.toString():d){case "pageDetailBaseForm":e+=" basic";break;case "pageDetailAdvancedForm":e+=" advanced"}d=W(e);var b='<div class="wnd-page-edit-switcher'+Y(d)+'" data-wnd_content_switch="'+Y(b)+'">',g;d="";switch(na(g=a.type)?g.toString():g){case "pageDetailBaseForm":d+="Basic page settings";break;case "pageDetailAdvancedForm":d+="SEO page settings"}a=W(d);return c(b+a+"</div>")}
function Wt(){return W('<div class="wnd-popup-controls"><div class="wnd-popup-controls-left"><b class="wnd-ctrl-type-delete">Delete page</b></div><div class="wnd-popup-controls-right"><b class="wnd-ctrl-type-close">Close</b></div></div>')}function Xt(a){a=""+('<span class="wnd-go-to-page"> (<a href="'+Y(ns(a.href))+'">Edit page</a>)</span>');return W(a)};function Yt(){return W('<div class="wnd-popup" unselectable="on"></div>')};function Zt(){return W('<div class="wnd-activation-area"><div class="wnd-activation-icon"><i></i></div><div class="wnd-activation-content"><b>Protect your private pages, blog posts or photos</b><i>Take full advantage of Membership Registration with a Standard or Profi Premium Plan.</i><ul><li>Share content only with your family and friends or create members-only areas for your clients.</li><li>Private pages are visible only to approved site members.</li><li>Allow your visitors to register directly on your website and manage registrations with ease.</li></ul></div></div>')}
;function $t(a){var b=a.type,c=a.href;a='<div class="wnd-go-to-site"><span>';switch(na(b)?b.toString():b){case "gui_pages":b="This page is now visible only to registered site members. You can add, approve and block members "+('<a href="'+Y(ns(c))+'" target="_blank">here</a>.');a+=b;break;case "listing_items":b="Your blog post is now visible only to registered site members. You can add, approve and block members "+('<a href="'+Y(ns(c))+'" target="_blank">here</a>.'),a+=b}return W(a+"</span></div>")}
;function au(a){var b=a.id,c=a.label,d=a.qc,e=a.rb,g=a.hc,h=a.hint,k=a.ku;return W('<div class="wnd-form-item-short-text">'+Ys({type:hs("radio"),name:a.name,value:a.value,id:b,disabled:a.disabled,checked:a.checked})+Vs({Je:b,qc:d,label:c,rb:e,hc:g})+(h?'<div class="wnd-form-hint">'+U(h)+" "+(k?'<a href="'+Y(ns(k.link))+'" target="_blank">'+U(k.text)+"</a>":"")+"</div>":"")+"</div>")};function bu(a){var b=a.id,c=a.name,d=a.value,e=a.options,g=a.disabled,h=a.className;a='<div class="wnd-form-item-select">'+Vs({Je:b,label:a.label,qc:a.qc,rb:a.rb,hc:a.hc})+'<select name="'+Y(c)+'" id="'+Y(b)+'"'+(h?' class="'+Y(h)+'"':"")+(g?' disabled="disabled"':"")+">";b=e.length;for(c=0;c<b;c++)g=e[c],a+='<option value="'+Y(g.value)+'"'+(g.value==d?' selected="selected"':"")+(g.style?' style="'+Y(rs(g.style))+'"':"")+">"+U(g.label)+"</option>";return W(a+"</select></div>")};function cu(a){var b="";a="Uploading file "+U(a.filename);return W(b+('<div class="wnd-progress-area"><p>'+a+"</p></div>"))}function du(){return W('<b class="wnd-progressbar"><i></i></b>')}function eu(){return W('<b class="wnd-loadingbar"><i>.</i><i>.</i><i>.</i></b>')};function fu(){return W('<div class="wnd-ps-list"></div>')}function gu(a){var b=a.name;return W('<div class="wnd-ps-list-item" data-wnd_settings_type="'+Y(a.dm)+'">'+U(b)+"</div>")};function hu(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.qc,h=a.disabled,k=a.placeholder,p=a.hint,w=a.css,v=a.maxLength,C=a.rb;a=a.hc;return W('<div class="wnd-form-short-text'+(w?" "+Y(w):"")+'">'+Vs({Je:b,label:e,qc:g,rb:C,hc:a})+Ys({type:hs("text"),name:c,id:b,value:d,disabled:h,placeholder:k,maxLength:v})+(p?'<div class="wnd-form-hint">'+U(p)+"</div>":"")+"</div>")};function iu(a){var b=a.id,c=a.name,d=a.value,e=a.min,g=a.max,h=a.step,k=a.disabled;return W('<div class="wnd-form-item-slide">'+Vs({Je:b,label:a.label,qc:a.qc,rb:a.rb,hc:a.hc})+'<div class="wnd-form-item-slide-box"><div class="wnd-form-item-slide-output"><output for="'+Y(b)+'">'+(d?U(d):"")+"</output></div>"+Ys({type:hs("range"),name:c,id:b,min:e,max:g,step:h,value:d,disabled:k})+"</div></div>")};function ju(a){return W('<div class="wnd-switcher-title">'+U(a.title)+"</div>")}function ku(){return W('<div class="wnd-switcher-items"></div>')}function lu(){return W('<div class="wnd-switcher-paginate"><i class="wnd-change-page wnd-prev"></i><div class="wnd-switcher-paginate-items"></div><i class="wnd-change-page wnd-next"></i></div>')}
function mu(a){var b=a.rp,c=a.style,d=a.title,e=a.gl,g=a.xo,h=a.text,k=a.yp,p=a.kp,w=W,e='<span class="wnd-switcher-item'+(e?" "+Y(e):""),v;v=a||{};v=W((v.selected?" selected":"")+(v.cy?" variant-icon":"")+(v.yp?" number-series":""));b=e+Y(v)+'"'+(c?'style="'+Y(rs(nu(a)))+'" ':"")+(d?'title="'+Y(d)+'" ':"")+'data-wnd_switch_item="'+Y(b)+'">';g?(c=a||{},g=c.it,c=c.oj,g=W("<b"+(g?' class="'+Y(g)+'"':"")+(c?' style="'+Y(rs(nu({style:c})))+'"':"")+"></b>")):g="";h=b+g+(h?U(h):"")+(k?"<u>"+U(k)+"</u>":
"");p?(a=a||{},a=a.kp,a=W('<img src="'+Y(ns(a.src))+'" width="'+Y(a.width)+'" height="'+Y(a.height)+'" alt="">')):a="";return w(h+a+"</span>")}
function nu(a){a=a||{};a=a.style;var b=a.Sl?"background-image: url("+ns(a.Sl)+");":"",c;a.lp?(c=String(a.lp),c=zs.test(c)?c:"data:image/gif;base64,zSoyz",c="background-image: url("+ns(ds(c))+");"):c="";return fs(b+c+(a.color?"background-color: "+rs(a.color)+";":"")+(a.repeat?"background-repeat:repeat; background-size:auto;":"")+(a.top?"background-position: 0 -"+rs(a.top)+"px; background-size: 100% auto;":"")+(a.left?"background-position: -"+rs(a.left)+"px 0; background-size: auto 100%;":""))}
function ou(a){var b=a.next;return W('<div class="wnd-switcher-more-items'+(b?" wnd-with-next":"")+'"><a>'+U(a.name)+"</a>"+(b?"<i>"+U(b)+"</i>":"")+"</div>")};function pu(a){var b=a.bg,c=a.css,d=a.rb;return W('<fieldset class="wnd-adv-fieldset wnd-adv-with-switch'+(c?" "+Y(c):"")+'"><div class="wnd-adv-fieldset-legend">'+Ws(a)+dt({sd:"wnd-adv-fieldset-legend-text",bg:b,rb:d})+'<div class="wnd-adv-fieldset-switch"><i><i></i></i></div></div>'+ft(a)+"</fieldset>")};function qu(){return W('<div class="wnd-toolbox"></div>')}function ru(){return W('<i class="wnd-toolbox-arrow"></i>')}function su(){return W('<div class="wnd-toolbox-expanded-area"></div>')}function tu(){return W('<div class="wnd-toolbox-buttons"></div>')}function uu(a){var b=a.icon,c=a.name,d=a.title;return W('<b class="'+Y(a.className)+'"'+(d?' title="'+Y(d)+'"':"")+">"+(b?"<i></i>":"")+(c?"<u>"+U(c)+"</u>":"")+"</b>")}function vu(){return W('<div class="wnd-toolbox-special-actions"></div>')}
function wu(a){var b,c='<i class="wnd-tbx-button confirm">';switch(na(b=a.Bs)?b.toString():b){case "remove":c+="Are you sure? <a>Delete</a>";break;case "remove-form-confirm":c+="Remove the form? <a>Delete</a>"}return W(c+"</i>")}function xu(){return W('<div class="wnd-toolbox-subgroup"></div>')};var yu={Kq:function(a){return W("<div "+yu.Ig(a)+"></div>")},fu:function(a){return W("<div "+yu.Ig(a)+">"+yu.gu(a)+yu.tt(a)+"</div>")},gu:function(a){var b=a.il,c=a.name;return W('<div class="'+Y(a.cssText)+'"><u><span>'+U(c)+'</span></u><i class="'+Y(b)+'"></i></div>')},eu:function(a){return W("<div "+yu.Ig(a)+"></div>")},Ig:function(a){a=a||{};var b=a.id,c=a.css;a=a.style;return es((b?' id="'+Y(b)+'"':"")+(c?' class="'+Y(c)+'"':"")+(a?' style="'+Y(rs(a))+'"':""))},tt:function(a){var b=a.hl;return W('<div id="'+
Y(a.id)+'_dd_top" class="'+Y(b)+'"></div>')},Xt:function(a){a=a||{};a=a.url;var b;b='<div class="wnd-tree-pages-help">Change the order of pages by dragging a page up or down. Create subpages by dragging a page to the right. ';a&&(b+='<a href="'+Y(ns(a))+'" target="_blank">More information</a>.');return W(b+"</div>")},BC:function(a){return W(Bt(a))}};function zu(a){var b=a.multiple,c=a.tl,d=a.sl,e=a.accept;a='<form enctype="multipart/form-data" method="post" class="wnd-upload-form"><div class="wnd-upload-drag-area'+(a.lu?" new-gallery":"")+'">';switch(na(d)?d.toString():d){case "image":d="";a+=Au({name:X(b?d+"Upload images":d+"Upload image"),description:X("Click here or drag and drop to upload images")});break;case "favicon":a+=Au({name:X("Upload favicon"),description:X("Click here or drag and drop to upload favicon")});break;case "file":a+=Au({name:X("Upload file"),
description:X("Click here or drag and drop to upload files")})}a+=Ys({type:hs("file"),name:hs("file"),tl:c,accept:e,multiple:b})+"</div></form>";return W(a)}function Au(a){return W("<b>"+U(a.name)+"</b>")};function Bu(a){var b=a.id,c=a.name,d=a.value,e=a.label,g=a.qc,h=a.disabled,k=a.placeholder,p=a.hint,w=a.css,v=a.rb;a=a.hc;b=""+('<div class="wnd-form-upload'+(w?" "+Y(w):"")+'">'+Vs({qc:g,Je:b,label:e,rb:v,hc:a})+Ys({type:hs("file"),name:c,id:b,className:hs("wnd-form-upload-control"),value:d,disabled:h,placeholder:k})+'<div class="wnd-form-upload-visual">'+Ys({type:hs("text"),jq:!0,className:hs("wnd-form-upload-text"),value:d,placeholder:k})+'<b class="wnd-ctrl-type-submit">Choose a file</b></div>'+
(p?'<div class="wnd-form-hint">'+U(p)+"</div>":"")+"</div>");return W(b)};function Cu(a){a=""+('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Website Editors</h2></div><div class="wnd-ps-website-editors"><b>Cooperate with other users</b><i>Invite someone to collaborate with you on your website. Edit your website and keep your content up-to-date together.</i><a href="'+Y(ns(a.wy))+'" target="_blank" class="wnd-ps-get-premium">Invite collaborator</a></div>');return W(a)};function Du(){return W('<div class="wnd-popup-header wnd-ps-subtitle"><h2>Website language</h2></div>')}function Eu(){return W('<div class="wnd-add-new-language">Add new language</div>')};function Fu(a){var b=a.link;a=""+('<div class="wnd-welcome-title">Welcome!</div><div class="wnd-welcome-text">Congratulations, your website was successfully configured. You can start editing now.</div><div class="wnd-welcome-text">Address of your website:<br><a href="'+Y(ns(a.uri))+'" target="_blank">'+U(b)+'</a></div><a class="wnd-start-button">Start editing</a>');return W(a)};function Pe(){}Pe.map=null;Pe.styles=null;Pe.formatters=null;Pe.blockSettings=null;Pe.variantSettings=null;Pe.mapStyles=null;Pe.colorSets=null;function Gu(a,b){if(null===b||"undefined"===typeof b)b={};var c="render_"+a.replace(/\./g,"_"),d=l(b.variant)?b.variant:"default";return Pe.hasOwnProperty(c)?Pe[c](b,d):""}wa("wnd.tpl.T",Pe);function Hu(a){var b="";z(a,function(a,d){ka(a)?!0===a&&(b+=" "+Iu(d)):b+=" "+Iu(d)+'="'+Iu(a)+'"'});return b}wa("wnd.tpl.T.as",Hu);
function Ju(a,b){if(""==b)return a;b=eh(b);return a.replace(new RegExp("^"+b+"+|"+b+"+$","g"),"")}wa("wnd.tpl.T.a",function(a,b,c,d,e){a=e(a);a=Ju(a,c);return""===a?"":" "+Iu(b)+'="'+Iu(a)+'"'});wa("wnd.tpl.T.aV",function(a,b,c){a=c(a);a=Ju(a,b);return""===a?"":Iu(b)+Iu(a)});function Iu(a){a=Sg(""+a);return a=a.replace(/&#39;/g,"'")}wa("wnd.tpl.T.e",Iu);wa("wnd.tpl.T.j",function(a,b){var c=b?b:"";return ha(a)?a.join(c):a});
wa("wnd.tpl.T.i",function(a,b){ha(a)||(a=[]);for(var c="",d=0;d<a.length;d++)c+=b(a[d]);return c});
wa("wnd.tpl.T.eD",function(a,b,c,d){var e=!a;ia(a)?e=D(a):na(a)&&(e=Xe(a));switch(c){case "wnd.pc.PhotoGalleryBlock":b=function(){return W('<div class="wnd-empty-placeholder"><p><strong>Photo Gallery</strong><br />No images were found in this photo gallery.</p></div>')};break;case "wnd.pc.ListingZone":case "wnd.pc.BlogZone":b=function(){var a="";l(d)&&("notExists"==d.placeholderType?(a=""+Et({text:X('You have no blog posts. Get started by adding a "Blog" page.')}),a=W(a)):"noItems"==d.placeholderType&&
(a=""+Et({text:X("You have no blog posts yet. Create one by clicking \u201cAdd blog post.\u201d")}),a=W(a)));return a}}return Ku(e,b)});function Ku(a,b){return a?b():""}wa("wnd.tpl.T.c",Ku);wa("wnd.tpl.T.mL",function(a,b,c){if(!na(a)||Xe(a))return"";z(a,function(a){a.callback=b});l(c)&&null!==c?c.level+=1:c={level:1,active:!1,activePath:!1};c.items=Ve(a);return b(c)});
wa("wnd.tpl.T.mC",function(a,b,c,d,e){switch(b){case "active":return a.active?"wnd-active":"";case "activePath":return a.activePath?"wnd-active-path":"";case "hasChildren":return 0<a.children.length?"wnd-with-submenu":"";case "level":switch(c=Rg(c),d=parseInt(d,10),e){case ">":return a.level>d?c:"";case "<":return a.level<d?c:"";default:return a.level==d?c:""}case "homepage":return a.homepage?"wnd-homepage":"";default:return""}});
function Lu(a){var b="";z(a,function(a,d){b+=Mu(d)+":"+a+";"});return b}function Mu(a){a=a.match(/([A-Z][A-Z0-9]*(?=$|[A-Z][a-z0-9])|[A-Za-z][a-z0-9]+)/g);a=a.map(function(a){return a.toLowerCase()});return a.join("-")}Pe.variants=null;function Nu(a){var b=["default"];l(Pe.variants[a])&&(b=zh(b,Pe.variants[a]));return b}wa("wnd.tpl.T.cI",function(a,b,c){return'<div id="'+Ou(b,c,a["contentElement.attributes"].id)+'"></div>'});
function Ou(a,b,c){return"contentElements_"+a.replace(/\./g,"_")+"_"+c+"_"+b}function Pu(a,b,c){b=b&&!Xe(b)?b:{};b="<"+a+Hu(b);b+=">";c&&(b+=c,b+="</"+a+">");return b}wa("wnd.tpl.T.t",function(a){return l(t.labels[a])?t.labels[a]:""});var Qu={"default":"wnd.pc.Section",master:"wnd.pc.MasterSection",header:"wnd.pc.HeaderSection",footer:"wnd.pc.FooterSection"};
wa("wnd.tpl.T.gc",function(a){switch(a){case "wnd-cms":return"wnd-cms";case "wnd-multilang":return Mh.project_info.isMultilanguage?"wnd-multilang":"";case "wnd-fonts-fallback":return t.isFontsFallbackEnable?"wnd-fonts-fallback":"";default:return""}});var Ru=[],Su={effects:"fx-none fx-blur-light fx-blur-strong fx-grayscale fx-grayscale-dark fx-sepia".split(" "),overlays:[],position:["bgpos-top-center","bgpos-center-center","bgpos-bottom-center"],attachment:["bgatt-scroll","bgatt-parallax","bgatt-fixed"]};
function Tu(a){switch(a){case "effects":return"effect";case "overlays":return"overlay";case "position":return"position";case "attachment":return"attachment";default:return"color"}}function Uu(a){F(Ru,a)||(null!=a.background&&z(Su,function(b,c){if(null!=a.background[c]){var d={};u(b,function(a){d[a]={type:Tu(c),system:!0}});cf(d,a.background[c]);a.background[c]=d}}),Ru.push(a))}Pe.im=Pe.c;Pe.is=Pe.A;Pe.iS=Pe.g;Pe.iM=Pe.h;var Vu=!1,Wu=!1;function Xu(){Wu||(ma(Pe.im)&&Pe.im(),Wu=!0)}var Yu=!1;
function Zu(){Yu||(Xu(),ma(Pe.iS)&&Pe.iS(),Yu=!0)}var $u=!1;function av(){$u||(Xu(),ma(Pe.iM)&&Pe.iM(),$u=!0)}function bv(a,b,c,d){Vu||(Xu(),ma(Pe.is)&&Pe.is(),Zu(),av(),Vu=!0);switch(c){case "section":c=cv(d);null===c?(new Oa("Section #"+d+" does not exist"),d=Pe.styles):d=c.styles;break;case "microTemplate":c=dv(d);null===c?(new Oa("MicroTemplate #"+d+" does not exist"),d=Pe.styles):d=c.styles;break;default:d=Pe.styles}Uu(d);return a?l(d[a])?b?l(d[a][b])?d[a][b]:null:d[a]:null:d}
function ev(){var a=bv("font");return!Xe(a)&&!t.isFontsFallbackEnable}Pe.sections=null;Pe.layouts=null;function fv(){var a;Zu();return(a=l(a)?a:!0)?Oe(function(a){return 1==a.show}):Pe.sections}function cv(a){Zu();return l(Pe.sections[a])?Pe.sections[a]:null}
function gv(a){var b;b=l(b)?b:!0;var c=cv(a);if(b&&!c.showVariants)a=["default"];else{if(b=cv(a)){switch(b.type){case "master":case "footer":case "header":b=b.type;break;default:b="default"}b=l(Qu[b])?Qu[b]:null}else b=null;a=Nu(b+"_"+a)}return a}function hv(a,b,c){return bv(b,c,"section",a)}Pe.microTemplates=null;function dv(a){av();return l(Pe.microTemplates[a])?Pe.microTemplates[a]:null}
function iv(a,b){a:{var c=a;if(ja(c)){if(!Mg(I.j(),c)){a=null;break a}c=I.j().get(c)}a=c}c=null;if(!0===(null!=jv(a))){var d,e=jv(a);d=kv(e);e=e.f.getStyle("colorScheme");d=!0===(null!=d)&&!0===(null!=d[e])?d[e]:null;null!=d&&null!=d[b]&&(c=d[b]);na(c)&&Xe(c)&&(c=null)}null===c&&(d=L.j().get(Ea.PageStyles.dataType).getData("colorScheme"),d=l(Pe.styles.colorScheme[d])?Pe.styles.colorScheme[d]:null,null!=d&&null!=d[b]&&(c=d[b]),na(c)&&Xe(c)&&(c=null));return c}
function lv(a){return l(Pe.layouts[a])?Pe.layouts[a]:null}function mv(a,b,c){return"position"===a?"bgpos-center-center":(b=bv("defaultBackground","defaults",b,c))&&null!=b[a]?b[a]:null}function nv(a,b,c){b=bv("defaultBackground","colorSchemeMap",b,c);if(!ha(b)||D(b))return"";var d;la(a)?d=ov(b,a):d=wh(b,function(a){return a["default"]});return d?d["class"]:null}function ov(a,b){0>b&&(b=0);1<b&&(b=1);var c=1,d=mh(a);u(a,function(a){var g=Math.abs(a.brightness-b);g<c&&(c=g,d=a)});return d}
function pv(a,b,c){b=bv("defaultBackground","colorSchemeMap",b,c);return!ha(b)||D(b)?!1:null!==wh(b,function(b){return b["class"]==a})}function qv(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0);b.dispatchEvent(c)}function rv(){return Ma(Pe.colorSets)};function sv(a,b,c){M.call(this,a,b,c)}n(sv,Lj);function tv(a,b,c){$k.call(this,a,b,c)}n(tv,$k);tv.prototype.v="";tv.prototype.Uc=function(){var a=Vi(this).getData(this.v);return l(a.variant)?a.variant:"default"};tv.prototype.Fl=function(){var a=N(this,"image");return jr(parseInt(a.width,10),parseInt(a.height,10))};function uv(a){a||(a="CreateBlogRecentPostsRequest");Gg.call(this,a);cf(this.data,{variant:"default"})}n(uv,Gg);uv.prototype.getType=function(){return x.CreateBlogRecentPostsServerRequest.type};function vv(a){a||(a="CreateFormFieldRequest");Gg.call(this,a);cf(this.data,{field:null,variant:"default"})}n(vv,Gg);vv.prototype.getType=function(){return x.CreateFormFieldServerRequest.type};function wv(a){a||(a="CreateFormRequest");Gg.call(this,a);cf(this.data,{form:null,variant:"default"})}n(wv,Gg);wv.prototype.getType=function(){return x.CreateFormServerRequest.type};function xv(a){a||(a="CreateSectionRequest");Gg.call(this,a);cf(this.data,{section:null,variant:"default",colorSchemes:[]})}n(xv,Gg);xv.prototype.getType=function(){return x.CreateSectionServerRequest.type};function yv(a,b,c){M.call(this,a,b,c);this.v=this.S=null;this.S=P(this,"showType")}n(yv,Lj);function zv(a,b){var c=Nd.SettingsMenu.settingsItems[b||a.S]||[];Ka(t.visibleRelease,"blog")&&a.yc()||cg(c,"wnd.ps.BlogSettings");return c}yv.prototype.yc=function(){var a=t.page.langId;return null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[a]&&!t.listings.blog[a].removed};function Av(a){null===a.v&&(a.v=zv(a,void 0)[0]);return a.v};var R={setStyle:function(a,b,c){if(ja(b))R.xq(a,c,b);else for(var d in b)R.xq(a,b[d],d)},xq:function(a,b,c){(c=R.Vo(a,c))&&(a.style[c]=b)},Fq:{},Vo:function(a,b){var c=R.Fq[b];if(!c){var d=ih(b),c=d;void 0===a.style[d]&&(d=Pp()+kh(d),void 0!==a.style[d]&&(c=d));R.Fq[b]=c}return c},Et:function(a,b){var c=ih(b);return void 0===a.style[c]&&(c=Pp()+kh(c),void 0!==a.style[c])?(Go?"-webkit":Fo?"-moz":Co?"-ms":Bo?"-o":null)+"-"+b:b},getStyle:function(a,b){var c=a.style[ih(b)];return"undefined"!==typeof c?
c:a.style[R.Vo(a,b)]||""},getComputedStyle:function(a,b){var c=Zo(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""},rj:function(a,b){return a.currentStyle?a.currentStyle[b]:null},dc:function(a,b){return R.getComputedStyle(a,b)||R.rj(a,b)||a.style&&a.style[b]},eC:function(a){return R.dc(a,"boxSizing")||R.dc(a,"MozBoxSizing")||R.dc(a,"WebkitBoxSizing")||null},yl:function(a){return R.dc(a,"position")},getBackgroundColor:function(a){return R.dc(a,
"backgroundColor")},rt:function(a){return R.dc(a,"overflowX")},gC:function(a){return R.dc(a,"overflowY")},Eo:function(a){return R.dc(a,"zIndex")},hC:function(a){return R.dc(a,"textAlign")},fC:function(a){return R.dc(a,"cursor")},st:function(a){var b=R.Et(a,"transform");return R.dc(a,b)||R.dc(a,"transform")},setPosition:function(a,b,c){var d;b instanceof S?(d=b.x,b=b.y):(d=b,b=c);a.style.left=R.Cj(d,!1);a.style.top=R.Cj(b,!1)},getPosition:function(a){return new S(a.offsetLeft,a.offsetTop)},qt:function(a){a=
a?Zo(a):document;return!Co||Qo(9)||Gp(Xo(a))?a.documentElement:a.body},Zb:function(a){var b=a.body;a=a.documentElement;return new S(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)},qj:function(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}Co&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b},zt:function(a){if(Co&&!Qo(8))return a.offsetParent;var b=
Zo(a),c=R.dc(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=R.dc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null},ff:function(a){for(var b=new Ym(0,Infinity,Infinity,0),c=Xo(a),d=c.c.body,e=c.c.documentElement,g=gp(c.c);a=R.zt(a);)if(!(Co&&0==a.clientWidth||Go&&0==a.clientHeight&&
a==d)&&a!=d&&a!=e&&"visible"!=R.dc(a,"overflow")){var h=R.xc(a),k=R.ot(a);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=ep(hp(c.c)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null},zl:function(a,b,c){var d=
b||gp(document),e=R.xc(a),g=R.xc(d),h=R.Rf(d);d==gp(document)?(b=e.x-d.scrollLeft,e=e.y-d.scrollTop,Co&&!Qo(10)&&(b+=h.left,e+=h.top)):(b=e.x-g.x-h.left,e=e.y-g.y-h.top);h=d.clientWidth-a.offsetWidth;a=d.clientHeight-a.offsetHeight;g=d.scrollLeft;d=d.scrollTop;c?(g+=b-h/2,d+=e-a/2):(g+=Math.min(b,Math.max(b-h,0)),d+=Math.min(e,Math.max(e-a,0)));return new S(g,d)},Mx:function(a,b,c){b=b||gp(document);a=R.zl(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y},ot:function(a){return new S(a.clientLeft,a.clientTop)},
xc:function(a){var b=Zo(a),c=new S(0,0),d=R.qt(b);if(a==d)return c;a=R.qj(a);b=Hp(Xo(b));c.x=a.left+b.x;c.y=a.top+b.y;return c},nC:function(a){return R.xc(a).x},oC:function(a){return R.xc(a).y},wt:function(a,b){var c=new S(0,0),d;d=(d=Zo(a))?hp(d):window;if(!Pg(d,"parent"))return c;var e=a;do{var g=d==b?R.xc(e):R.Do(e);c.x+=g.x;c.y+=g.y}while(d&&d!=b&&d!=d.parent&&(e=d.frameElement)&&(d=d.parent));return c},ly:function(a,b,c){if(b.c!=c.c){var d=b.c.body;c=R.wt(d,hp(c.c));c=Sm(c,R.xc(d));!Co||Qo(9)||
Gp(b)||(c=Sm(c,Hp(b)));a.left+=c.x;a.top+=c.y}},Me:function(a,b){var c=R.Kg(a),d=R.Kg(b);return new S(c.x-d.x,c.y-d.y)},Do:function(a){a=R.qj(a);return new S(a.left,a.top)},Kg:function(a){if(1==a.nodeType)return R.Do(a);a=a.changedTouches?a.changedTouches[0]:a;return new S(a.clientX,a.clientY)},EC:function(a,b,c){var d=R.xc(a);b instanceof S&&(c=b.y,b=b.x);R.setPosition(a,a.offsetLeft+(b-d.x),a.offsetTop+(Number(c)-d.y))},setSize:function(a,b,c){if(b instanceof Ce)c=b.height,b=b.width;else if(void 0==
c)throw Error("missing height argument");R.setWidth(a,b);R.setHeight(a,c)},Cj:function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a},setHeight:function(a,b){a.style.height=R.Cj(b,!0)},setWidth:function(a,b){a.style.width=R.Cj(b,!0)},pa:function(a){return R.so(R.Dt,a)},so:function(a,b){if("none"!=R.dc(b,"display"))return a(b);var c=b.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var h=a(b);c.display=d;c.position=g;c.visibility=
e;return h},Dt:function(a){var b=a.offsetWidth,c=a.offsetHeight,d=Go&&!b&&!c;return l(b)&&!d||!a.getBoundingClientRect?new Ce(b,c):(a=R.qj(a),new Ce(a.right-a.left,a.bottom-a.top))},qC:function(a){if(!a.getBoundingClientRect)return null;a=R.so(R.qj,a);return new Ce(a.right-a.left,a.bottom-a.top)},getBounds:function(a){var b=R.xc(a);a=R.pa(a);return new pm(b.x,b.y,a.width,a.height)},LC:function(a){return ih(String(a))},MC:function(a){return jh(a)},getOpacity:function(a){var b=a.style;a="";"opacity"in
b?a=b.opacity:"MozOpacity"in b?a=b.MozOpacity:"filter"in b&&(b=b.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(a=String(b[1]/100));return""==a?a:Number(a)},setOpacity:function(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")},HC:function(a,b){var c=a.style;Co&&!Po("8")?c.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+b+'", sizingMethod="crop")':(c.backgroundImage="url("+b+")",c.backgroundPosition=
"top left",c.backgroundRepeat="no-repeat")},$B:function(a){a=a.style;"filter"in a?a.filter="":a.backgroundImage="none"},IC:function(a,b){R.aa(a,b)},aa:function(a,b){a.style.display=b?"":"none"},Uh:function(a){return"none"!=a.style.display},sC:function(a,b){var c=Xo(b),d=null,e=c.c;Co&&e.createStyleSheet?(d=e.createStyleSheet(),R.yq(d,a)):(e=ap(c.c,"HEAD",void 0,void 0)[0],e||(d=ap(c.c,"BODY",void 0,void 0)[0],e=c.Oh("HEAD"),d.parentNode.insertBefore(e,d)),d=c.Oh("STYLE"),R.yq(d,a),c.appendChild(e,
d));return d},OC:function(a){sp(a.ownerNode||a.owningElement||a)},yq:function(a,b){Co&&l(a.cssText)?a.cssText=b:a.innerHTML=b},FC:function(a){a=a.style;Co&&!Po("8")?(a.whiteSpace="pre",a.wordWrap="break-word"):a.whiteSpace=Fo?"-moz-pre-wrap":"pre-wrap"},DC:function(a){a=a.style;a.position="relative";Co&&!Po("8")?(a.zoom="1",a.display="inline"):a.display="inline-block"},jf:function(a){return"rtl"==R.dc(a,"direction")}};R.Zm=Fo?"MozUserSelect":Go||Do?"WebkitUserSelect":null;
R.tC=function(a){return R.Zm?"none"==a.style[R.Zm].toLowerCase():Co||Bo?"on"==a.getAttribute("unselectable"):!1};R.Qx=function(a){var b=a.getElementsByTagName("*"),c=R.Zm;if(c){var d="none";a.style&&(a.style[c]=d);if(b){a=0;for(var e;e=b[a];a++)e.style&&(e.style[c]=d)}}else if(Co||Bo)if(d="on",a.setAttribute("unselectable",d),b)for(a=0;e=b[a];a++)e.setAttribute("unselectable",d)};R.nt=function(a){return new Ce(a.offsetWidth,a.offsetHeight)};
R.Px=function(a,b){var c=Gp(Xo(Zo(a)));if(!Co||Po("10")||c&&Po("8"))R.tq(a,b,"border-box");else{var d=a.style;if(c){var c=R.cc(a),e=R.Rf(a);d.pixelWidth=b.width-e.left-c.left-c.right-e.right;d.pixelHeight=b.height-e.top-c.top-c.bottom-e.bottom}else d.pixelWidth=b.width,d.pixelHeight=b.height}};
R.iC=function(a){var b=Zo(a),c=Co&&a.currentStyle;if(c&&Gp(Xo(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=R.Ng(a,c.width,"width","pixelWidth"),a=R.Ng(a,c.height,"height","pixelHeight"),new Ce(b,a);c=R.nt(a);b=R.cc(a);a=R.Rf(a);return new Ce(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};
R.CC=function(a,b){var c=Gp(Xo(Zo(a)));if(!Co||Po("10")||c&&Po("8"))R.tq(a,b,"content-box");else{var d=a.style;if(c)d.pixelWidth=b.width,d.pixelHeight=b.height;else{var c=R.cc(a),e=R.Rf(a);d.pixelWidth=b.width+e.left+c.left+c.right+e.right;d.pixelHeight=b.height+e.top+c.top+c.bottom+e.bottom}}};R.tq=function(a,b,c){a=a.style;Fo?a.MozBoxSizing=c:Go?a.WebkitBoxSizing=c:a.boxSizing=c;a.width=Math.max(b.width,0)+"px";a.height=Math.max(b.height,0)+"px"};
R.Ng=function(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],g=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=g;return b};R.xj=function(a,b){var c=R.rj(a,b);return c?R.Ng(a,c,"left","pixelLeft"):0};
R.Ao=function(a,b){if(Co){var c=R.xj(a,b+"Left"),d=R.xj(a,b+"Right"),e=R.xj(a,b+"Top"),g=R.xj(a,b+"Bottom");return new Ym(e,d,g,c)}c=R.getComputedStyle(a,b+"Left");d=R.getComputedStyle(a,b+"Right");e=R.getComputedStyle(a,b+"Top");g=R.getComputedStyle(a,b+"Bottom");return new Ym(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))};R.cc=function(a){return R.Ao(a,"padding")};R.Og=function(a){return R.Ao(a,"margin")};R.jp={thin:2,medium:4,thick:6};
R.wj=function(a,b){if("none"==R.rj(a,b+"Style"))return 0;var c=R.rj(a,b+"Width");return c in R.jp?R.jp[c]:R.Ng(a,c,"left","pixelLeft")};
R.Rf=function(a){if(Co&&!Qo(9)){var b=R.wj(a,"borderLeft"),c=R.wj(a,"borderRight"),d=R.wj(a,"borderTop");a=R.wj(a,"borderBottom");return new Ym(d,c,a,b)}b=R.getComputedStyle(a,"borderLeftWidth");c=R.getComputedStyle(a,"borderRightWidth");d=R.getComputedStyle(a,"borderTopWidth");a=R.getComputedStyle(a,"borderBottomWidth");return new Ym(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};
R.kC=function(a){var b=Zo(a),c="";if(b.body.createTextRange&&Ap(b,a)){b=b.body.createTextRange();b.moveToElementText(a);try{c=b.queryCommandValue("FontName")}catch(d){c=""}}c||(c=R.dc(a,"fontFamily"));a=c.split(",");1<a.length&&(c=a[0]);a:for(a=0;2>a;a++)if(b="\"'".charAt(a),c.charAt(0)==b&&c.charAt(c.length-1)==b){c=c.substring(1,c.length-1);break a}return c};R.iu=/[^\d]+$/;R.yt=function(a){return(a=a.match(R.iu))&&a[0]||null};R.Kr={cm:1,"in":1,mm:1,pc:1,pt:1};R.Lr={em:1,ex:1};
R.lC=function(a){var b=R.dc(a,"fontSize"),c=R.yt(b);if(b&&"px"==c)return parseInt(b,10);if(Co){if(String(c)in R.Kr)return R.Ng(a,b,"left","pixelLeft");if(a.parentNode&&1==a.parentNode.nodeType&&String(c)in R.Lr)return a=a.parentNode,c=R.dc(a,"fontSize"),R.Ng(a,b==c?"1em":b,"left","pixelLeft")}c=ip("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});a.appendChild(c);b=c.offsetHeight;sp(c);return b};
R.yC=function(a){var b={};u(a.split(/\s*;\s*/),function(a){var d=a.match(/\s*([\w-]+)\s*\:(.+)/);d&&(a=d[1],d=Rg(d[2]),b[ih(a.toLowerCase())]=d)});return b};R.NC=function(a){var b=[];z(a,function(a,d){b.push(jh(d),":",a,";")});return b.join("")};R.kk=function(a,b){a.style[Co?"styleFloat":"cssFloat"]=b};R.getFloat=function(a){return a.style[Co?"styleFloat":"cssFloat"]||""};
R.Mh=function(){var a=mp("DIV");a.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";var b=mp("DIV");R.setSize(b,"200px","200px");a.appendChild(b);document.body.appendChild(a);b=a.offsetWidth-a.clientWidth;sp(a);return b};R.Nr=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;R.jC=function(a){a=R.st(a);return a?(a=a.match(R.Nr))?new S(parseFloat(a[1]),parseFloat(a[2])):new S(0,0):new S(0,0)};function Bv(a,b,c){M.call(this,a,b,c)}n(Bv,mm);Bv.prototype.We=function(a,b,c){Bv.l.We.call(this,a,b,c);a=R.Og(a);b=r.DropStripe.stripeSize;switch(this.position){case "right":this.A.x+=a.right-b;this.o.x+=a.right-b;break;case "left":this.A.x-=a.left+b,this.o.x-=a.left+b}};function Cv(){A.call(this);this.h=["borderColor","outlineColor","color"];this.c=[["border","borderColor"],["outline","outlineColor"],["color","color"]]}n(Cv,A);function Dv(a,b){var c=Ev(a,b);if(null===c)return"";var d=[];u(a.c,function(a){null!=c[a[1]]&&d.push(a[0]+"="+c[a[1]])},a);return d.join("&")}function Ev(a,b){if(!yp(b)||"EMBED"!=b.nodeName)return null;var c={};u(a.h,m(a.g,a,b,c),a);return c}
Cv.prototype.g=function(a,b,c){a=R.getComputedStyle(a,c);/rgba\(/.test(a)&&(a=a.replace(/rgba\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3}), .*\)/,"rgb($1, $2, $3)"));a=tm(a);a[0]=Math.max(16,a[0]);a=ym(a[0],a[1],a[2]);var d=new RegExp(eh("#"),"");a=a.replace(d,"");b[c]=a};Cv.prototype.Qe=function(a,b){return b.src!=a?(b.src=a,b.outerHTML=b.outerHTML,!0):!1};R.zh={};R.zh.Bt=function(a){var b=R.jf(a);return b&&Fo?-a.scrollLeft:!b||Eo&&Po("8")||"visible"==R.rt(a)?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft};R.zh.mC=function(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=R.yl(a)||(c=Zo(a).documentElement);if(!c)return b;if(Fo)var d=R.Rf(c),b=b+d.left;else Qo(8)&&!Qo(9)&&(d=R.Rf(c),b-=d.left);return R.jf(c)?c.clientWidth-(b+a.offsetWidth):b};
R.zh.GC=function(a,b){b=Math.max(b,0);R.jf(a)?Fo?a.scrollLeft=-b:Eo&&Po("8")?a.scrollLeft=b:a.scrollLeft=a.scrollWidth-b-a.clientWidth:a.scrollLeft=b};R.zh.setPosition=function(a,b,c,d){null!==c&&(a.style.top=c+"px");d?(a.style.right=b+"px",a.style.left=""):(a.style.left=b+"px",a.style.right="")};function Fv(a,b,c){xr.call(this);this.target=a;this.F=b||a;this.M=c||new pm(NaN,NaN,NaN,NaN);this.m=Zo(a);this.c=new Rq(this);Ud(this,ta(Vd,this.c));this.A=this.g=this.ta=this.P=this.clientY=this.clientX=0;this.h=!1;Vm(this.F,["touchstart","mousedown"],this.Pl,!1,this)}n(Fv,xr);var Gv=ba.document&&ba.document.documentElement&&!!ba.document.documentElement.setCapture;f=Fv.prototype;
f.X=function(){Fv.l.X.call(this);vq(this.F,["touchstart","mousedown"],this.Pl,!1,this);this.c.removeAll();Gv&&this.m.releaseCapture();this.F=this.target=null};
f.Pl=function(a){var b="mousedown"==a.type;if(this.h||b&&(!kq(a)||Go&&Ho&&a.ctrlKey))yr(this,"earlycancel");else if(yr(this,new Hv("start",this,a.clientX,a.clientY))){this.h=!0;b&&a.preventDefault();var b=this.m,c=b.documentElement,d=!Gv;this.c.H(b,["touchmove","mousemove"],this.St,d);this.c.H(b,["touchend","mouseup"],this.Jj,d);Gv?(c.setCapture(!1),this.c.H(c,"losecapture",this.Jj)):this.c.H(b?hp(b):window,"blur",this.Jj);this.v&&this.c.H(this.v,"scroll",this.Xo,d);this.clientX=this.P=a.clientX;
this.clientY=this.ta=a.clientY;this.g=this.target.offsetLeft;this.A=this.target.offsetTop;this.o=Hp(Xo(this.m))}};f.Jj=function(a,b){this.c.removeAll();Gv&&this.m.releaseCapture();this.h?(this.h=!1,yr(this,new Hv("end",this,a.clientX,a.clientY,0,Iv(this,this.g),Jv(this,this.A),b||"touchcancel"==a.type))):yr(this,"earlycancel")};
f.St=function(a){var b=1*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;if(!this.h){var d=this.P-this.clientX,e=this.ta-this.clientY;if(0<d*d+e*e)if(yr(this,new Hv("start",this,a.clientX,a.clientY)))this.h=!0;else{this.ub||this.Jj(a);return}}c=Kv(this,b,c);b=c.x;c=c.y;this.h&&yr(this,new Hv("beforedrag",this,a.clientX,a.clientY,0,b,c))&&(Lv(this,a,b,c),a.preventDefault())};
function Kv(a,b,c){var d=Hp(Xo(a.m));b+=d.x-a.o.x;c+=d.y-a.o.y;a.o=d;a.g+=b;a.A+=c;return new S(Iv(a,a.g),Jv(a,a.A))}f.Xo=function(a){var b=Kv(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Lv(this,a,b.x,b.y)};function Lv(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";yr(a,new Hv("drag",a,b.clientX,b.clientY,0,c,d))}function Iv(a,b){var c=a.M,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}
function Jv(a,b){var c=a.M,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Hv(a,b,c,d,e,g,h,k){Xd.call(this,a);this.clientX=c;this.clientY=d;this.left=l(g)?g:b.g;this.top=l(h)?h:b.A;this.c=!!k}n(Hv,Xd);function Mv(){xr.call(this);this.o=[];this.ha=[];this.M=[];this.ta=this.I=this.D=!1}n(Mv,xr);f=Mv.prototype;f.Qj=function(){return this.ta};f.init=function(){if(!this.ta){for(var a,b=0;a=this.o[b];b++)Nv(this,a);this.ta=!0}};function Nv(a,b){a.D&&(Vm(b.element,"mousedown",b.m,!1,b),a.S&&Dl(b.element,a.S));a.I&&a.G&&Dl(b.element,a.G)}
function Ov(a){for(var b,c=0;b=a.o[c];c++){var d=a;d.D&&(vq(b.element,"mousedown",b.m,!1,b),d.S&&Fl(b.element,d.S));d.I&&d.G&&Fl(b.element,d.G);b.dispose()}a.o.length=0}function Pv(a){a.v=[];for(var b,c=0;b=a.ha[c];c++)for(var d,e=0;d=b.o[e];e++)for(var g=a,h=b,k=[d.element],p=0;p<k.length;p++){var w=k[p],v,C=w;v=R.xc(C);C=R.pa(C);v=new Ym(v.y,v.x+C.width,v.y+C.height,v.x);g.v.push(new Qv(v,h,d,w));Rv(g,v)}a.A||(a.A=new Ym(0,0,0,0))}
f.Wo=function(a){var b=a.c?null:this.m;if(b&&b.g){var c=a.clientX;a=a.clientY;var d=Hp(Xo(this.F)),e=c+d.x,d=a+d.y,g;this.P&&(g=this.P(b.h,b.c,e,d));yr(this,new Sv("drag",0,this.c,0,b.h,0,c,a));yr(b.g,new Sv("drop",0,this.c,0,b.h,0,c,a,0,0,g))}yr(this,new Sv("dragend",0,this.c,0,b?b.h:void 0));vq(this.g,"drag",this.wp,!1,this);vq(this.g,"end",this.Wo,!1,this);vq(Zo(this.c.c).body,"selectstart",this.Gq);for(b=0;c=this.M[b];b++)vq(c.c,"scroll",this.bo,!1,this),c.h=[];this.g.dispose();sp(this.F);delete this.c;
delete this.F;delete this.g;delete this.v;delete this.m};
f.wp=function(a){var b,c=Hp(Xo(this.F));b=new S(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.m;yr(this,new Sv("drag",0,this.c,0,e?e.h:void 0,0,a.clientX,a.clientY));var g;if(e){this.P&&e.g&&(g=this.P(e.h,e.c,c,d));if(e.c.contains(b)&&g==this.T)return;e.g&&(yr(this,new Sv("dragout",0,this.c,0,e.h)),yr(e.g,new Sv("dragout",0,this.c,0,e.h,0,void 0,void 0,0,0,this.T)));this.T=g;this.m=null}if(this.A.contains(b)){a:{for(var h=0;e=this.v[h];h++)if(e.c.contains(b))if(e.A){if(e.A.g.contains(b)){b=e;
break a}}else{b=e;break a}b=null}if((e=this.m=b)&&e.g)this.P&&(g=this.P(e.h,e.c,c,d)),c=new Sv("dragover",0,this.c,0,e.h),c.c=g,yr(this,c),yr(e.g,new Sv("dragover",0,this.c,0,e.h,0,a.clientX,a.clientY,0,0,g));else if(!e){this.h||(this.h=new Qv(this.A.clone()));a=this.h.c;a.top=this.A.top;a.right=this.A.right;a.bottom=this.A.bottom;a.left=this.A.left;for(g=0;e=this.v[g];g++)b=e.c,e.A&&(e=e.A.g,b=new Ym(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,e.bottom),Math.max(b.left,e.left))),
e=null,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===e||null===h||(Math.abs(e-c)>Math.abs(h-d)?h=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==h&&(h<=d?a.top=h:a.bottom=h);this.m=10<=(a.right-a.left)*(a.bottom-a.top)?this.h:null}}};f.Gq=function(){return!1};
f.bo=function(a){for(var b=0,c;c=this.M[b];b++)if(a.target==c.c){var d=c.m-c.c.scrollTop,e=c.A-c.c.scrollLeft;c.m=c.c.scrollTop;c.A=c.c.scrollLeft;this.h&&this.m==this.h&&(0<d?this.h.c.top+=d:this.h.c.bottom+=d,0<e?this.h.c.left+=e:this.h.c.right+=e);for(var g=0,h;h=c.h[g];g++)h=h.c,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,Rv(this,h)}this.g.Xo(a)};
function Rv(a,b){if(1==a.v.length)a.A=new Ym(b.top,b.right,b.bottom,b.left);else{var c=a.A;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}f.X=function(){Mv.l.X.call(this);Ov(this)};function Sv(a,b,c,d,e,g,h,k,p,w,v){Xd.call(this,a);this.Ws=c;this.ro=e;this.clientX=h;this.clientY=k;this.c=v}n(Sv,Xd);
function Tv(a,b){xr.call(this);this.element=Um(a);this.data=b;this.A=null;this.h=new Rq(this);Ud(this,ta(Vd,this.h));this.c=null;if(!this.element)throw Error("Invalid argument");}n(Tv,xr);Tv.prototype.getData=function(){return this.data};Tv.prototype.m=function(a){if(kq(a)&&!(Go&&Ho&&a.ctrlKey)){a.stopPropagation();var b=a.target;b&&(this.h.H(b,"mousemove",this.F,!1).H(b,"mouseout",this.F,!1),this.h.H(Zo(b),"mouseup",this.o,!0),this.c=b,this.g=new S(a.clientX,a.clientY))}};
Tv.prototype.F=function(a){var b=this.c,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.g.x)+Math.abs(a.clientY-this.g.y)||b)if(this.h.removeAll(),b=this.A,!b.c)if(b.c=this,0==yr(b,new Sv("dragstart",0,b.c)))b.c=null;else{var c=this.c;b.F=mp("div");var d=Zo(c);d.body.appendChild(b.F);var e;e=b.F;var g=R.xc(c),c=R.Og(c);g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=g.y+"px";e=new Fv(e);b.g=e;b.g.v=b.R;Vm(b.g,"drag",b.wp,!1,b);Vm(b.g,
"end",b.Wo,!1,b);Vm(d.body,"selectstart",b.Gq);Pv(b);for(e=0;d=b.M[e];e++)d.h=[],d.A=d.c.scrollLeft,d.m=d.c.scrollTop,g=R.xc(d.c),c=R.pa(d.c),d.g=new Ym(g.y,g.x+c.width,g.y+c.height,g.x);for(e=0;c=b.v[e];e++)for(g=0;d=b.M[g];g++)Ap(d.c,c.m)&&(d.h.push(c),c.A=d);b.m=null;for(e=0;d=b.M[e];e++)Vm(d.c,"scroll",b.bo,!1,b);b.g.Pl(a);a.preventDefault()}a.preventDefault()};Tv.prototype.o=function(){this.h.removeAll();delete this.g;this.c=null};
function Qv(a,b,c,d){this.c=a;this.g=b;this.h=c;this.m=d||null;this.A=null};function Uv(a,b){Mv.call(this);var c=new Tv(a,b);c.A=this;this.o.push(c)}n(Uv,Mv);function Vv(){Mv.call(this)}n(Vv,Mv);Vv.prototype.Ka=function(a,b){var c=new Tv(a,b);c.A=this;this.o.push(c);this.Qj()&&Nv(this,c)};function Wv(a,b,c,d,e,g,h){var k,p=c.offsetParent;if(p){var w="HTML"==p.tagName||"BODY"==p.tagName;w&&"static"==R.yl(p)||(k=R.xc(p),w||(k=Sm(k,new S(R.zh.Bt(p),p.scrollTop))))}k=k||new S;p=R.getBounds(a);(w=R.ff(a))&&Zm(p,new pm(w.left,w.top,w.right-w.left,w.bottom-w.top));R.ly(p,Xo(a),Xo(c));a=Xv(a,b);b=p.left;a&4?b+=p.width:a&2&&(b+=p.width/2);b=new S(b,p.top+(a&1?p.height:0));b=Sm(b,k);e&&(b.x+=(a&4?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var v;h&&(v=R.ff(c))&&(v.top-=k.y,v.right-=k.x,v.bottom-=k.y,v.left-=
k.x);e=v;v=b.clone();b=Xv(c,d);d=R.pa(c);a=d.clone();v=v.clone();a=a.clone();k=0;if(g||0!=b)b&4?v.x-=a.width+(g?g.right:0):b&2?v.x-=a.width/2:g&&(v.x+=g.left),b&1?v.y-=a.height+(g?g.bottom:0):g&&(v.y+=g.top);h&&(e?(g=v,b=a,k=0,65==(h&65)&&(g.x<e.left||g.x>=e.right)&&(h&=-2),132==(h&132)&&(g.y<e.top||g.y>=e.bottom)&&(h&=-5),g.x<e.left&&h&1&&(g.x=e.left,k|=1),h&16&&(p=g.x,g.x<e.left&&(g.x=e.left,k|=4),g.x+b.width>e.right&&(b.width=Math.min(e.right-g.x,p+b.width-e.left),b.width=Math.max(b.width,0),k|=
4)),g.x+b.width>e.right&&h&1&&(g.x=Math.max(e.right-b.width,e.left),k|=1),h&2&&(k=k|(g.x<e.left?16:0)|(g.x+b.width>e.right?32:0)),g.y<e.top&&h&4&&(g.y=e.top,k|=2),h&32&&(p=g.y,g.y<e.top&&(g.y=e.top,k|=8),g.y+b.height>e.bottom&&(b.height=Math.min(e.bottom-g.y,p+b.height-e.top),b.height=Math.max(b.height,0),k|=8)),g.y+b.height>e.bottom&&h&4&&(g.y=Math.max(e.bottom-b.height,e.top),k|=2),h&8&&(k=k|(g.y<e.top?64:0)|(g.y+b.height>e.bottom?128:0)),h=k):h=256,k=h);h=new pm(0,0,0,0);h.left=v.x;h.top=v.y;h.width=
a.width;h.height=a.height;k&496||(R.setPosition(c,new S(h.left,h.top)),a=h.pa(),De(d,a)||R.Px(c,a))}function Xv(a,b){return(b&8&&R.jf(a)?b^4:b)&-9};function Yv(a,b,c){this.element=a;this.h=b;this.g=c}n(Yv,Ng);Yv.prototype.c=function(a,b,c){Wv(this.element,this.h,a,b,void 0,c,this.g)};function Zv(a,b){xr.call(this);this.A=a||1;this.g=b||ba;this.m=m(this.o,this);this.F=va()}n(Zv,xr);Zv.prototype.c=!1;Zv.prototype.h=null;Zv.prototype.o=function(){if(this.c){var a=va()-this.F;0<a&&a<.8*this.A?this.h=this.g.setTimeout(this.m,this.A-a):(this.h&&(this.g.clearTimeout(this.h),this.h=null),yr(this,"tick"),this.c&&(this.h=this.g.setTimeout(this.m,this.A),this.F=va()))}};function $v(a){a.c=!0;a.h||(a.h=a.g.setTimeout(a.m,a.A),a.F=va())}
function aw(a){a.c=!1;a.h&&(a.g.clearTimeout(a.h),a.h=null)}Zv.prototype.X=function(){Zv.l.X.call(this);aw(this);delete this.g};function bw(a,b,c){if(ma(a))c&&(a=m(a,c));else if(a&&"function"==typeof a.handleEvent)a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ba.setTimeout(a,b||0)};function cw(a,b,c){Rd.call(this);this.h=a;this.m=b||0;this.g=c;this.A=m(this.F,this)}n(cw,Rd);cw.prototype.c=0;cw.prototype.X=function(){cw.l.X.call(this);dw(this);delete this.h;delete this.g};function ew(a){dw(a);a.c=bw(a.A,l(void 0)?void 0:a.m)}function dw(a){a.Ga()&&ba.clearTimeout(a.c);a.c=0}cw.prototype.Ga=function(){return 0!=this.c};cw.prototype.F=function(){this.c=0;this.h&&this.h.call(this.g)};function fw(){xr.call(this);this.h=new Rq(this);Tp&&(Up?this.h.H(Vp?document.body:window,["online","offline"],this.g):(this.A=Tp?navigator.onLine:!0,this.c=new Zv(gw),this.h.H(this.c,"tick",this.m),$v(this.c)))}n(fw,xr);var gw=250;fw.prototype.m=function(){var a=Tp?navigator.onLine:!0;a!=this.A&&(this.A=a,this.g())};fw.prototype.g=function(){yr(this,(Tp?navigator.onLine:1)?"online":"offline")};
fw.prototype.X=function(){fw.l.X.call(this);this.h.dispose();this.h=null;this.c&&(this.c.dispose(),this.c=null)};var hw={},iw=null;function jw(a){a=oa(a);delete hw[a];Xe(hw)&&iw&&dw(iw)}function kw(){iw||(iw=new cw(function(){lw()},20));var a=iw;a.Ga()||ew(a)}function lw(){var a=va();z(hw,function(b){mw(b,a)});Xe(hw)||kw()};function nw(a,b,c,d){Nr.call(this);if(!ha(a)||!ha(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.A=a;this.P=b;this.o=c;this.F=d;this.c=[];this.h=0}n(nw,Nr);f=nw.prototype;
f.play=function(a){if(a||this.ec==Or)this.h=0,this.c=this.A;else if(1==this.ec)return!1;jw(this);this.g=a=va();-1==this.ec&&(this.g-=this.o*this.h);this.v=this.g+this.o;this.h||this.dg();this.ie("play");-1==this.ec&&this.ie("resume");this.ec=1;var b=oa(this);b in hw||(hw[b]=this);kw();mw(this,a);return!0};function ow(a,b){jw(a);a.ec=Or;b&&(a.h=1);pw(a,a.h);a.ie("stop");a.$g()}f.pause=function(){1==this.ec&&(jw(this),this.ec=-1,this.ie("pause"))};
f.X=function(){this.ec==Or||ow(this,!1);this.ie("destroy");nw.l.X.call(this)};f.destroy=function(){this.dispose()};function mw(a,b){a.h=(b-a.g)/(a.v-a.g);1<=a.h&&(a.h=1);pw(a,a.h);1==a.h?(a.ec=Or,jw(a),a.ie("finish"),a.$g()):1==a.ec&&a.Ol()}function pw(a,b){ma(a.F)&&(b=a.F(b));a.c=Array(a.A.length);for(var c=0;c<a.A.length;c++)a.c[c]=(a.P[c]-a.A[c])*b+a.A[c]}f.Ol=function(){this.ie("animate")};f.ie=function(a){yr(this,new qw(a,this))};
function qw(a,b){Xd.call(this,a);this.c=b.c;this.x=b.c[0];this.y=b.c[1];this.state=b.ec;this.h=b}n(qw,Xd);function rw(a,b,c,d,e){nw.call(this,b,c,d,e);this.element=a}n(rw,nw);f=rw.prototype;f.rf=ca;f.jf=function(){l(this.M)||(this.M=R.jf(this.element));return this.M};f.Ol=function(){this.rf();rw.l.Ol.call(this)};f.$g=function(){this.rf();rw.l.$g.call(this)};f.dg=function(){this.rf();rw.l.dg.call(this)};function sw(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");rw.apply(this,arguments)}n(sw,rw);
sw.prototype.rf=function(){this.element.style.left=Math.round(this.c[0])+"px";this.element.style.top=Math.round(this.c[1])+"px"};function tw(a,b,c,d){sw.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}n(tw,sw);tw.prototype.dg=function(){this.A=[this.element.offsetLeft,this.element.offsetTop];tw.l.dg.call(this)};function uw(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");rw.apply(this,arguments)}n(uw,rw);
uw.prototype.rf=function(){this.element.scrollLeft=Math.round(this.c[0]);this.element.scrollTop=Math.round(this.c[1])};function vw(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");rw.apply(this,arguments)}n(vw,rw);vw.prototype.rf=function(){this.element.style.width=Math.round(this.c[0])+"px";this.element.style.height=Math.round(this.c[1])+"px"};function ww(a,b,c,d,e){rw.call(this,a,[b],[c],d,e)}n(ww,rw);
ww.prototype.rf=function(){this.element.style.height=Math.round(this.c[0])+"px"};function xw(a,b,c,d,e){la(b)&&(b=[b]);la(c)&&(c=[c]);rw.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.m=yw}n(xw,rw);var zw=1/1024,yw=-1;f=xw.prototype;f.rf=function(){var a=this.c[0];Math.abs(a-this.m)>=zw&&(R.setOpacity(this.element,a),this.m=a)};f.dg=function(){this.m=yw;xw.l.dg.call(this)};f.$g=function(){this.m=yw;xw.l.$g.call(this)};
f.show=function(){this.element.style.display=""};f.hide=function(){this.element.style.display="none"};function Aw(a,b,c){xw.call(this,a,1,0,b,c)}n(Aw,xw);function Bw(a,b,c){xw.call(this,a,0,1,b,c)}n(Bw,xw);function Cw(a){xr.call(this);this.headers=new An;this.v=a||null;this.c=!1;this.o=this.sa=null;this.A=this.D="";this.h=this.ta=this.g=this.M=!1;this.F=0;this.m=null;this.P=Dw;this.I=this.S=!1}n(Cw,xr);var Dw="",Ew=/^https?$/i,Fw=["POST","PUT"],Gw=[];function Nk(a,b){var c=new Cw;Gw.push(c);b&&c.H("complete",b);c.L.add("ready",c.ts,!0,void 0,void 0);c.send(a,void 0,void 0,void 0)}f=Cw.prototype;f.ts=function(){this.dispose();cg(Gw,this)};
f.send=function(a,b,c,d){if(this.sa)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);b=b?b.toUpperCase():"GET";this.D=a;this.A="";this.M=!1;this.c=!0;this.sa=this.v?hn(this.v):hn(fn);this.o=this.v?Me(this.v):Me(fn);this.sa.onreadystatechange=m(this.Sp,this);try{this.ta=!0,this.sa.open(b,String(a),!0),this.ta=!1}catch(g){Hw(this,g);return}a=c||"";var e=this.headers.clone();d&&Kn(d,function(a,b){Bn(e,b,a)});d=wh(e.xd(),Iw);c=ba.FormData&&a instanceof ba.FormData;
!F(Fw,b)||d||c||Bn(e,"Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.sa.setRequestHeader(b,a)},this);this.P&&(this.sa.responseType=this.P);We(this.sa,"withCredentials")&&(this.sa.withCredentials=this.S);try{Jw(this),0<this.F&&((this.I=Kw(this.sa))?(this.sa.timeout=this.F,this.sa.ontimeout=m(this.Yo,this)):this.m=bw(this.Yo,this.F,this)),this.g=!0,this.sa.send(a),this.g=!1}catch(g){Hw(this,g)}};
function Kw(a){return Co&&Po(9)&&la(a.timeout)&&l(a.ontimeout)}function Iw(a){return"content-type"==a.toLowerCase()}f.Yo=function(){"undefined"!=typeof aa&&this.sa&&(this.A="Timed out after "+this.F+"ms, aborting",yr(this,"timeout"),this.sa&&this.c&&(this.c=!1,this.h=!0,this.sa.abort(),this.h=!1,yr(this,"complete"),yr(this,"abort"),Lw(this)))};function Hw(a,b){a.c=!1;a.sa&&(a.h=!0,a.sa.abort(),a.h=!1);a.A=b;Mw(a);Lw(a)}function Mw(a){a.M||(a.M=!0,yr(a,"complete"),yr(a,"error"))}
f.X=function(){this.sa&&(this.c&&(this.c=!1,this.h=!0,this.sa.abort(),this.h=!1),Lw(this,!0));Cw.l.X.call(this)};f.Sp=function(){this.ub||(this.ta||this.g||this.h?Nw(this):this.Dw())};f.Dw=function(){Nw(this)};
function Nw(a){if(a.c&&"undefined"!=typeof aa&&(!a.o[1]||4!=Ow(a)||2!=a.getStatus()))if(a.g&&4==Ow(a))bw(a.Sp,0,a);else if(yr(a,"readystatechange"),4==Ow(a)){a.c=!1;try{if(Pw(a))yr(a,"complete"),yr(a,"success");else{var b;try{b=2<Ow(a)?a.sa.statusText:""}catch(c){b=""}a.A=b+" ["+a.getStatus()+"]";Mw(a)}}finally{Lw(a)}}}function Lw(a,b){if(a.sa){Jw(a);var c=a.sa,d=a.o[0]?ca:null;a.sa=null;a.o=null;b||yr(a,"ready");try{c.onreadystatechange=d}catch(e){}}}
function Jw(a){a.sa&&a.I&&(a.sa.ontimeout=null);la(a.m)&&(ba.clearTimeout(a.m),a.m=null)}f.Ga=function(){return!!this.sa};function Pw(a){var b=a.getStatus(),c;if(!(c=Ke(b))){if(b=0===b)a=String(a.D).match(Rn)[1]||null,!a&&ba.self&&ba.self.location&&(a=ba.self.location.protocol,a=a.substr(0,a.length-1)),b=!Ew.test(a?a.toLowerCase():"");c=b}return c}function Ow(a){return a.sa?a.sa.readyState:0}f.getStatus=function(){try{return 2<Ow(this)?this.sa.status:-1}catch(a){return-1}};
function Qk(a){if(a.sa)return Be(a.sa.responseText)}function Pk(a){try{if(!a.sa)return null;if("response"in a.sa)return a.sa.response;switch(a.P){case Dw:case "text":return a.sa.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.sa)return a.sa.mozResponseArrayBuffer}return null}catch(b){return null}};function Qw(a,b,c,d){xr.call(this);this.A=a||document.body;this.h=Xo(this.A);this.xa=!a;this.c=null;this.S="";this.g=[];this.F=[];this.T=this.ta=-1;this.v=!1;this.className="ac-renderer";this.D="ac-row";this.I="ac-active";this.G="ac-highlighted";this.o=b||null;this.wa=null!=d?d:!0;this.ha=!0;this.M=!1;this.qa=!!c;this.P=!1}n(Qw,xr);f=Qw.prototype;f.getElement=function(){return this.c};f.zm=function(a,b,c){this.S=b;this.g=a;this.ta=-1;this.T=va();this.m=c;this.F=[];Rw(this)};
f.he=function(){this.v&&(this.v=!1,Sw(this,!1),R.aa(this.c,!1))};f.show=function(){this.v||(this.v=!0,Sw(this,!0),R.aa(this.c,!0))};function Sw(a,b){a.m&&(Jp(a.m,"haspopup",b),Jp(a.c,"expanded",b),Jp(a.m,"expanded",b),b?Jp(a.m,"owns",a.c.id):(a.m.removeAttribute("aria-owns"),Kp(a.m,null)))}f.Ra=function(){return this.v};
function Tw(a,b){var c=0<=b&&b<a.g.length?a.g[b]:void 0,d=0<=b&&b<a.F.length?a.F[b]:void 0;yr(a,{type:"rowhilite",zC:d,row:c?c.data:null})&&(0<=a.ta&&Gl(a.F[a.ta],[a.I,"active"]),a.ta=b,d&&(El(d,[a.I,"active"]),a.m&&Kp(a.m,d),R.Mx(d,a.c)))}f.Zf=function(a){if(-1==a)Tw(this,-1);else for(var b=0;b<this.g.length;b++)if(this.g[b].id==a){Tw(this,b);break}};
function Uw(a){if(!a.c){var b=a.h.Oh("DIV",{style:"display:none"});a.c=b;El(b,Rg(a.className).split(" "));Ip(b,"listbox");b.id=Qn(Pn.j());a.h.appendChild(a.A,b);Vm(b,"click",a.$o,!1,a);Vm(b,"mousedown",a.fp,!1,a);Vm(b,"mouseover",a.gp,!1,a)}}
function Rw(a){Uw(a);a.P&&(a.c.style.visibility="hidden");a.la&&(a.c.style.minWidth=a.la.clientWidth+"px");a.F.length=0;a.h.Gt(a.c);if(a.o&&a.o.render)a.o.render(a,a.c,a.g,a.S);else{var b=null;u(a.g,function(a){a=Vw(this,a,this.S);this.P?this.c.insertBefore(a,b):this.h.appendChild(this.c,a);b=a},a)}0==a.g.length?a.he():(a.show(),Ww(a),R.Qx(a.c))}function Ww(a){if(a.m&&a.xa){var b=a.R||a.m,c;c=a.qa?5:1;a.P&&(c^=1);Wv(b,c,a.c,c^1,null,null,65);a.P&&(a.c.style.visibility="visible")}}
f.X=function(){this.c&&(vq(this.c,"click",this.$o,!1,this),vq(this.c,"mousedown",this.fp,!1,this),vq(this.c,"mouseover",this.gp,!1,this),this.h.Ht(this.c),this.c=null,this.v=!1);Vd(this.Ca);this.A=null;Qw.l.X.call(this)};
function Xw(a,b,c){if(a.M||!a.ea)if(3==b.nodeType){var d=null;ha(c)&&1<c.length&&!a.M&&(d=Dh(c,1));c=Yw(a,c);if(0!=c.length){var e=b.nodeValue,g=a.ha?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var h=0,k=g.exec(e),p=0;k;)p++,c.push(e.substring(h,k.index)),c.push(e.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(e);c.push(e.substring(h));if(1<c.length){d=a.M?p:1;for(e=0;e<d;e++)g=2*e,b.nodeValue=c[g],h=a.h.createElement("B"),h.className=a.G,a.h.appendChild(h,a.h.c.createTextNode(String(c[g+
1]))),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.h.c.createTextNode(""),h.nextSibling),b=h.nextSibling;b.nodeValue=Dh(c,2*d).join("");a.ea=!0}else d&&Xw(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Xw(a,b,c),b=d}
function Yw(a,b){var c="";if(!b)return c;ha(b)&&(b=qh(b,function(a){return!Qg(null==a?"":String(a))}));a.M?ha(b)?c=rh(b,eh).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=eh(c),c=c.replace(/ /g,"|")):ha(b)?c=0<b.length?eh(b[0]):"":/^\W/.test(b)||(c=eh(b));return c}function Vw(a,b,c){var d=a.h.Oh("DIV",{className:a.D,id:Qn(Pn.j())});Ip(d,"option");a.o&&a.o.mq?a.o.mq(b,c,d):Bp(d,b.data.toString());c&&a.wa&&(a.ea=!1,Xw(a,d,c));Dl(d,a.D);a.F.push(d);return d}
function Zw(a,b){for(;b&&b!=a.c&&!Cl(b,a.D);)b=b.parentNode;return b?nh(a.F,b):-1}f.$o=function(a){var b=Zw(this,a.target);0<=b&&yr(this,{type:"select",row:this.g[b].id});a.stopPropagation()};f.fp=function(a){a.stopPropagation();a.preventDefault()};f.gp=function(a){a=Zw(this,a.target);0<=a&&!(300>va()-this.T)&&yr(this,{type:"hilite",row:this.g[a].id})};function $w(a,b,c){this.R=a;this.h=b;this.c=c}$w.prototype.R=null;$w.prototype.render=function(a,b,c,d){b.style.maxWidth=this.R.clientWidth+"px";Om(c,function(c){c=Vw(a,c,d);b.appendChild(c)},this)};$w.prototype.mq=function(a,b,c){this.c?c.innerHTML=this.c(a,b,c):c.innerHTML=Sg(a.data.toString());a.data.key==this.h()?Dl(c,"wnd-ac-selected"):Fl(c,"wnd-ac-selected");a.data.empty&&Dl(c,"wnd-ac-empty")};function ax(a){xr.call(this);this.g=a||Xo();this.xa=bx;this.T=null;this.qe=!1;this.F=null;this.v=void 0;this.M=this.ha=this.A=null;this.fb=!1}n(ax,xr);ax.prototype.Xa=Pn.j();var bx=null;f=ax.prototype;f.getId=function(){return this.T||(this.T=Qn(this.Xa))};f.Ha=function(a){if(this.A&&this.A.M){Ye(this.A.M,this.T);var b=this.A.M;if(null!==b&&a in b)throw Error('The object already contains the key "'+a+'"');b[a]=this}this.T=a};f.getElement=function(){return this.F};
function cx(a){a.v||(a.v=new Rq(a));return a.v}f.getParent=function(){return this.A};f.mk=function(a){if(this.A&&this.A!=a)throw Error("Method not supported");ax.l.mk.call(this,a)};f.Ph=function(){this.F=this.g.createElement("DIV")};f.render=function(a){if(this.qe)throw Error("Component already rendered");this.F||this.Ph();a?a.insertBefore(this.F,null):this.g.c.body.appendChild(this.F);this.A&&!this.A.qe||this.Qf()};
f.no=function(a){if(this.qe)throw Error("Component already rendered");if(a&&this.Un(a)){this.fb=!0;var b=Zo(a);this.g&&this.g.c==b||(this.g=Xo(a));this.aj(a);this.Qf()}else throw Error("Invalid element to decorate");};f.Un=function(){return!0};f.aj=function(a){this.F=a};f.Qf=function(){this.qe=!0;dx(this,function(a){!a.qe&&a.getElement()&&a.Qf()})};f.Eg=function(){dx(this,function(a){a.qe&&a.Eg()});this.v&&this.v.removeAll();this.qe=!1};
f.X=function(){this.qe&&this.Eg();this.v&&(this.v.dispose(),delete this.v);dx(this,function(a){a.dispose()});!this.fb&&this.F&&sp(this.F);this.A=this.F=this.M=this.ha=null;ax.l.X.call(this)};f.B=function(){return this.F};f.jf=function(){null==this.xa&&(this.xa=R.jf(this.qe?this.F:this.g.c.body));return this.xa};function dx(a,b){a.ha&&u(a.ha,b,void 0)}
f.removeChild=function(a,b){if(a){var c=ja(a)?a:a.getId(),d;this.M&&c?(d=this.M,d=(null!==d&&c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){Ye(this.M,c);cg(this.ha,a);b&&(a.Eg(),a.F&&sp(a.F));c=a;if(null==c)throw Error("Unable to set parent component");c.A=null;ax.l.mk.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};function ex(a){this.c=fx();this.h=a||Xo()}function gx(a,b,c,d){var e=[a.c+"-btn"];d&&e.push(d);d=a.h.createElement("BUTTON");d.className=e.join(" ");d.appendChild(a.h.c.createTextNode(String(c)));b.appendChild(d)};function hx(a,b,c,d){ax.call(this,c);this.o=b||fe;this.gb=this.o.yb;b=fe;fe=this.o;this.W=new Xl("d");new Xl("dd");this.Fb=new Xl("w");this.qa=new Xl(ee.Pr||"y");this.hb=new Xl(ee.Qr||"MMMM y");fe=b;this.Ia=d||new ex(this.g);this.h=new wl(a);this.h.Hh=this.o.xb;this.h.Ie=this.o.wb;this.c=this.h.clone();this.c.c.setDate(1);this.R="      ".split(" ");this.R[this.o.Eb[0]]=fx()+"-wkend-start";this.R[this.o.Eb[1]]=fx()+"-wkend-end";this.I={};this.ta=[]}n(hx,ax);f=hx.prototype;f.Cq=!0;f.$m=new Pm(Qm,Rm);
f.pk=!0;f.Li=!0;f.Rm=!0;f.Sm=!1;f.jj=null;f.ij=null;f.hj=null;f.ks=Pn.j();function fx(){return"goog-date-picker"}function ix(a){R.aa(a.la,a.Rm);R.aa(a.ea,a.Li);R.aa(a.$a,a.Rm||a.Li)}f.fq=function(){this.c.add(new pl(rl,-1));jx(this);kx(this)};f.xp=function(){this.c.add(new pl(rl,1));jx(this);kx(this)};f.yx=function(){this.c.add(new pl(ql,-1));jx(this);kx(this)};f.mu=function(){this.c.add(new pl(ql,1));jx(this);kx(this)};f.rq=function(){var a=new wl;lx(this,a,!0)};
f.qq=function(){this.Li&&lx(this,null,!0)};function lx(a,b,c){var d=b==a.h||b&&a.h&&b.getFullYear()==a.h.getFullYear()&&b.getMonth()==a.h.getMonth(),e=b==a.h||d&&b.getDate()==a.h.getDate();a.h=b&&new wl(b);b&&(b=a.h,a.c.c=new Date(b.getFullYear(),b.getMonth(),b.getDate()),a.c.c.setDate(1));jx(a);c&&yr(a,new mx("select",a));e||yr(a,new mx("change",a));d||kx(a)}
function nx(a){if(a.jj){for(var b=a.jj;b.firstChild;)b.removeChild(b.firstChild);var c=a.Ia,d=a.pk,e=a.o.vb[0].toLowerCase(),g;a.Sm?(e=c.h.createElement("TD"),e.colSpan=d?1:2,gx(c,e,"\u00ab",c.c+"-previousMonth"),b.appendChild(e),e=c.h.createElement("TD"),e.colSpan=d?6:5,e.className=c.c+"-monthyear",b.appendChild(e),e=c.h.createElement("TD"),gx(c,e,"\u00bb",c.c+"-nextMonth"),b.appendChild(e)):(d=c.h.createElement("TD"),d.colSpan=5,gx(c,d,"\u00ab",c.c+"-previousMonth"),gx(c,d,"",c.c+"-month"),gx(c,
d,"\u00bb",c.c+"-nextMonth"),g=c.h.createElement("TD"),g.colSpan=3,gx(c,g,"\u00ab",c.c+"-previousYear"),gx(c,g,"",c.c+"-year"),gx(c,g,"\u00bb",c.c+"-nextYear"),e.indexOf("y")<e.indexOf("m")?(b.appendChild(g),b.appendChild(d)):(b.appendChild(d),b.appendChild(g)));a.Sm?(ox(a,b,fx()+"-previousMonth",a.fq),ox(a,b,fx()+"-nextMonth",a.xp),a.ij=bp(fx()+"-monthyear",b)):(ox(a,b,fx()+"-previousMonth",a.fq),ox(a,b,fx()+"-nextMonth",a.xp),ox(a,b,fx()+"-month",a.Ux),ox(a,b,fx()+"-previousYear",a.yx),ox(a,b,fx()+
"-nextYear",a.mu),ox(a,b,fx()+"-year",a.Xx),a.P=bp(fx()+"-month",b),c=Xo(),b=bp(fx()+"-year",b||c.c),a.G=b)}}function ox(a,b,c,d){b=bp(c,b);cx(a).H(b,"click",function(a){a.preventDefault();d.call(this,a)})}
function px(a){if(a.hj){var b=a.hj;pp(b);var c=a.Ia,d=a.pk,e=c.h.createElement("TD");e.colSpan=d?2:3;e.className=c.c+"-today-cont";gx(c,e,"Today",c.c+"-today-btn");b.appendChild(e);e=c.h.createElement("TD");e.colSpan=d?4:3;b.appendChild(e);e=c.h.createElement("TD");e.colSpan=2;e.className=c.c+"-none-cont";gx(c,e,"None",c.c+"-none-btn");b.appendChild(e);ox(a,b,fx()+"-today-btn",a.rq);ox(a,b,fx()+"-none-btn",a.qq);a.la=bp(fx()+"-today-btn",b);a.ea=bp(fx()+"-none-btn",b);ix(a)}}
f.aj=function(a){hx.l.aj.call(this,a);Dl(a,fx());var b=this.g.createElement("TABLE"),c=this.g.createElement("THEAD"),d=this.g.createElement("TBODY"),e=this.g.createElement("TFOOT");Ip(d,"grid");d.tabIndex="0";this.Ca=d;this.$a=e;var g=this.g.createElement("TR");g.className=fx()+"-head";this.jj=g;nx(this);c.appendChild(g);var h;this.m=[];for(var k=0;7>k;k++){g=this.g.createElement("TR");this.m[k]=[];for(var p=0;8>p;p++)h=this.g.createElement(0==p||0==k?"th":"td"),0!=p&&0!=k||p==k||(h.className=0==
p?fx()+"-week":fx()+"-wday",Ip(h,0==p?"rowheader":"columnheader")),g.appendChild(h),this.m[k][p]=h;d.appendChild(g)}g=this.g.createElement("TR");g.className=fx()+"-foot";this.hj=g;px(this);e.appendChild(g);b.cellSpacing="0";b.cellPadding="0";b.appendChild(c);b.appendChild(d);b.appendChild(e);a.appendChild(b);qx(this);jx(this);a.tabIndex=0};f.Ph=function(){hx.l.Ph.call(this);this.aj(this.getElement())};
f.Qf=function(){hx.l.Qf.call(this);var a=cx(this);a.H(this.Ca,"click",this.Jt);a.H(rx(this,this.getElement()),"key",this.Kt)};f.Eg=function(){hx.l.Eg.call(this);this.Ag();for(var a in this.I)this.I[a].dispose();this.I={}};f.create=hx.prototype.no;f.X=function(){hx.l.X.call(this);this.ea=this.la=this.G=this.ij=this.P=this.hj=this.jj=this.$a=this.Ca=this.m=null};
f.Jt=function(a){if("TD"==a.target.tagName){var b,c=-2,d=-2;for(b=a.target;b;b=b.previousSibling,c++);for(b=a.target.parentNode;b;b=b.previousSibling,d++);a=this.ta[d][c];this.$m.contains(a)&&(a=a.clone(),lx(this,a,!0))}};
f.Kt=function(a){var b,c;switch(a.keyCode){case 33:a.preventDefault();b=-1;break;case 34:a.preventDefault();b=1;break;case 37:a.preventDefault();c=-1;break;case 39:a.preventDefault();c=1;break;case 38:a.preventDefault();c=-7;break;case 40:a.preventDefault();c=7;break;case 36:a.preventDefault(),this.rq();case 46:a.preventDefault();this.qq();break;case 13:case 32:a.preventDefault(),lx(this,this.h,!0);default:return}this.h?(a=this.h.clone(),a.add(new pl(0,b,c))):(a=this.c.clone(),a.c.setDate(1));this.$m.contains(a)&&
lx(this,a,!1)};f.Ux=function(a){a.stopPropagation();a=[];for(var b=0;12>b;b++)a.push(this.o.ob[b]);sx(this,this.P,a,this.Rt,this.o.ob[this.c.getMonth()])};f.Xx=function(a){a.stopPropagation();a=[];for(var b=this.c.getFullYear(),c=this.c.clone(),d=-5;5>=d;d++)c.c.setFullYear(b+d),a.push(this.qa.format(c));sx(this,this.G,a,this.Vt,this.qa.format(this.c))};f.Rt=function(a){a=Number(a.getAttribute("itemIndex"));this.c.c.setMonth(a);jx(this);this.P.focus&&this.P.focus()};
f.Vt=function(a){3==a.firstChild.nodeType&&(a=Number(a.getAttribute("itemIndex")),this.c.c.setFullYear(this.c.getFullYear()+a-5),jx(this));this.G.focus()};
function sx(a,b,c,d,e){a.Ag();var g=a.g.createElement("DIV");g.className=fx()+"-menu";a.S=null;for(var h=a.g.createElement("UL"),k=0;k<c.length;k++){var p=a.g.Oh("LI",null,c[k]);p.setAttribute("itemIndex",k);c[k]==e&&(a.S=p);h.appendChild(p)}g.appendChild(h);g.style.left=b.offsetLeft+b.parentNode.offsetLeft+"px";g.style.top=b.offsetTop+"px";g.style.width=b.clientWidth+"px";a.P.parentNode.appendChild(g);a.D=g;a.S||(a.S=h.firstChild);a.S.className=fx()+"-menu-selected";a.wa=d;b=cx(a);b.H(a.D,"click",
a.cp);b.H(rx(a,a.D),"key",a.ep);b.H(a.g.c,"click",a.Ag);g.tabIndex=0;g.focus()}f.cp=function(a){a.stopPropagation();this.Ag();this.wa&&this.wa(a.target)};
f.ep=function(a){a.stopPropagation();var b,c=this.S;switch(a.keyCode){case 35:a.preventDefault();b=c.parentNode.lastChild;break;case 36:a.preventDefault();b=c.parentNode.firstChild;break;case 38:a.preventDefault();b=c.previousSibling;break;case 40:a.preventDefault();b=c.nextSibling;break;case 13:case 9:case 0:a.preventDefault(),this.Ag(),this.wa(c)}b&&b!=c&&(c.className="",b.className=fx()+"-menu-selected",this.S=b)};
f.Ag=function(){if(this.D){var a=cx(this);a.Bc(this.D,"click",this.cp);a.Bc(rx(this,this.D),"key",this.ep);a.Bc(this.g.c,"click",this.Ag);sp(this.D);delete this.D}};
function jx(a){if(a.getElement()){var b=a.c.clone();b.c.setDate(1);a.ij&&Bp(a.ij,a.hb.format(b));a.P&&Bp(a.P,a.o.ob[b.getMonth()]);a.G&&Bp(a.G,a.qa.format(b));var c=((b.getDay()+6)%7-b.Ie+7)%7;b.add(new pl(rl,-1));b.c.setDate(ol(b.getFullYear(),b.getMonth())-(c-1));c=new pl(sl,1);a.ta=[];for(var d=0;6>d;d++){a.ta[d]=[];for(var e=0;7>e;e++)a.ta[d][e]=b.clone(),b.add(c)}tx(a)}}
function tx(a){if(a.getElement())for(var b=a.c.getMonth(),c=new wl,d=c.getFullYear(),e=c.getMonth(),c=c.getDate(),g=0;6>g;g++){a.pk?(Bp(a.m[g+1][0],a.Fb.format(a.ta[g][0])),a.m[g+1][0].className=fx()+"-week"):(Bp(a.m[g+1][0],""),a.m[g+1][0].className="");for(var h=0;7>h;h++){var k=a.ta[g][h],p=a.m[g+1][h+1];p.id||(p.id=Qn(a.ks));Ip(p,"gridcell");var w=[fx()+"-date"];a.$m.contains(k)||w.push(fx()+"-unavailable-date");if(a.Cq||k.getMonth()==b){k.getMonth()!=b&&w.push(fx()+"-other-month");var v=(h+a.c.Ie+
7)%7;a.R[v]&&w.push(a.R[v]);k.getDate()==c&&k.getMonth()==e&&k.getFullYear()==d&&w.push(fx()+"-today");a.h&&k.getDate()==a.h.getDate()&&k.getMonth()==a.h.getMonth()&&k.getFullYear()==a.h.getFullYear()&&(w.push(fx()+"-selected"),Jp(a.Ca,"activedescendant",p.id));k=a.W.format(k);Bp(p,k)}else Bp(p,"");p.className=w.join(" ")}4<=g&&R.aa(a.m[g+1][0].parentElement||a.m[g+1][0].parentNode,a.ta[g][0].getMonth()==b||!0)}}function kx(a){var b=new mx("changeActiveMonth",a,a.c.clone());yr(a,b)}
function qx(a){if(a.getElement()){for(var b=0;7>b;b++)Bp(a.m[0][b+1],a.gb[((b+a.c.Ie+7)%7+1)%7]);R.aa(a.m[0][0].parentElement||a.m[0][0].parentNode,!0)}}function rx(a,b){var c=oa(b);c in a.I||(a.I[c]=new Er(b));return a.I[c]}function mx(a,b){Xd.call(this,a,b)}n(mx,Xd);function ux(a,b){xr.call(this);this.c=new Rq(this);var c=a||null;vx(this);this.zd=c;b&&(this.Rg=b)}n(ux,xr);f=ux.prototype;f.zd=null;f.Zo=!0;f.pe=null;f.Yg=!1;f.Zl=-1;f.Rg="toggle_display";f.getType=function(){return this.Rg};f.getElement=function(){return this.zd};function vx(a){if(a.Yg)throw Error("Can not change this state of the popup while showing.");}f.Ra=function(){return this.Yg};
function wx(a,b){a.g&&ow(a.g);a.h&&ow(a.h);if(b){if(!a.Yg&&yr(a,"beforeshow")){if(!a.zd)throw Error("Caller must call setElement before trying to show the popup");a.Kj();var c=Zo(a.zd);if(a.Zo)if(a.c.H(c,"mousedown",a.Ip,!0),Co){var d;try{d=c.activeElement}catch(g){}for(;d&&"IFRAME"==d.nodeName;){try{var e=d.contentDocument||d.contentWindow.document}catch(g){break}c=e;d=c.activeElement}a.c.H(c,"mousedown",a.Ip,!0);a.c.H(c,"deactivate",a.Hp)}else a.c.H(c,"blur",a.Hp);"toggle_display"==a.Rg?(a.zd.style.visibility=
"visible",R.aa(a.zd,!0)):"move_offscreen"==a.Rg&&a.Kj();a.Yg=!0;a.Zl=va();a.g?(uq(a.g,"end",a.Wp,!1,a),a.g.play()):a.Wp()}}else xx(a)}f.Kj=ca;function xx(a,b){a.Yg&&yr(a,{type:"beforehide",target:b})&&(a.c&&a.c.removeAll(),a.Yg=!1,va(),a.h?(uq(a.h,"end",ta(a.eo,b),!1,a),a.h.play()):a.eo(b))}f.eo=function(a){"toggle_display"==this.Rg?this.Yt():"move_offscreen"==this.Rg&&(this.zd.style.top="-10000px");yr(this,{type:"hide",target:a})};f.Yt=function(){this.zd.style.visibility="hidden";R.aa(this.zd,!1)};
f.Wp=function(){yr(this,"show")};f.Ip=function(a){a=a.target;Ap(this.zd,a)||yx(this,a)||150>va()-this.Zl||xx(this,a)};f.Hp=function(a){var b=Zo(this.zd);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||Ap(this.zd,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>va()-this.Zl||xx(this)};function yx(a,b){return th(a.pe||[],function(a){return b===a||Ap(a,b)})}f.X=function(){ux.l.X.call(this);this.c.dispose();Vd(this.g);Vd(this.h);delete this.zd;delete this.c;delete this.pe};function zx(a,b){this.A=b||void 0;ux.call(this,a)}n(zx,ux);zx.prototype.getPosition=function(){return this.A||null};zx.prototype.setPosition=function(a){this.A=a||void 0;this.Ra()&&this.Kj()};zx.prototype.Kj=function(){if(this.A){var a=!this.Ra()&&"move_offscreen"!=this.getType(),b=this.getElement();a&&(b.style.visibility="hidden",R.aa(b,!0));this.A.c(b,8,this.m);a&&R.aa(b,!1)}};function Ax(a,b){ax.call(this,b);this.md=a||new hx}n(Ax,ax);f=Ax.prototype;f.md=null;f.zb=null;f.Vj=null;f.Ph=function(){Ax.l.Ph.call(this);this.getElement().className="goog-popupdatepicker";this.zb=new zx(this.getElement());this.zb.mk(this)};f.Ra=function(){return this.zb?this.zb.Ra():!1};f.Qf=function(){Ax.l.Qf.call(this);if(!this.md.qe){var a=this.getElement();a.style.visibility="hidden";R.aa(a,!1);this.md.no(a)}cx(this).H(this.md,"change",this.km).H(this.md,"select",this.lm)};
f.X=function(){Ax.l.X.call(this);this.zb&&(this.zb.dispose(),this.zb=null);this.md.dispose();this.Vj=this.md=null};f.Un=function(){return!1};function Bx(a){wx(a.zb,!1);a.Vj&&a.Vj.focus()}f.lm=function(a){Bx(this);yr(this,a)};f.km=function(a){yr(this,a)};function Cx(a,b){K.call(this);this.g=!1;var c=t.backendLanguage,d=ke;"cz"==c?d=ge:"da"==c?d=he:"de"==c?d=ie:"el"==c?d=je:"en"==c||"en-us"==c?d=ke:"es"==c?d=le:"fi"==c?d=me:"fr"==c?d=ne:"hr"==c?d=oe:"hu"==c?d=pe:"it"==c?d=qe:"ja"==c?d=re:"nl"==c?d=te:"no"==c?d=ue:"pt"==c||"pt-br"==c?d=ve:"ro"==c?d=Ae:"ru"==c?d=we:"sk"==c?d=xe:"sv"==c?d=ye:"uk"==c?d=ze:"lv"==c&&(d=se);this.c=new Ax(new hx(null,d));this.A=!!a;this.h=[];this.m=b?b:Of;this.init()}n(Cx,ii);f=Cx.prototype;
f.init=function(){this.c.render(Dx());Dl(this.c.getElement(),"wnd-base");var a=ip("i",{"class":"wnd-toolbox-arrow top",style:"visibility:visible;left:25px;"});this.c.zb.getElement().appendChild(a);var a=this.c.zb,b=this.A;vx(a);a.Zo=b;a=this.c.md;a.Rm=!1;a.la&&ix(a);a.pk=!1;nx(a);px(a);jx(a);a.Cq=!1;tx(a);a.Sm=!0;nx(a);jx(a);a.Li=!1;a.ea&&ix(a);a.c.Ie=0;jx(a);qx(a);b=F(["ro"],t.backendLanguage);a.gb=b?a.o.Cb:a.o.yb;qx(a);a=new Rq(this);b=this.c.getElement();a.H(b,T,m(this.wA,this));a.H(b,eq,m(this.xA,
this));a.H(this.c,"change",m(this.vA,this))};f.vA=function(){if(!this.g){var a=this.c.md,a=(a.h&&a.h.clone()).toString(),a=t.format[this.m].DATE.mask.replace("%Y",a.substr(0,4)).replace("%m",a.substr(4,2)).replace("%d",a.substr(6,2));this.notify("onChange",a)}};
f.show=function(a,b){var c=new wl;b&&(c=new wl(parseInt(b.substr(0,4),10),parseInt(b.substr(4,2),10)-1,parseInt(b.substr(6,2),10)));this.g=!0;if(a&&!F(this.h,a)){var d=this.c.zb;d.pe||(d.pe=[]);xh(d.pe,a)}lx(this.c.md,c,!0);this.g=!1;c=this.c;c.Vj=a;c.zb.setPosition(new Yv(a,9,197));cx(c).Bc(c.md,"change",c.km).Bc(c.md,"select",c.lm);yr(c,"show");wx(c.zb,!0);c.getElement().focus();cx(c).H(c.md,"change",c.km).H(c.md,"select",c.lm)};
f.hide=function(){this.c.Eg();Bx(this.c);u(this.h,function(a){if(a){var b=this.c.zb;b.pe&&cg(b.pe,a)}},this);this.h=[]};f.wA=function(a){a.stopPropagation()};f.xA=function(a){a.stopPropagation()};f.Ra=function(){return this.c.Ra()};im("Firefox");var Ex=lm()||im("iPod"),Fx=im("iPad");!im("Android")||km()||im("Firefox")||jm()||im("Silk");km();var Gx=im("Safari")&&!(km()||im("Coast")||jm()||im("Edge")||im("Silk")||im("Android"))&&!(lm()||im("iPad")||im("iPod"));function Hx(a,b,c,d){Rd.call(this);d=d||150;this.A=null!=c?c:!0;this.m=a||",;";this.P=this.m.substring(0,1);a=this.A?"[\\s"+this.m+"]+":"[\\s]+";this.M=new RegExp("^"+a+"|"+a+"$","g");this.D=new RegExp("\\s*["+this.m+"]$");this.v=b||"";this.ta=this.A;this.g=0<d?new Zv(d):null;this.h=new Rq(this);this.o=new Rq(this);this.F=new Er;this.L=-1}n(Hx,Rd);var Ix=(Ex||Fx)&&!Po("533.17.9");f=Hx.prototype;f.Pk=null;f.nb=null;f.$l="";f.sf=!1;f.Dm=!1;f.getValue=function(){return this.nb.value};
f.ds=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];yp(c)&&Jp(c,"haspopup",!0);this.h.H(c,"focus",this.ap);this.h.H(c,"blur",this.It);if(!this.nb&&(this.o.H(c,"keydown",this.Zv),yp(c))){var d;a:{var e=Zo(c);try{d=e&&e.activeElement;break a}catch(g){}d=null}d==c&&Jx(this,c)}}};f.X=function(){Hx.l.X.call(this);null!=this.Pk&&window.clearTimeout(this.Pk);this.h.dispose();delete this.h;this.o.dispose();this.F.dispose();Vd(this.g)};
function Kx(a,b){switch(b.keyCode){case 40:if(a.c.c.Ra()){Lx(a.c);b.preventDefault();return}if(!a.A){a.update(!0);b.preventDefault();return}break;case 38:if(a.c.c.Ra()){a:for(var c=a.c,d=c.A,e=0;e<c.g.length;e++){if(d>c.h)d--;else break;if(c.Zf(d))break a}b.preventDefault();return}break;case 9:if(!a.c.c.Ra()||b.m)a.c.he();else if(a.update(),Mx(a.c)&&a.ta){b.preventDefault();return}break;case 13:if(a.c.c.Ra()){if(a.update(),Mx(a.c)){b.preventDefault();b.stopPropagation();return}}else a.c.he();break;
case 27:if(a.c.c.Ra()){a.c.he();b.preventDefault();b.stopPropagation();return}break;case 229:if(!a.sf){a.sf||(a.h.H(a.nb,"keyup",a.Pp),a.h.H(a.nb,"keypress",a.Op),a.sf=!0);return}}Nx(a,b)}function Nx(a,b){var c=a.A&&b.A&&-1!=a.m.indexOf(String.fromCharCode(b.A));c&&a.update();c&&Mx(a.c)&&b.preventDefault()}f.Nt=function(){return!1};f.ap=function(a){Jx(this,a.target||null)};
function Jx(a,b){a.o.removeAll();a.c&&Ox(a.c);b!=a.nb&&(a.nb=b,a.g&&($v(a.g),a.h.H(a.g,"tick",a.Xp)),a.$l=a.getValue(),Fr(a.F,a.nb),a.h.H(a.F,"key",a.Qp),a.h.H(a.nb,"mousedown",a.Jr),Co&&a.h.H(a.nb,"keypress",a.Mp))}f.It=function(){Ix?this.Pk=window.setTimeout(m(this.gq,this),0):this.gq()};
f.gq=function(){this.nb&&(this.h.Bc(this.F,"key",this.Qp),Lr(this.F),this.h.Bc(this.nb,"keyup",this.Nt),this.h.Bc(this.nb,"mousedown",this.Jr),Co&&this.h.Bc(this.nb,"keypress",this.Mp),this.sf&&Px(this),this.nb=null,this.g&&(aw(this.g),this.h.Bc(this.g,"tick",this.Xp)),this.c&&Qx(this.c))};f.Xp=function(){this.update()};f.Zv=function(a){this.ap(a)};f.Qp=function(a){this.L=a.keyCode;this.c&&Kx(this,a)};f.Op=function(){this.sf&&229!=this.L&&Px(this)};
f.Pp=function(a){this.sf&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Px(this)};f.Jr=function(){};function Px(a){a.sf&&(a.sf=!1,a.h.Bc(a.nb,"keypress",a.Op),a.h.Bc(a.nb,"keyup",a.Pp))}f.Mp=function(a){Nx(this,a)};f.update=function(a){if(this.nb&&(a||this.getValue()!=this.$l)){if(a||!this.Dm)a=Rx(this),this.c&&(this.c.M=this.nb,Sx(this.c,a,this.getValue()));this.$l=this.getValue()}this.Dm=!1};
function Rx(a){var b=Lp(a.nb)[0],c=a.getValue(),b=Tx(a,c)[Ux(a,c,b)];return a.M?String(b).replace(a.M,""):b}function Ux(a,b,c){a=Tx(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}
function Tx(a,b){if(!a.A)return[b];for(var c=String(b).split(""),d=[],e=[],g=0,h=!1;g<c.length;g++)a.v&&-1!=a.v.indexOf(c[g])?(h||(d.push(e.join("")),e.length=0),e.push(c[g]),h=!h):h||-1==a.m.indexOf(c[g])?e.push(c[g]):(e.push(c[g]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function Vx(a,b,c,d,e,g){xr.call(this);this.c=new Qw(null,new $w(a,c,d));this.c.la=a;g&&(this.c.ha=!1,this.c.M=!0);this.c.className="wnd-base wnd-ac-renderer";this.c.D="wnd-ac-row";this.c.I="wnd-ac-active";this.c.G="wnd-ac-highlighted";this.o=new Hx(null,null,!1,1);this.o.c=this;this.o.ds(a);!0===e?(this.Dg=new Aa("","\u00a0"),this.Dg.empty=!0):ja(e)&&(this.Dg=new Aa("",e),this.Dg.empty=!0);this.v=b;this.P=a;Vm(this.c,[Wx,Xx,Yx,Zx],this.handleEvent,!1,this);this.m=null;this.g=[];this.A=-1;this.h=
0;this.F=this.M=null;this.ta={}}n(Vx,xr);var Wx="hilite",Xx="select",Zx="dismiss",Yx="canceldismiss";f=Vx.prototype;f.Dg=null;function Sx(a,b,c,d){d=d||!1;if(!1!==d||a.m!=b)yr(a,"suggestionsfind"),a.m=b,a.v.gk(a.m,10,m(a.xB,a,d),c,d),Ox(a)}
f.zm=function(a,b){this.Dg&&""==this.m&&a.unshift(this.Dg);var c="object"==ea(b)&&b,d=(c?c.pC():b)?$x(this,this.A):-1;this.h+=this.g.length;this.g=a;for(var e=[],g=0;g<a.length;++g)e.push({id:this.h+g,data:a[g]});g=null;this.M&&(g=this.ta[oa(this.M)]||this.M);this.c.R=g;this.c.zm(e,this.m,this.M);g=!0;c&&void 0!==c.lt()&&(g=c.lt());this.A=-1;(g||0<=d)&&0!=e.length&&this.m&&(0<=d?this.Zf(this.h+d):Lx(this));yr(this,"suggestionsupdate")};
f.handleEvent=function(a){if(a.target==this.c)switch(a.type){case Wx:this.Zf(a.row);break;case Xx:var b=!1;if(la(a.row)){a=a.row;var c=this.g[$x(this,a)],b=!!c&&l(this.v.g)&&this.v.g(c);c&&!b&&this.A!=a&&this.Zf(a)}b||Mx(this);break;case Yx:Ox(this);break;case Zx:Qx(this)}};function Lx(a){for(var b=a.h+a.g.length-1,c=a.A,d=0;d<a.g.length;d++){if(c>=a.h&&c<b)c++;else if(-1==c)c=a.h;else break;if(a.Zf(c))break}}
f.Zf=function(a){var b=$x(this,a),c=this.g[b];return c&&l(this.v.g)&&this.v.g(c)?!1:(this.A=a,this.c.Zf(a),-1!=b)};
function Mx(a){var b=$x(a,a.A);if(-1!=b){var c=a.g[b],d=a.o;if(d.nb){var e=c.toString();if(l(void 0)?0:d.A){var g=Ux(d,d.getValue(),Lp(d.nb)[0]),h=Tx(d,d.getValue());d.D.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.P);0==g||Qg(h[g-1])||(e=" "+e);g==h.length-1&&(e+=" ");if(e!=h[g]){h[g]=e;e=d.nb;(Fo||Co&&Po("9"))&&e.blur();e.value=h.join("");for(var k=0,p=0;p<=g;p++)k+=h[p].length;e.focus();g=k;h=d.nb;e=g;Mp(h)?h.selectionStart=e:Co&&(k=Np(h),p=k[0],p.inRange(k[1])&&(e=Op(h,e),p.collapse(!0),p.move("character",
e),p.select()));h=d.nb;Mp(h)?h.selectionEnd=g:Co&&(k=Np(h),e=k[1],k[0].inRange(e)&&(g=Op(h,g),h=Op(h,Lp(h)[0]),e.collapse(!0),e.moveEnd("character",g-h),e.select()))}}else d.nb.value=e;d.Dm=!0}a.he();yr(a,{type:"update",row:c,index:b});return!0}a.he();yr(a,{type:"update",row:null,index:null});return!1}f.he=function(){this.A=-1;this.m=null;this.h+=this.g.length;this.g=[];window.clearTimeout(this.F);this.F=null;this.c.he();yr(this,"suggestionsupdate");yr(this,Zx)};
function Qx(a){a.F||(a.F=window.setTimeout(m(a.he,a),100))}f.Ir=function(){return this.F?(window.clearTimeout(this.F),this.F=null,!0):!1};function Ox(a){a.Ir()||window.setTimeout(m(a.Ir,a),10)}f.X=function(){Vx.l.X.call(this);delete this.ta;this.c.dispose();this.o.dispose();this.v=null};f.xB=function(a,b,c,d){!1===a&&this.m!=b||this.zm(c,d)};function $x(a,b){var c=b-a.h;return 0>c||c>=a.g.length?-1:c};var ay=null,by=Fo||Go&&!Gx||Bo||"function"==typeof ba.btoa;function cy(a){if(!ay){ay={};for(var b=0;65>b;b++)ay[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)}for(var b=ay,c=[],d=0;d<a.length;d+=3){var e=a[d],g=d+1<a.length,h=g?a[d+1]:0,k=d+2<a.length,p=k?a[d+2]:0,w=e>>2,e=(e&3)<<4|h>>4,h=(h&15)<<2|p>>6,p=p&63;k||(p=64,g||(h=64));c.push(b[w],b[e],b[h],b[p])}return c.join("")};function dy(){xr.call(this);this.sa=new XMLHttpRequest}n(dy,xr);f=dy.prototype;f.Ga=!1;f.sa=null;f.send=function(a){if(!0===(null===this.sa))throw new Oa("XMLHttpRequest not getting initialized");this.sa.open("POST",a,!0);ey(this);this.sa.ontimeout=this.Dx.bind(this);this.sa.onerror=this.hq.bind(this);this.sa.onreadystatechange=this.fA.bind(this);try{this.sa.send(fy(this))}catch(b){this.hq(this)}this.Ga=!0};
function fy(a){for(var b,c=JSON.stringify(a.ph.getJSON()),d=a.ph.Lc,e=0;e<d.length;e++)if(d[e].getType()==ya.FileUploadServerRequest.type){d=d[e];b=new FormData;b.append("transaction",c);b.append("file",d.h);a.sa.upload.onprogress=a.Cx.bind(a);break}b||(b="transaction="+encodeURIComponent(c),a.sa.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=utf-8"));return b}function ey(a){var b=new An;Bn(b,"Accept","**/*//*");Kn(b,function(a,b){this.sa.setRequestHeader(b,a)},a)}
f.fA=function(){if(1==this.sa.readyState)yr(this,{type:"progress",data:null});else if(4==this.sa.readyState&&!0===Ke(this.sa.status)){this.Ga=!1;var a;try{var b="";a=b=JSON.parse(this.sa.responseText)}catch(c){yr(this,{type:"error",data:null});return}yr(this,{type:"success",data:a})}else 0<this.sa.status&&!1===Ke(this.sa.status)&&yr(this,{type:"error",data:null})};f.Cx=function(a){yr(this,{type:"progress",data:{id:this.ph.getId(),requests:this.ph.Lc,event:a}})};
f.Dx=function(){this.Ga=!1;yr(this,{type:"complete",data:null});yr(this,{type:"timeout",data:null})};f.hq=function(a){this.Ga=!1;yr(this,{type:"complete",data:null});yr(this,{type:"error",data:a})};function gy(a){!1!==a.Ga&&(a.sa.onreadystatechange=ca,a.sa.abort(),a.Ga=!1,yr(a,{type:"complete",data:null}),yr(a,{type:"abort",data:null}))}f.X=function(){gy(this);this.sa=null;this.Ga=!1};var hy=!Co;function iy(a,b,c){hy&&a.dataset?a.dataset[b]=c:a.setAttribute("data-"+jh(b),c)}function jy(a,b){return hy&&a.dataset?b in a.dataset?a.dataset[b]:null:a.getAttribute("data-"+jh(b))}function ky(a,b){return hy&&a.dataset?b in a.dataset:a.hasAttribute?a.hasAttribute("data-"+jh(b)):!!a.getAttribute("data-"+jh(b))};function ly(a,b){K.call(this);this.tg=a;this.f=b;this.f.observe("onUpdate",this.hd,this)}n(ly,K);f=ly.prototype;f.re=!0;f.ac=!1;f.Zk=!0;f.Wg=function(){return this.re};f.render=function(){this.ac&&!this.B()&&this.Of();this.notify("onBeforeRenderContent");this.da();this.notify("onRender");this.Ce();this.notify("onRenderContent")};f.ab=function(){return this.tg};f.B=function(){return this.c};
f.Al=function(){var a={};!0===(null!=P(this.f,"extendCssClass"))&&(!1===na(this.h)?this.h={"class":""}:!0===(null!=this.h["class"])&&(this.h["class"]+=" "),this.h["class"]+=P(this.f,"extendCssClass"));"object"==typeof this.h&&ua(a,this.h);return a};f.Of=function(){var a=this.Al();this.c=ip("div",a);iy(this.B(),Ea.View.contentElementTypeAttr,this.f.ca());if(!this.ab())throw new Oa("Neexistuje baseElement bloku `"+this.f.C()+"`");a=this.B();this.ab().appendChild(a)};
f.X=function(){this.c&&sp(this.c);ly.l.X.call(this)};f.show=function(){this.c&&(R.aa(this.c,!0),this.Zk=!0)};f.hide=function(){this.c&&(R.aa(this.c,!1),this.Zk=!1)};f.Ya=function(){return this.c?R.Uh(this.c):!1};f.hd=function(){0==(!0===this.f.P)&&this.fc()};f.fc=function(){this.B()&&(this.notify("onBeforeRenderContent"),this.da(),this.notify("onRenderContent"))};f.N=function(){return{}};f.Ce=function(){};f.Vg=function(){return this.Zk};function my(a,b){ly.call(this,a,b);this.re=!1;this.m=[]}n(my,ly);function ny(a,b,c){b=Um(b);if(null!=b){var d=!1;l(c)&&"wnd.pc.Section"===c?(c=b.querySelectorAll("img[class~=wnd-video-background]"),d=!0):c=b.getElementsByTagName("IMG");u(c,function(a){a.complete?this.v(a,d):Vm(a,"load",m(this.v,this,a,d))},a)}}
function oy(a,b){var c=null;b&&(c=Um(b));c=$o(q.ImageSizeManager.backgroundClass,c);u(c,function(a){if(null!=a.style.backgroundImage&&!F(this.m,a)){var b=a.style.backgroundImage.slice(4,-1).replace(/"/g,"").replace(/'/g,""),c=new Tn(b),h=py(c,0);c.c=h;c=c.toString();b!=c&&(this.m.push(a),a=m(this.R,this,a),Zq(Tq.j(),c,a))}},a)}my.prototype.R=function(a,b){var c=a.cloneNode(!1);c.style.backgroundImage="url('"+b+"')";rp(c,a);setTimeout(m(this.G,this,c,a),q.ImageSizeManager.replaceTimeout)};
my.prototype.G=function(a,b){cg(this.m,b);for(var c=b.firstChild,d=null;c;)d=c.nextSibling,a.appendChild(c),c=d;sp(b)};
my.prototype.v=function(a,b){var c,d=0;c=a.clientWidth>a.clientHeight?a.clientWidth:a.clientHeight;c<=q.FilesystemPreviewSize.small?d=q.FilesystemPreviewSize.small:c>q.FilesystemPreviewSize.small&&c<=q.FilesystemPreviewSize.normal?d=q.FilesystemPreviewSize.normal:c>q.FilesystemPreviewSize.normal&&c<=q.FilesystemPreviewSize.detail&&(d=q.FilesystemPreviewSize.detail);c=d;var d=new Tn(a.getAttribute("src")),e;e=ky(a,"maxThumbnail")?(new Tn(jy(a,"maxThumbnail"))).c:py(d,c);if(e!=d.c){d.c=e;if(!b&&(a.hasAttribute("width")||
a.hasAttribute("height"))){var g=a.hasAttribute("width")?parseInt(a.getAttribute("width"),10):a.naturalWidth,h=a.hasAttribute("height")?parseInt(a.getAttribute("height"),10):a.naturalHeight;g>h?(e=c,c=Math.round(c/g*h)):e=Math.round(c/h*g);a.hasAttribute("width")&&a.setAttribute("width",e);a.hasAttribute("height")&&a.setAttribute("height",c)}a.setAttribute("src",d.toString())}};
function py(a,b){var c,d=a.c.substr(1).split("/");if(to(a)){c="/"+d[0]+"/";if(2==d.length&&0<b)return c+b+"/"+d[1];if(3==d.length&&b!=d[1])return c+(0<b?b+"/":"")+d[2]}else if(so(a)){for(c=[];"files"!==d[0];)c.push(d[0]),d.shift();c=c.join("/")+"/files/"+d[1]+"/"+d[2]+"/";if(qo(a.c)||4==d.length&&0<b)return c+d[3];if(5==d.length&&b!=d[3])return c+(0<b?b+"/":"")+d[4]}return a.c};function qy(a,b){ly.call(this,a,b);this.re=!1;this.Ve=null;this.Hb=[];this.R=[];this.G="";this.m={vimeo:{},youtube:{}};this.W=new Rq(this)}n(qy,ly);var ry=null,sy=null,ty=!1,uy=!1;function vy(a){for(var b=wy(a),c=0;c<b.length;c++)if("IMG"===b[c].nodeName||"DIV"===b[c].nodeName)if(Xp)xy(b[c]);else if(ky(b[c],"video")&&(yy(a,b[c],zy(b[c])),t.isCms&&null!=b[c])){var d=b[c];d.onended=function(){d.currentTime=0;d.pause()}}}
function xy(a){var b=parseInt(jy(a,"videoWidth"),10),c=parseInt(jy(a,"videoHeight"),10),d=Ay(b,c,a.parentNode.clientWidth,a.parentNode.clientHeight);"DIV"===a.nodeName&&ky(a,"src")?(b=ip("img",{src:jy(a,"src"),"class":d,"data-video-width":b,"data-video-height":c}),tp(b,a)):a.className=d}
function zy(a){a.parentNode&&(a=a.parentNode);for(var b=0,c=0,d=a.offsetWidth,e=a.offsetHeight;a&&a!==document.body;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return.2<Math.max(0,Math.min(d,window.pageXOffset+window.innerWidth-b,b+d-window.pageXOffset))*Math.max(0,Math.min(e,window.pageYOffset+window.innerHeight-c,c+e-window.pageYOffset))/(d*e)}
function Ay(a,b,c,d){var e=q.VideoLoaderManager.className+" ",g=q.VideoLoaderManager.orientationClassName.landscape,h=q.VideoLoaderManager.orientationClassName.portrait;a=parseInt(a,10);b=parseInt(b,10);return e=a>b&&c>d||a<b&&c<d?d<Math.round(c*b/a)?e+g:e+h:c<Math.round(d*a/b)?e+h:e+g}
function yy(a,b,c){if(ky(b,"video")){var d=null,e=jy(b,"video"),g=b.src?b.src:"",h=parseInt(jy(b,"videoWidth"),10),k=parseInt(jy(b,"videoHeight"),10),p=Ay(h,k,b.parentNode.clientWidth,b.parentNode.clientHeight),w=By(b,h,k);-1!=e.indexOf("vimeo.com")?(sy||(c=mp("script"),c.src=q.VideoLoaderManager.videoApi.vimeo,document.head.appendChild(c),sy=c,a.W.H(c,"load",m(a.kx,a))),g={bn:p,ai:w,$f:b,poster:g,width:h,height:k},uy?Cy(a,g):a.R.push(g)):-1!=e.indexOf("youtube.com")?(ry||(c=mp("script"),c.src=q.VideoLoaderManager.videoApi.youtube,
document.head.appendChild(c),ry=c,a.W.H(c,"load",m(a.mx,a))),g={bn:p,ai:w,$f:b,poster:g,width:h,height:k},ty?Dy(a,g):a.Hb.push(g)):(a={src:e,poster:g,"class":p,"data-video-width":h,"data-video-height":k},c&&(a.autoplay=!0),t.isCms||(a.loop=!0),d=ip("video",a));d&&tp(d,b)}}
function Ey(a){!0!==t.isCms&&z(a.m,function(a,c){z(a,function(a,b){var g=null;switch(c){case "vimeo":g=a;break;case "youtube":g=a.getIframe()}if("hidden"!==g.style.visibility)if(null!=g.contentWindow)switch(g=zy(g),c){case "vimeo":g=JSON.stringify({method:g?"play":"pause"});a.contentWindow.postMessage(g,"*");break;case "youtube":g?a.playVideo():a.pauseVideo()}else Ye(this.m[c],b),"youtube"===c&&a.destroy()},this)},a)}
function Fy(a){u(a.Ve,function(a){if(ky(a,"my_videos")){var c=By(a,a.width,a.height);R.setSize(a,c.width+"%",c.height+"%")}},a)}function By(a,b,c){a=R.pa(a.parentNode);b=a.width/b;c=a.height/c;var d=a=100;b<c?a=c/b*100:b>c&&(d=b/c*100);return new Ce(parseFloat(a.toFixed(2)),parseFloat(d.toFixed(2)))}f=qy.prototype;f.kx=function(){uy=!0;u(this.R,function(a){Cy(this,a)},this);this.R=[]};
function Gy(a){if(!a.G){var b=[];z({api:1,autoplay:1,autopause:0,badge:0,title:0,byline:0,portrait:0,loop:!t.isCms},function(a,d){b.push(d+"="+a)},a);a.G=b.join("&")}return a.G}
function Cy(a,b){var c=jy(b.$f,"video"),c=c+"?"+Gy(a),c=ip("iframe",{src:c,width:b.width,height:b.height,"class":b.bn,"data-my_videos":"vimeo"}),d=Math.random().toString(36).substring(7);a.m.vimeo[d]=c;R.setSize(c,b.ai.width+"%",b.ai.height+"%");c.style.visibility="hidden";rp(c,b.$f);a.W.H(c,"load",m(a.gw,a,d,b.$f,ky(b.$f,"videoSound"),Hy(b.$f)))}f.gw=function(a,b,c,d){var e=this.m.vimeo[a];this.m.vimeo[a]&&(e.style.visibility="",sp(b),Iy(e,"setVolume",c?1:0),Iy(e,"seekTo",d))};
function Iy(a,b,c){b=JSON.stringify({method:b,value:c});a.contentWindow.postMessage(b,"*")}f.mx=function(){this.v=window.YT||{};this.v.hasOwnProperty("ready")&&this.v.ready(m(this.lx,this))};f.lx=function(){ty=!0;u(this.Hb,function(a){Dy(this,a)},this);this.Hb=[]};
function Dy(a,b){var c=b.$f,d=jy(c,"video"),d=Sk(d).c.replace("/embed","").substr(1),e={rel:0,autoplay:1,controls:0,showinfo:0,modestbranding:1,iv_load_policy:3,start:Hy(c)};t.isCms||(e.loop=1,e.playlist=d);var g=ip("div",{"data-my_videos":"youtube","class":b.bn});R.setSize(g,b.ai.width+"%",b.ai.height+"%");tp(g,c);var h=d+Math.random().toString(36).substring(7),c=m(a.nx,a,h,ky(c,"videoSound"),Hy(c));a.m.youtube[h]=new a.v.Player(g,{height:b.height,width:b.width,videoId:d,playerVars:e,events:{onReady:c}})}
f.nx=function(a,b,c){a=this.m.youtube[a];b||a.mute();la(c)&&a.seekTo(c,!0)};function Hy(a){var b=0;ky(a,"videoStart")&&(b=(b=jy(a,"videoStart"))?parseInt(b,10):0);return b}function wy(a){a.Ve=document.getElementsByClassName(q.VideoLoaderManager.className);return a.Ve};function Jy(a,b){ly.call(this,a,b);this.ac=!0;this.v=this.m=null}n(Jy,ly);Jy.prototype.Of=function(){this.c=ip("div",{"class":(!0!==P(this.f,"asSibling")?"wnd-base ":"")+"wnd-dd-placeholder"})};
Jy.prototype.da=function(){var a=this.f.getId().replace(/\./g,"");if(!0===(null!=P(this.f,"sourceElement"))){var b=P(this.f,"sourceElement"),a=b.cloneNode(!0);0<b.offsetWidth&&(a.style.width=b.offsetWidth+"px");0<b.offsetHeight&&(a.style.height=b.offsetHeight+"px");a.style.margin="";!0===(null!=P(this.f,"floatElements"))&&ph(P(this.f,"floatElements"),function(a){a=a.cloneNode(!0);this.c.appendChild(a)},this)}else a=gs(Os,{ma:a,text:P(this.f,"text")||""});this.c.appendChild(a);if(!0===yp(b)&&!0===
P(this.f,"asSibling")){var c=Ky(this,b);c&&(this.c.style.backgroundColor=c);R.setOpacity(a,r.DragDropPlaceholder.siblingPlaceholderOpacity);b.parentNode.appendChild(this.c)}else this.ab().appendChild(this.c);this.m=R.getBounds(this.B());!0===(null!=P(this.f,"limitingBlock"))&&(b=R.getBounds(P(this.f,"limitingBlock")),this.v=new Ym(b.top,b.left+b.width,b.top+b.height,b.left))};
function Ky(a,b){var c=[],c=R.getComputedStyle(b,"background-color"),d=b.parentNode;if("transparent"==c)return yp(d)?Ky(a,d):null;if(xm.test(Cm(c))||um(c).length||Qd&&Qd[c.toLowerCase()])c=tm(c);else{try{var e=Dm(c),g=Im(e.Nj,7,9),h=Im(e.Nj,0,7)}catch(k){return new Oa("Error: "+k.message+" Element: "+(b?b.outerHTML:"")),null}if(yp(d)){if("00"===g)return Ky(a,d);c=wm(h)}else return null}return Km(c[0],c[1],c[2],r.DragDropPlaceholder.backgroundOpacity)}
Jy.prototype.setPosition=function(a,b){var c=b,d=a;!0===(null!=this.m)&&!0===P(this.f,"asSibling")&&(c-=this.m.top,d-=this.m.left);var e=P(this.f,"placeholderDrag"),c=c-e.y,d=d-e.x;!0===(null!=this.v)&&!0===(null!=this.m)&&(-1<this.v.top&&-1<this.v.bottom&&(this.m.top+c<this.v.top?c=this.v.top-this.m.top:this.m.top+this.m.height+c>this.v.bottom&&(c=this.v.bottom-this.m.top-this.m.height)),-1<this.v.left&&-1<this.v.right&&(this.m.left+this.m.width+d>this.v.right?d=this.v.right-this.m.left-this.m.width:
this.m.left+d<this.v.left&&(d=this.v.left-this.m.left)));R.setPosition(this.B(),d,c)};function Ly(a,b){ly.call(this,a,b);this.ac=!0;this.h={"class":"wnd-form-item"};this.ce=this.G=this.R=null;this.m=Ts;this.Hb=null}n(Ly,ly);f=Ly.prototype;f.hd=function(a,b,c){"data_updated"==b&&this.getValue()===N(this.f,"value")||Ly.l.hd.call(this,a,b,c)};f.da=function(){null!=this.R&&sp(this.R);this.R=gs(this.m,this.N());this.ei();this.vk();this.B().appendChild(this.R)};f.ei=function(){this.G=this.R.querySelector('[id="'+P(this.f,"id")+'"]')};f.Ta=function(){return this.G};f.getValue=function(){return this.Ta().value};
f.Vc=function(a){this.Ta().value=a};f.sn=function(a){this.Ta().disabled=a};f.Wg=function(){return!!P(this.f,"initRenderFlag")};
f.vk=function(){var a="wnd-form-item";null!=P(this.f,"extendCssClass")&&(a+=" "+P(this.f,"extendCssClass"));this.B().className=a;a=null;switch(P(this.f,"state")){case My:a="wnd-form-item-active";break;case Ny:a="wnd-form-item-error";break;case Oy:a="wnd-form-item-length-notice";break;case Py:a="wnd-form-item-length-warning";break;case dj:a="wnd-form-item-disable"}null!=a&&Dl(this.B(),a)};f.Rk=function(a,b){if(this.G){var c={text:a};b&&(c.sd=b);this.ce=Tr(Us,c);rp(this.ce,this.G)}};
function Qy(a){P(a.f,"tooltip")&&!a.Hb&&(a.Hb=bp("wnd-form-item-tooltip",a.B()));return a.Hb}function Ry(a){var b=Qy(a);z(Ra,function(a){Fl(b,a)},a)}function Sy(){return r.FormItem.tooltip.offset}
f.N=function(){var a={id:P(this.f,"id"),name:P(this.f,"name"),value:N(this.f,"value"),disabled:P(this.f,"state")==dj,label:P(this.f,"label"),qc:!!P(this.f,"hideLabel"),hc:!!P(this.f,"showIcon"),rb:P(this.f,"tooltip"),hint:P(this.f,"hint"),css:P(this.f,"css"),placeholder:P(this.f,"placeholder")},b=P(this.f,"validateArgs");b&&b.max&&(a.maxLength=b.max);return a};function Ty(a,b){Ly.call(this,a,b);this.af=this.L=this.W=this.G=this.v=null}n(Ty,Ly);Ty.prototype.da=function(){null!=this.v&&sp(this.v);this.v=Tr(Zs,this.N());this.G=this.v.querySelector(".wnd-form-ac-control");this.W=this.v.querySelector(".wnd-form-ac-select");this.L=this.v.querySelector(".wnd-form-ac-select input");this.af=this.v.querySelector(".wnd-form-ac-select i");this.L.setAttribute("autocomplete","off");this.B().appendChild(this.v)};
Ty.prototype.N=function(){var a=Ty.l.N.call(this);a.placeholder=P(this.f,"placeholder");a.readOnly=!!P(this.f,"readOnly");return a};function Uy(a,b){Hl(a.W,"wnd-ac-open",b)}function Vy(a,b){Hl(a.W,"wnd-ac-busy",b)}Ty.prototype.sn=function(a){this.L.disabled=a};Ty.prototype.kd=function(){return this.L.value};function Wy(a,b){Ly.call(this,a,b);this.m=Ms}n(Wy,Ly);Wy.prototype.N=function(){var a=Wy.l.N.call(this);a.label=P(this.f,"label");a.type=P(this.f,"type");return a};function Xy(a,b){Ly.call(this,a,b);this.m=$s;this.Ia=null}n(Xy,Ly);f=Xy.prototype;f.da=function(){Xy.l.da.call(this);this.Rd()};f.ei=function(){Xy.l.ei.call(this);this.Ia=bp("wnd-form-item-hint",this.R)};f.N=function(){var a=Xy.l.N.call(this);a.value=Number(a.value);a.checked=P(this.f,"checked");var b=P(this.f,"hint");null!=b&&(a.hint=b);b=P(this.f,"hintByValue");null!=b&&b[a.value]&&(a.hint=b[a.value]);return a};f.getValue=function(){return parseInt(this.Ta().value,10)};
f.Bd=function(){return jj(this.f)?!this.Ta().checked:this.Ta().checked};f.Vc=function(a){Xy.l.Vc.call(this,a);if(null!=this.Ia){var b=P(this.f,"hintByValue");null!=b&&b[a]&&(this.Ia.innerText=b[a])}};f.Rd=function(){var a=null!=N(this.f,"value")?N(this.f,"value"):0;ja(a)&&(a=parseInt(a,10));ka(a)&&(a=a&1);this.Vc(a);this.Ta().checked=jj(this.f)?0===a:1===a};function Yy(a,b){Ly.call(this,a,b);this.m=at}n(Yy,Ly);Yy.prototype.N=function(){var a=Yy.l.N.call(this);a.value&&(a.value=Zy(a.value));return a};Yy.prototype.Vc=function(a){this.Ta().value=Zy(a)};function Zy(a){var b;/[0-9]{14}/.test(a)?(b=new Nf,(a=a.toString())?(a=a.toString(),b=Qf(b,a).replace("%Y",a.substr(0,4)).replace("%m",a.substr(4,2)).replace("%d",a.substr(6,2)).replace("%H",a.substr(8,2)).replace("%M",a.substr(10,2))):b=""):b=a;return b};function $y(a,b){Ly.call(this,a,b);this.m=it}n($y,Ly);function az(a,b){Ly.call(this,a,b);this.m=Lt}n(az,Ly);az.prototype.Vc=function(a){this.Ta().value=null!=a?a:""};function bz(a,b){Ly.call(this,a,b);this.m=au}n(bz,Ly);bz.prototype.N=function(){var a=bz.l.N.call(this),b=P(this.f,"checked");a.checked=ma(b)?b():b;b=P(this.f,"moreInfo");null!=b&&(a.ku={link:b.link,text:b.text});return a};bz.prototype.Bd=function(){return this.Ta().checked};function cz(a,b){Ly.call(this,a,b);this.m=bu}n(cz,Ly);cz.prototype.N=function(){var a=cz.l.N.call(this);a.options=P(this.f,"options");a.className=P(this.f,"className");return a};function dz(a,b){Ly.call(this,a,b);this.m=hu}n(dz,Ly);function ez(a,b){Ly.call(this,a,b);this.m=iu;this.uh=null}n(ez,Ly);ez.prototype.da=function(){ez.l.da.call(this);this.uh=this.B().querySelector("output")};ez.prototype.N=function(){var a=ez.l.N.call(this);a.min=P(this.f,"min");a.max=P(this.f,"max");a.step=P(this.f,"step");return a};function fz(a,b){Ly.call(this,a,b);this.m=Bu;this.v=null}n(fz,Ly);fz.prototype.da=function(){fz.l.da.call(this);this.v=this.B().querySelector(".wnd-form-upload-text")};fz.prototype.Ne=function(){return this.v};function gz(a,b){ly.call(this,a,b);this.v=this.R=this.W=this.G=this.m=null}n(gz,ly);f=gz.prototype;f.hd=function(a,b,c){this.xg();null!=c&&c.hasOwnProperty("private_access")&&Hl(this.B(),P(this.f,"css")["item-locked"],1===N(this.f,"private_access"))};
f.da=function(){var a=this.f.getData(),b=P(this.f,"css"),a=Ml(a.name),c=this.f.C(),d=P(this.f,"css").item;1===N(this.f,"private_access")&&(d+=" "+P(this.f,"css")["item-locked"]);this.c=gs(At,{name:a,id:c,css:d,cssText:b["item-text"],il:b["item-icons"],hl:b["item-drop-top"],Os:b["item-drop-bottom"]});this.W=this.c.querySelector("."+b["item-text"]);this.R=this.c.querySelector("."+b["item-text"]+" u span");this.v=this.c.querySelector("."+b["item-icons"]);this.m=this.c.querySelector("."+b["item-drop-top"]);
this.G=this.c.querySelector("."+b["item-drop-bottom"]);hz(this);iy(this.c,Ea.View.contentElementTypeAttr,this.f.ca());this.ab().appendChild(this.c)};f.Ne=function(){return this.W};f.De=function(a){null!==this.R&&(this.R.innerHTML=Ml(a))};f.Ke=function(){return this.m};f.vj=function(){return this.G};f.setActive=function(a){Hl(this.W,P(this.f,"css")["item-activated"],a)};
f.hh=function(a){if("top"===a)sp(this.m);else if("bottom"===a)sp(this.G);else if("all"===a){a=this.c.querySelectorAll("."+P(this.f,"css")["item-drop-top"]);for(var b=0,c=a.length;b<c;b++)sp(a[b]);a=this.c.querySelectorAll("."+P(this.f,"css")["item-drop-bottom"]);b=0;for(c=a.length;b<c;b++)sp(a[b])}};f.He=function(a){Hl(this.c,P(this.f,"css")["item-dragdrop-activated"],a)};
f.xg=function(){if(null!==this.m){var a=this.f.getData(),b=P(this.f,"firstLevel");a.x>b&&(a=a.x-b,b=R.getBounds(this.c),R.setStyle(this.m,"left",-(25*a)+"px"),R.setStyle(this.m,"width",b.width+25*a+"px"))}};
function hz(a){if(null!==a.v){var b=P(a.f,"css");l(b["icon-without-dd"])&&Hl(a.v,b["icon-without-dd"],!P(a.f,"enbaledDragDrop"));if(l(b["icon-unpublished"])){var c=a.v,b=b["icon-unpublished"];a=a.f;var d=L.j().get("project_info").getData().timeZone,e=new Date,d=new Date((new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())).getTime()+1E3*d.offset);a=[d.getFullYear(),("0"+(d.getMonth()+1)).substr(-2,2),("0"+d.getDate()).substr(-2,2),("0"+d.getHours()).substr(-2,
2),("0"+d.getMinutes()).substr(-2,2),("0"+d.getSeconds()).substr(-2,2)].join("")<N(a,"publish_date");Hl(c,b,a)}}};function iz(a,b){ly.call(this,a,b);this.ac=!0;this.re=!1;this.h={"class":"wnd-loading "+uj(this.f)}}n(iz,ly);iz.prototype.N=function(){var a=iz.l.N.call(this),b=P(this.f,"text");null!=b&&(a.text=b);if(b=P(this.f,"contentSize")){var c="";100<=b&&200>=b?c+="normal":200<b&&(c+="large");b=c}else b="";a.className=b;a.type=uj(this.f);return a};iz.prototype.da=function(){var a=this.N();Qr(this.c,Ft,a);a=P(this.f,"height");l(a)&&R.setHeight(this.c,a);a=P(this.f,"width");l(a)&&R.setWidth(this.c,a)};function jz(a,b){ly.call(this,a,b);this.ac=!0;var c=P(this.f,"type");this.h={"class":r.OverlayArea.className+(c&&r.OverlayArea[c+"ClassName"]?" "+r.OverlayArea[c+"ClassName"]:""),style:"display: none"}}n(jz,ly);jz.prototype.show=function(){R.aa(this.B(),!0)};jz.prototype.da=function(){};jz.prototype.setZIndex=function(a){this.c.style.zIndex=a};function kz(a,b){ly.call(this,a,b);this.re=!1}n(kz,ly);kz.prototype.fc=function(){this.notify("onBeforeRenderContent");this.da();this.notify("onRenderContent")};
kz.prototype.da=function(){var a=this.ab().getContext("2d"),b=r.CropImagePopup.cube.size,c=r.CropImagePopup.line.width,d=this.f.getPosition();a.setLineDash([]);a.fillStyle=this.f.nd?r.CropImagePopup.cube.colorHover:r.CropImagePopup.cube.color;a.fillRect(d.x-b,d.y-b,2*b,2*b);a.lineWidth=c;a.strokeStyle=r.CropImagePopup.line.color;a.strokeRect(d.x-b,d.y-b,2*b,2*b)};function lz(a,b){ly.call(this,a,b)}n(lz,ly);f=lz.prototype;f.da=function(){var a,b;b=mz();P(this.f,"useTempDropStripes")&&0<b?(a=Um("wnd_temp_dropstripe_ddbox_"+b),b=Um("wnd_temp_dropstripe_stripe_"+b),t.tempDropStripesCounter--):b=a=null;a?(this.o=a,this.o.id=this.f.getId()):(this.o=mp("div"),this.o.className="wnd-base wnd-dropstripe-ddbox",this.o.id=this.f.getId(),this.ab().appendChild(this.o));b?(this.m=b,this.m.id=""):(this.m=mp("div"),this.m.className="wnd-base wnd-dropstripe-stripe",this.ab().appendChild(this.m))};
function mz(){if(!t.tempDropStripesCounter){var a=up(Um("wnd_temp_dropstripes_area"));t.tempDropStripesCounter=a.length/2}return t.tempDropStripesCounter}
f.X=function(){P(this.f,"useTempDropStripes")&&mz()?((this.o||this.m)&&t.tempDropStripesCounter++,this.o&&(this.o.id="wnd_temp_dropstripe_ddbox_"+t.tempDropStripesCounter,this.o.removeAttribute("style")),this.m&&(this.m.id="wnd_temp_dropstripe_stripe_"+t.tempDropStripesCounter,this.m.removeAttribute("style"))):(this.o&&this.o.parentNode.removeChild(this.o),this.m&&this.m.parentNode.removeChild(this.m));lz.l.X.call(this)};f.ld=function(){return this.Hi};
f.show=function(){this.m.style.visibility="visible";this.m.style.borderWidth="2px"};f.hide=function(){this.m.style.visibility="hidden";this.m.style.borderWidth="0"};function nz(a,b){ly.call(this,a,b)}n(nz,lz);function oz(a,b){ly.call(this,a,b)}n(oz,ly);oz.prototype.hd=function(){};oz.prototype.da=function(){if(null===P(this.f,"soyTemplate"))throw new Oa("Missing SOY template.");var a=this.f.getData();this.c=gs(P(this.f,"soyTemplate").eu,{name:a.name,id:this.f.C(),css:P(this.f,"css").group});iy(this.c,Ea.View.contentElementTypeAttr,this.f.ca());this.ab().appendChild(this.c)};function pz(a,b){b?a.show():a.hide()};function qz(a,b){ly.call(this,a,b);this.m=this.Hf=this.G=this.R=this.v=null}n(qz,ly);f=qz.prototype;f.hd=function(){this.xg()};
f.da=function(){if(null===P(this.f,"soyTemplate"))throw new Oa("Missing SOY template.");var a=this.f.getData();this.c=gs(P(this.f,"soyTemplate").fu,{name:Ml(a.name),id:this.f.C(),css:this.yn(),cssText:P(this.f,"css")["item-text"],il:P(this.f,"css")["item-icons"],hl:P(this.f,"css")["item-drop-top"]});this.R=this.c.querySelector("."+P(this.f,"css")["item-text"]);this.G=this.c.querySelector("."+P(this.f,"css")["item-text"]+" u span");this.Hf=this.c.querySelector("."+P(this.f,"css")["item-icons"]);this.v=
this.c.querySelector("."+P(this.f,"css")["item-drop-top"]);iy(this.c,Ea.View.contentElementTypeAttr,this.f.ca());this.ab().appendChild(this.c);this.xg()};f.yn=function(){var a=P(this.f,"css").item;P(this.f,"isRoot")&&(a+=" "+P(this.f,"css")["item-root"]);!P(this.f,"isRoot")&&(a+=" "+P(this.f,"css")["item-draggable"]);return a};
f.xg=function(){var a=this.f.getData(),b=P(this.f,"firstLevel");a.x>b&&(a=a.x-b,b=R.getBounds(this.c),R.setStyle(this.v,"left",-(25*a)+"px"),R.setStyle(this.v,"width",b.width+25*a+"px"))};f.Ne=function(){return this.R};f.De=function(a){null!==this.G&&(this.G.innerHTML=Ml(a))};f.Ke=function(){return this.v};f.setActive=function(a){Hl(this.Ne(),P(this.f,"css")["item-activated"],a);null!=this.m&&Hl(this.m,P(this.f,"css")["item-activated"],a)};
function rz(a,b,c){Hl(a.Ne(),P(a.f,"css")["item-descendants"],b);b||(c=!1);Hl(a.Ne(),P(a.f,"css")["item-opened"],c)}f.hh=function(a){if("top"===a)sp(this.v);else if("all"===a){a=this.B().querySelectorAll("."+P(this.f,"css")["item-drop-top"]);for(var b=0,c=a.length;b<c;b++)sp(a[b])}};f.He=function(a){Hl(this.B(),P(this.f,"css")["item-dragdrop-activated"],a)};function sz(a,b,c){zi.call(this,c);this.f=a;this.view=b;this.f.observe("onUpdate",this.Jb,this);this.f.observe("onChangeId",this.$j,this);this.view.observe("onRender",this.ka,this);this.view.observe("onBeforeRenderContent",this.cg,this);this.view.observe("onRenderContent",this.Ua,this);Zi(this.f)&&this.mf();this.B()&&!1===this.view.Wg()&&this.O()}n(sz,zi);f=sz.prototype;f.f=null;f.view=null;f.Sc=function(a,b){this.f.update(a,b)};f.ab=function(){return this.view.ab()};f.B=function(){return this.view.B()};
f.Ha=function(a){this.f.Ha(a)};f.getId=function(){return this.f.getId()};f.J=function(){return this.f.J()};f.Jb=function(a,b,c,d){this.J()!=Ea.mvc.DataType&&d&&(a=new yg("dataUpdate","parent_propagation",this.J(),this,this.getId()),c&&(a.A=c),this.ba(a))};f.$j=function(){};f.mf=function(){if(this.J()!=Ea.mvc.DataType){var a=new yg("dataCreate","parent_propagation",this.J(),this,this.getId());this.ba(a)}};f.ka=function(){this.notify("onViewRender")};f.show=function(){this.B()?this.view.show():this.view.render()};
f.hide=function(){this.view.hide();return!0};f.Ya=function(){return this.view.Ya()};f.X=function(){this.f.dispose();this.view.dispose();var a=I.j(),b=this.C();delete a.h[b];a.notify("onDisposeMVC",b);this.J()!==Ea.mvc.DataType&&(a=new yg("dataDelete","parent_propagation",this.J(),this,this.getId()),this.ba(a));sz.l.X.call(this)};f.ca=function(){return this.f.ca()};f.C=function(){return this.f.C()};function tz(a){return ag.j().get(a.f.ft)}f.iq=function(a){a.call(this);clearTimeout(this.P);this.P=0};
f.cg=function(){this.Za()};function uz(a,b){a.bd&&clearTimeout(a.bd);a.bd=setTimeout(b,100)}f.Ua=function(){this.O()};f.O=function(){this.c=new Rq(this)};f.Za=function(){this.c&&this.c.removeAll()};f.Vg=function(){return this.view.Vg()};f.ra=function(a){this.f.ra(a);return!0};function vz(a,b,c){sz.call(this,a,b,c);this.v=this.G=!1;this.o=new Er;this.D=null;this.xa=["validateEmail","validateGoogleAnalytics"]}n(vz,sz);var My="activeItem",dj="disableItem",Ny="errorItem",Oy="lengthNoticeItem",Py="lengthWARNINGItem";f=vz.prototype;f.Ta=function(){return this.view.Ta()};f.Rk=function(a,b){this.view.Rk(a,b)};f.getValue=function(){return this.view.getValue()};f.Lh=function(){return this.getValue()};f.getName=function(){return P(this.f,"name")};
function wz(a){return P(a.f,"state")}f.setState=function(a){wz(this)===dj&&a!==dj&&this.view.sn(!1);O(this.f,"state",a);a==dj?this.oi():this.view.vk();this.notify("onChangeState",a)};f.lc=function(a,b,c){Wi(this.f,a,b);wz(this)!==dj&&(c&&this.focus(!0),this.setState("defaultItem"));this.notify("onSetValue",this)};f.ka=function(a){vz.l.ka.call(this,a);this.v=!0};f.Ua=function(a){vz.l.Ua.call(this,a);a=P(this.f,"display");ma(a)&&(a=a());ka(a)&&(a?this.show():this.hide())};
f.hide=function(){this.reset();return vz.l.hide.call(this)};f.O=function(){vz.l.O.call(this);this.c.H(this.Ta(),"change",m(this.tf,this));this.c.H(this.Ta(),T,m(this.uf,this));this.c.H(this.Ta(),"focus",m(this.Hv,this));this.c.H(this.Ta(),"blur",m(this.hm,this));var a=Qy(this.view);a&&this.c.H(a,"mouseover",m(this.ow,this));Fr(this.o,this.Ta());this.c.H(this.o,"key",m(this.Fk,this))};
f.Fk=function(a){this.notify("onKey",this);a=m(this.rn,this,a,this.getValue());F(this.xa,P(this.f,"validateType"))?(xz(this),this.D=setTimeout(a,r.FormItem.validationDelay)):requestAnimationFrame(a)};f.rn=function(a,b){xz(this);(N(this.f,"value")||b||this.getValue())&&yz(this)};function yz(a){a.Wh()?Ny===wz(a)&&a.setState("defaultItem"):a.setState(Ny)}function xz(a){null!==a.D&&(clearTimeout(a.D),a.D=null)}
f.ow=function(){var a=this.view;if(Qy(a)){var b=Qy(a);Ry(a);var c=Sy(),d=a="",e=vp(b),a=R.getBounds(b),g=R.pa(e),e=R.ff(e),h=a.top+a.height+c+g.height;if(!(e.bottom>h)){if(e.bottom<h&&e.top<a.top-(c+g.height))a="top";else{var d=Sy(),h=h=c=null,k=Sy();e.top<a.top+a.height+k-g.height?h="top":e.bottom>a.top-k+g.height&&(h="bottom");h&&(e.right>a.left+a.width+d+g.width?c="right":e.left<a.left-(d+g.width)&&(c="left"));d=c;a=h}d&&Dl(b,d);a&&Dl(b,a)}}};
f.Za=function(){vz.l.Za.call(this);null!==this.Ta()&&(this.c.removeAll(),Lr(this.o))};f.X=function(){vz.l.X.call(this);this.o.dispose()};f.tf=function(a){l(a)&&a.stopPropagation();zz(this)?(this.ee(),this.notify("onChange",this)):l(a)&&a.preventDefault()};f.uf=function(a){zz(this)?this.notify("onClick",this):(a.stopPropagation(),a.preventDefault())};f.Hv=function(){this.Zr();this.notify("onFocus",this)};f.hm=function(){wz(this)!=Ny&&this.setState("defaultItem");this.notify("onBlur",this)};
function Az(a){return N(a.f,"value")!==a.getValue()}f.isEmpty=function(){return Qg(this.getValue())};function Bz(a){return Az(a)&&!(fa(N(a.f,"value"))&&a.isEmpty())}function Cz(a){Wi(a.f,"value",a.getValue());a.notify("onSaveDataValue",a)}f.ee=function(){Bz(this)&&Dz(this)&&(Cz(this),this.ib()&&Ez(this.ib())&&this.ib().ra()&&null!=this.Ta()&&"INPUT"===this.Ta().nodeName&&this.Ta().blur())};f.Zr=function(){wz(this)!=Ny&&this.setState(My)};
f.ib=function(){if(this.getParent()instanceof Fz)return this.getParent();if(this.getParent()instanceof Gz)return this.getParent().ib()};f.focus=function(a,b){b?requestAnimationFrame(m(this.focus,this,a,!1)):(a&&this.Ta().select(),this.Ta().focus())};f.Wl=function(){return!1};f.Xd=function(){var a=P(this.f,"required");return ma(a)?a():a};
f.Wh=function(){var a=!0;this.Xd()&&(a=!this.isEmpty());if(null!=P(this.f,"validateType")&&(null===P(this.f,"validatorDisabled")||!P(this.f,"validatorDisabled"))&&a&&!this.isEmpty()){var b=P(this.f,"validateType"),b=fg.j().get(b),c=P(this.f,"validateArgs");b.c(this.getValue(),P(this.f,"label"),c)||(a=b.h)}return a};f.oi=function(){this.view.fc()};f.Ul=function(){var a=!0,b=P(this.f,"isAccessible");null===b||(a=ma(b)?!!b():!!b);return a};
function zz(a){var b=a.Ul();a.notify("onCheckAccess",a,b);return b}function Dz(a){return null===P(a.f,"disableAutosave")||!P(a.f,"disableAutosave")}f.reset=function(){Az(this)&&(this.view.Vc(N(this.f,"value")),this.setState("defaultItem"),this.notify("onReset",this))};function I(){K.call(this);this.c={};this.h={}}n(I,K);da(I);I.prototype.register=function(a,b,c,d){if("undefined"==typeof this.c[a])this.c[a]={Model:b,View:c,Controller:d};else throw new Oa("MVC triad `"+a+"` already registered");};
I.prototype.create=function(a,b,c,d,e){if("undefined"==typeof this.c[b])throw new Oa("MVC triad `"+b+"` hasn't been registered");if("undefined"!=typeof this.h[a])throw new Oa("MVC triad `"+a+"` was already instancied");e=new this.c[b].Model(a,b,e);c=new this.c[b].View(c,e);b=new this.c[b].Controller(e,c,d);this.h[a]={Model:e,View:c,Controller:b};c.Wg()&&c.render();this.notify("onCreateMVC",b);return b};
I.prototype.get=function(a){if("undefined"==typeof this.h[a])throw new Oa("MVC triad `"+a+"` hasn't been instancied");return this.h[a].Controller};function Mg(a,b){return"object"===typeof a.h[b]}function Yi(a,b,c){var d={};"undefined"!=typeof Hz[b]&&(d=af(Hz[b]),c&&gf(d,m(a.g,a),c),Iz(d));d.type=b;return d}I.prototype.g=function(a,b,c){var d=a[b];"undefined"!=typeof c[d]&&(a[b]=c[d])};
function Iz(a){na(a.refs)&&ha(a.refDataTypes)&&(z(a.refs,function(b,c){-1===a.refDataTypes.indexOf(c)&&delete a.refs[c]}),Xe(a.refs)&&delete a.refs,delete a.refDataTypes)};function Jz(a,b,c){sz.call(this,a,b,c);this.ha()}n(Jz,sz);Jz.prototype.na=function(a){switch(a.getType()){case "contentMove":case "photoGalleryChange":a.c&&Kz(a.c.ca())&&ny(this.view,a.c.getId());break;case "resizeWindow":this.ha();break;case "sectionCreated":case "microTemplateCellCreated":a.c&&ny(this.view,a.c.getId());break;case "sectionBackgroundChange":a.c&&oy(this.view,a.c.getId());break;case "pageBackgroundChange":oy(this.view)}};
Jz.prototype.Y=function(a){if(a.c&&"content_items"==a.J())switch(a.getType()){case "dataCreate":this.Ka(a.c.getId(),a.c.ca());break;case "dataDelete":var b=a.c.getId();Kz(a.c.ca())&&bj()["delete"](b);break;case "dataUpdate":Kz(a.c.ca())&&ny(this.view,a.c.getId())}};Jz.prototype.ha=function(){var a=aj().getData();null!=a&&z(a,function(a){Kz(a.type)&&ny(this.view,a.id,a.type)},this);oy(this.view)};Jz.prototype.Ka=function(a,b){Kz(b)&&bj().create({id:a,type:b})};
function Kz(a){return F(q.ImageSizeManager.allowTypes,a)}I.j().register("wnd.static.ImageSizeManager",$i,my,Jz);function Lz(a,b,c){sz.call(this,a,b,c);this.ha()}n(Lz,sz);Lz.prototype.ha=function(){vy(this.view)};
Lz.prototype.na=function(a){if("scrollWindow"==a.getType()||"resizeWindow"==a.getType()){for(var b=this.view.Ve,c=0;c<b.length;c++)!1===t.isCms&&"VIDEO"===b[c].nodeName&&(zy(b[c])?b[c].paused&&b[c].play():b[c].paused||b[c].pause()),b[c].className=Ay(parseInt(jy(b[c],"videoWidth"),10),parseInt(jy(b[c],"videoHeight"),10),b[c].parentNode.clientWidth,b[c].parentNode.clientHeight);Ey(this.view)}"resizeWindow"!=a.getType()&&"contentChangeFinished"!=a.getType()||Fy(this.view)};
I.j().register("wnd.static.VideoLoaderManager",M,qy,Lz);function Mz(a,b,c){sz.call(this,a,b,c)}n(Mz,sz);Mz.prototype.setPosition=function(a,b){this.view.setPosition(a,b)};Mz.prototype.getPosition=function(){return R.xc(this.view.B())};I.j().register("wnd.ui.DragDropPlaceholder",M,Jy,Mz);function Nz(){K.call(this);this.L=new Vv;this.wc=new Xm;this.Fb=m(this.zi,this);this.S=null;this.Xa=[];this.T=!0;this.v={pageX:null,pageY:null};this.qa={};this.F=null;this.h=new Zv(20);this.o=null;this.bd=m(this.je,this);this.Hc=m(this.Ge,this);this.Qc=m(this.Bg,this);this.yc=m(this.ej,this);this.cd=m(this.Ae,this);this.xa=null;this.Gb=this.W=this.Na=0;Oz(this)}n(Nz,K);var Pz=null,Qz=!1;f=Nz.prototype;
f.init=function(){this.L.init();null===this.o&&(this.o=new Rq(this));Wp||(this.o.H(this.L,"dragstart",this.bd),this.o.H(this.L,"dragend",this.Hc),this.xa=new Er(document.body),this.o.H(this.xa,"key",m(this.yA,this)));this.o.H(this.h,"tick",m(this.sm,this));var a=R.getBounds(document.body);this.Na=a.top;this.W=a.width;this.Gb=a.height};f.yA=function(a){if(null!=Pz&&this===Pz){switch(a.keyCode){case 27:a.stopPropagation(),this.Ge(a),this.reset(),this.init()}this.notify("onKeyEvent",a)}};
f.Ka=function(a,b){this.L.Ka(a);if(Wp){var c=this.wc;c.h.add(a,this,c.c)}b&&(c=oa(b).toString(),ky(a,r.DragDrop.draggableElRefObjectAttr)||iy(a,r.DragDrop.draggableElRefObjectAttr,c),l(this.qa[c])||(this.qa[c]=b))};function Rz(a,b){var c=new Uv(b);null===a.o&&(a.o=new Rq(a));var d=a.L;d.ha.push(c);c.I=!0;d.D=!0;Wp||(a.Xa.push(c),a.o.H(c,"dragover",a.Qc),a.o.H(c,"dragout",a.yc),a.o.H(c,"drop",a.cd));Wp&&a.wc.c.add(b)}f.Ae=function(){this.h.c&&aw(this.h)};f.Bg=function(){};f.ej=function(){};
f.je=function(a){Pz||Qz||(Pz=this,Vm(document.body,hq,this.Fb),this.notify("onDragstart",Sz(this,a)))};f.Ge=function(a){Pz=null;vq(document.body,hq,this.Fb);Tz(this);Oz(this);this.notify("onDragend",Sz(this,a))};
f.zi=function(a){var b=a.c;this.Vi(b.pageX,b.pageY);Wm(this,b);null===this.v.pageX&&null===this.v.pageY?this.v={pageX:b.pageX,pageY:b.pageY}:this.hb={Qa:{va:this.v.pageX>b.pageX?"left":"right",difference:this.v.pageX>b.pageX?this.v.pageX-b.pageX:b.pageX-this.v.pageX},lb:{va:this.v.pageY>b.pageY?"top":"down",difference:this.v.pageY>b.pageY?this.v.pageY-b.pageY:b.pageY-this.v.pageY},page:{x:b.pageX,y:b.pageY}};this.notify("onMouseMove",Sz(this,a))};
function Sz(a,b){if(ja(b.uo)||"key"===b.type)return b;var c;b.constructor==Sv?c={uo:b.type,Bb:b.Ws.element,ji:"object"===typeof b.ro?b.ro.element:null,Ps:new S(b.clientX,b.clientY),tc:null}:c={uo:b.type,Bb:b.currentTarget||b.target,ji:"object"===typeof b.rk?b.rk:null,Ps:new S(b.clientX,b.clientY),tc:null};var d;if(d=(d=jy(c.Bb,r.DragDrop.draggableElRefObjectAttr))?a.qa[d]:null)c.tc=d;return c}
f.reset=function(){Wp||(this.Xa=[]);this.qa={};Ov(this.L);this.L.ha=[];this.xa&&(this.xa.dispose(),this.xa=null);this.o&&(this.o.dispose(),this.o=null);this.h.c&&aw(this.h)};f.X=function(){this.reset();Nz.l.X.call(this)};
function Uz(a,b){if(a.T){b=b||{};null!=b.blockType||(b.blockType="general");var c="ddPlaceholder"+(b.blockType?b.blockType:"");if(null==a.S&&!Mg(I.j(),c)){if(b.realGrip&&null!=a.F&&l(b.sourceElement)){var d=R.xc(b.sourceElement),e=R.Zb(document);b.placeholderDrag=new S(parseInt(a.F.x-d.x+e.x,10),parseInt(a.F.y-d.y+e.y,10))}else b.placeholderDrag=new S(25,20);d=b;a.S=I.j().create(c,a.Qo(),document.body,null,{id:d.blockType,properties:d})}}}f.Qo=function(){return"wnd.ui.DragDropPlaceholder"};
function Wm(a,b){a.T&&null!==a.S&&a.S.setPosition(b.pageX,b.pageY)}function Tz(a){a.T&&null!==a.S&&(a.S.dispose(),a.S=null)}f.Yc=function(){return this.hb};function Oz(a){a.v={pageX:null,pageY:null};a.hb={Qa:{va:null,difference:0},lb:{va:null,difference:0},page:{x:0,y:0}}}
f.Vi=function(a,b){var c=R.Zb(document),d=c.x,c=c.y,e=window.innerWidth,g=window.innerHeight,h=r.DragDrop.scrollSensitivity;this.m=this.R=0;this.$a=a;this.fb=b;this.Yc().lb.difference>r.DragDrop.scrollOffset&&(b<this.Na+c+h?this.m=-r.DragDrop.scrollAmount:b>g+c-h&&(this.m=r.DragDrop.scrollAmount));this.W>e&&(a>e+d-h?this.R=r.DragDrop.scrollAmount:a<d+h&&(this.R=-r.DragDrop.scrollAmount));0===this.R&&0===this.m||this.h.c||$v(this.h);0===this.R&&0===this.m&&this.h.c&&aw(this.h)};
f.sm=function(){var a=R.Zb(document);window.scrollTo(a.x+this.R,a.y+this.m);0===a.x&&0===a.y||0!==this.m&&a.y+window.innerHeight-this.Na>=this.Gb||0!==this.R&&a.x+window.innerWidth>=this.W?aw(this.h):!0===this.T&&null!==this.S&&(this.$a+=this.R,this.fb+=this.m,this.S.setPosition(this.$a,this.fb))};function Vz(a,b,c){vz.call(this,a,b,c)}n(Vz,vz);Vz.prototype.ee=function(){};I.j().register("wnd.ui.ButtonFormItem",hj,Wy,Vz);function Wz(a,b,c){vz.call(this,a,b,c)}n(Wz,vz);f=Wz.prototype;f.Bd=function(){return this.view.Bd()};f.Rd=function(a){this.lc("value",a?1:0);this.view.Rd()};f.ee=function(){var a=this.Bd()?1:0;N(this.f,"value")!=a&&(this.view.Vc(a),Wi(this.f,"value",a),a=P(this.f,"beforeChangeAction"),"function"===typeof a&&a.call(this),!0===Ez(this.ib())&&this.ib().ra())};f.lc=function(a,b){b=Number(b);Wz.l.lc.call(this,a,b)};
f.getValue=function(){var a;if(a=null!=P(this.f,"realValues"))a=null!=P(this.f,"realValues")[this.view.getValue()];return a?P(this.f,"realValues")[this.view.getValue()]:this.view.getValue()};f.O=function(){Wz.l.O.call(this);this.c.H(this.B(),T,m(this.uf,this))};f.uf=function(a){var b=a.target;"A"===b.nodeName&&b.hasAttribute("href")||this.view.Ia&&b===this.view.Ia||("LABEL"===b.nodeName||"INPUT"===b.nodeName||"I"===b.nodeName&&Cl(b,"wnd-form-item-tooltip")?Wz.l.uf.call(this,a):this.Ta().click())};
I.j().register("wnd.ui.CheckboxFormItem",ij,Xy,Wz);function Xz(a,b,c){vz.call(this,a,b,c);this.I=new Nf;this.g=new Cx(!0);this.g.observe("onChange",this.uA,this)}n(Xz,vz);f=Xz.prototype;f.uA=function(a,b){var c=parseInt(Pf(this.I,b),10);this.view.Vc(c);this.tf()};f.Lh=function(){var a=Xz.l.Lh.call(this);return a?Zy(a):a};f.lc=function(a,b,c){b=lj(b);Xz.l.lc.call(this,a,b,c)};f.getValue=function(){return Pf(this.I,Xz.l.getValue.call(this))};
f.uf=function(a){Xz.l.uf.call(this,a);this.g.show(this.Ta(),this.getValue().toString());var b=this.g;(a=this.B())&&!F(b.h,a)&&(b=b.c.zb,b.pe||(b.pe=[]),xh(b.pe,a));this.Ta().focus()};f.pw=function(){var a=new wl;a.add(new pl(0,0,1,0,0,0));this.view.Vc(a.toString()+"000000");this.tf()};f.na=function(a){Xz.l.na.call(this,a);"onBeforePopupClose"===a.getType()&&"children_propagation"===a.h&&a.c===Yz(this.getParent())&&this.g.hide()};I.j().register("wnd.ui.DateFormItem",kj,Yy,Xz);function Zz(a,b,c){vz.call(this,a,b,c)}n(Zz,vz);Zz.prototype.lc=function(a,b){this.view.Vc(b);Zz.l.lc.call(this,a,b)};I.j().register("wnd.ui.HiddenFormItem",mj,$y,Zz);function $z(a,b,c){vz.call(this,a,b,c)}n($z,vz);I.j().register("wnd.ui.LongTextFormItem",nj,az,$z);function aA(a,b,c){vz.call(this,a,b,c);this.G=!0;a=["wnd-radio-item"];b=P(this.f,"extendCssClass");null!=b&&a.push(b);O(this.f,"extendCssClass",a.join(" "))}n(aA,vz);aA.prototype.Wl=function(){return this.Bd()};aA.prototype.Bd=function(){return this.view.Bd()};aA.prototype.ee=function(){Az(this)&&Ez(this.ib())&&this.ib().ra()};I.j().register("wnd.ui.RadioButtonFormItem",oj,bz,aA);function bA(a,b,c){vz.call(this,a,b,c)}n(bA,vz);I.j().register("wnd.ui.SelectBoxFormItem",pj,cz,bA);function cA(a,b,c){vz.call(this,a,b,c)}n(cA,vz);I.j().register("wnd.ui.ShortTextFormItem",qj,dz,cA);function dA(a,b,c){vz.call(this,a,b,c)}n(dA,vz);dA.prototype.O=function(){dA.l.O.call(this);this.c.H(this.Ta(),"change",this.g)};dA.prototype.g=function(){var a=this.getValue();this.view.uh.value=a};I.j().register("wnd.ui.SlideFormItem",rj,ez,dA);function eA(a,b,c){vz.call(this,a,b,c)}n(eA,vz);eA.prototype.ee=function(){this.view.Ne().value=this.getValue();eA.l.ee.call(this)};I.j().register("wnd.ui.UploadFormItem",cj,fz,eA);function fA(a){Nz.call(this);this.A=a;this.M=this.P=this.c=null}n(fA,Nz);f=fA.prototype;f.init=function(){fA.l.init.call(this);gA(this.A)};f.je=function(a){fA.l.je.call(this,a);a=Sz(this,a);this.c=hA(this,a.Bb).mvc;iA(this.c,!1);this.reset();this.init();Pv(this.L);iA(this.c,!0)};
f.Bg=function(a){var b=Sz(this,a);a=hA(this,b.Bb);var b=hA(this,b.ji),c=b.position,d;if(!(d="bottom"!==c)){d=this.A;var e=jA(d,b.mvc.getId());d=!1!==(-1!==e&&e+1===d.v.length)}d&&(this.notify("onDragover",a.mvc,b.mvc,c),this.P=b.mvc,this.M=c,iA(this.c,!1),Pv(this.L),iA(this.c,!0))};f.Ae=function(a){fA.l.Ae.call(this,a);this.notify("onDrop",this.c,this.P,this.M);this.M=this.P=this.c=null;this.reset();this.init()};
f.Ge=function(a){fA.l.Ge.call(this,a);this.M=this.P=this.c=null;a=this.A;a.v=a.D;this.reset();this.init()};function hA(a,b){var c;c=a.A;var d=b.id;c=null!=c.g[c.G[d]]?{mvc:c.g[c.G[d]],position:"inner"}:null;null===c&&(c=a.A,d=b.id,c=null!=c.g[c.U[d]]?{mvc:c.g[c.U[d]],position:"top"}:null!=c.g[c.T[d]]?{mvc:c.g[c.T[d]],position:"bottom"}:null);return c};function kA(a,b,c){sz.call(this,a,b,c);this.o=this.g=!1}n(kA,sz);f=kA.prototype;f.Ga=function(){return this.g};f.O=function(){kA.l.O.call(this);this.c.H(this.view.Ne(),T,this.OA)};f.OA=function(){if(this.g){var a=new H("listItemRefresh",this);this.ba(a)}else this.Wa()};f.Wa=function(){if(!this.Ga()){this.view.setActive(!0);this.g=!0;var a=new H("listItemActivate",this);this.ba(a)}};f.pb=function(){this.view.setActive(!1);this.g=!1};f.getName=function(){return N(this.f,"name")};
f.De=function(a){""===a&&(a=this.getName());this.view.De(a)};f.mf=function(){};f.Ke=function(){return this.view.Ke()};f.vj=function(){return this.view.vj()};f.hh=function(a){this.view.hh(a)};f.He=function(a){this.view.He(a)};f.$c=function(){return t.listingsPrefix+N(this.f,"identifier")+"/"};function iA(a,b){b?a.view.show():a.view.hide()}f.Zh=function(a){Xi(this.f,a,!0);this.view.De(this.getName());hz(this.view)};
f.ql=function(a){a?dh(this.getName(),a)?(this.show(),this.o=!1):(this.hide(),this.o=!0):!this.Ya()&&this.o&&this.show()};I.j().register("wnd.ui.ListMenuItem",sj,gz,kA);function lA(a,b,c){sz.call(this,a,b,c)}n(lA,sz);var vj="default";I.j().register("wnd.ui.Loading",tj,iz,lA);function mA(a,b,c){sz.call(this,a,b,c)}n(mA,sz);f=mA.prototype;f.ka=function(a){mA.l.ka.call(this,a);this.setZIndex(r.OverlayArea.defaultZIndex)};f.show=function(){kr.j().pause();this.view.show()};f.hide=function(){tr(kr.j());this.dispose();this.notify("onHide",this);return!0};f.setZIndex=function(a){this.f.zIndex=a;this.view.setZIndex(a)};f.getZIndex=function(){return this.f.zIndex};f.O=function(){mA.l.O.call(this);this.c.H(this.B(),T,m(this.cB,this))};f.cB=function(){this.notify("onClick",this)};
I.j().register("wnd.ui.OverlayArea",wj,jz,mA);function nA(){K.call(this);this.c={}}n(nA,K);da(nA);nA.prototype.get=function(a,b,c,d,e){c=this.$c(a,c);l(this.c[c])||(this.c[c]=I.j().create(c,"wnd.ui.OverlayArea",b,null,{properties:{type:a}}),null!=e&&this.c[c].observe("onClick",e,this),null!=d&&this.c[c].setZIndex(d),this.c[c].observe("onHide",m(this.h,this),this));return this.c[c]};nA.prototype.$c=function(a,b){return"wnd.ui.OverlayArea_"+a+(null!=b?"_"+b:"")};nA.prototype.h=function(a,b){b.ub&&delete this.c[b.C()]};function oA(a,b,c){vz.call(this,a,b,c);this.S=this.g=null;this.U=!1;Yz(this.ib()).observe("onClose",m(this.close,this),this);this.ib().observe("onHide",m(this.close,this),this);this.f.observe("onLoadAutocomplete",m(this.iA,this),this)}n(oA,vz);function pA(a){return!(!a.g||!a.g.c.Ra())}f=oA.prototype;f.close=function(){this.g&&pA(this)&&(this.g.he(),Uy(this.view,!1),this.S=null,this.bc().hide(),cq=!1,tr(kr.j()))};
function qA(a){if(a.g&&!pA(a)){var b=a.g;Jx(b.o,b.P);var c=b.o,d=Rx(c);c.c&&(c.c.M=c.nb,Sx(c.c,d,c.getValue(),!0));c=R.Zb(document);d=R.getBounds(b.P);c=d.top+d.height+r.Autocomplete.selectHeight>window.innerHeight+c.y;b.c.P=c;!0===c&&Rw(b.c);Uy(a.view,!0);a.S=R.Zb(document);a.bc().show();kr.j().pause();cq=!0;a.focus(!0)}}
f.O=function(){oA.l.O.call(this);null!==this.view.L&&(this.c.H(this.view.af,T,this.zu,!1),this.c.H(this.view.L,T,this.Mw,!1),this.c.H(window,"scroll",this.jA,!1),this.g&&this.Mi(),Yz(this.ib())&&Yz(this.ib()).observe("onClose",m(function(){cq=!1},this),this))};f.Mi=function(){!1===l(this.c)&&this.O();this.c.H(this.g,["rowhilite",Wx,Xx,Zx,Yx,"update","suggestionsupdate","suggestionsfind"],this.gm,!1)};f.Za=function(){oA.l.Za.call(this);l(this.c)&&this.c.removeAll()};
f.gm=function(a){switch(a.type){case Zx:Vy(this.view,!1);Uy(this.view,!1);cq=!1;break;case "update":this.tm(a);break;case "suggestionsupdate":Vy(this.view,!1);Uy(this.view,pA(this));this.bc().hide();break;case "suggestionsfind":Vy(this.view,!0)}};f.zu=function(a){a.stopPropagation();pA(this)?this.close():qA(this)};f.Mw=function(a){a.stopPropagation();a.preventDefault();P(this.f,"readOnly")?(pA(this)?this.close():qA(this),aq&&this.view.L.blur()):this.focus(!0)};
f.jA=function(a){a.stopPropagation();a.preventDefault();null!=this.g&&this.g.c.Ra()&&null!=this.S&&window.scrollTo(this.S.x,this.S.y);return!1};f.tm=function(a){a.row&&(this.f.R=a.row,this.view.L.value=this.f.me(),a=this.f,this.view.Vc(a.R?a.R.key:null),this.tf(),this.view.L.blur(),this.Ta().focus())};f.focus=function(a){!0===a&&this.view.L.select();this.view.L.focus()};f.ka=function(a){oA.l.ka.call(this,a);this instanceof rA||sA(this)};
function sA(a){var b;P(a.f,"remote")?(b=new Ni(P(a.f,"collection")),Vy(a.view,!0),Pi(b,a.getValue(),m(function(a){a&&(this.f.R=a,this.f.me()&&(this.view.L.value=this.f.me()));Vy(this.view,!1)},a))):(b=gj(a.f,a.getValue()),b=a.ho(b),a.f.me()&&(a.view.L.value=a.f.me()));a.g=new Vx(a.view.L,b,m(a.getValue,a),P(a.f,"rowCallback"),P(a.f,"emptyRow"),a.U)}f.ho=function(a){return new On(a,!0)};f.me=function(){return this.f.me()};f.oi=function(){this.view.render()};
f.bc=function(){var a=null;l(this.ib())&&l(Yz(this.ib()))&&(a=Yz(this.ib()).getZIndex()-1);return nA.j().get("Transparent",document.body,"autocomplete",a)};f.kd=function(){return this.view.kd()};f.iA=function(){sA(this);this.Mi();this.v=!0;this.ib().pi()};I.j().register("wnd.ui.AutoCompleteFormItem",ej,Ty,oA);function rA(a,b,c){oA.call(this,a,b,c);this.I=new ng;this.T=new hg;this.If=!1;this.U=!0;this.ea=/^(?!https?:\/\/)(.+@)/;this.la=/^tel:\+?([0-9\-])+$/}n(rA,oA);f=rA.prototype;f.ka=function(a){rA.l.ka.call(this,a);this.v=!1;this.f.Cf();P(this.f,"canWrite")&&(a=N(this.f,"value")?N(this.f,"value"):P(this.f,"defaultValue"),ja(a)&&0!==a.indexOf("/")&&(this.T.c(a,"")||this.I.c(a,"")||this.la.test(a))&&(tA(this,!0),a=uA(this,a),this.view.L.value=a,this.v=!0))};
f.getValue=function(){var a=this.view.getValue().trim();0===a.indexOf("cms.")?a=a.substring(4):-1<a.indexOf("//cms.")&&(a=a.replace("//cms.","//"));if(!this.ea.test(a)){var b=a.toLowerCase();""!==b&&!1===this.If&&!1===/^\/.*\/$/.test(b)&&!1===this.I.c(b,"")&&-1===b.indexOf("http")?a="/"+a+"/":!0===this.I.c(b,"")&&-1===b.indexOf("http")&&0!==b.indexOf("/")&&(a="http://"+a)}return a};function uA(a,b){b=b||a.getValue();return b.replace(/^http:\/\/|^https:\/\/|^ftp:\/\/|^mailto:@/,"")}
f.Mi=function(){rA.l.Mi.call(this);P(this.f,"canWrite")&&(Fr(this.o,this.view.L),this.c.H(this.o,"key",m(this.Fk,this)),this.c.H(this.view.L,"paste",m(this.Fk,this)))};f.tm=function(a){rA.l.tm.call(this,a);this.notify("processUpdate",this.getValue());yz(this);tA(this,!1)};f.Fk=function(a){requestAnimationFrame(m(this.rn,this,a,this.view.kd()))};
f.rn=function(a,b){if(!this.ub){var c=this.view.kd(),d=r.ValidatorRegex.isLink.urlMailPhone.test(c.toLowerCase());d?(this.If||tA(this,!0),this.view.Vc(c)):!d&&this.If?(tA(this,!1),this.view.Vc("")):c||!this.getValue()||this.If||this.view.Vc("");this.notify("onKeyEvent",a);xz(this);this.D=setTimeout(m(this.Rs,this,b),r.FormItem.validationDelay)}};
f.Rs=function(a){xz(this);!N(this.f,"value")&&!a&&!this.view.kd()||a==this.view.kd()||P(this.f,"canBeEmpty")&&!this.view.kd()||(this.If?yz(this):wz(this)===Ny&&pA(this)?this.setState("defaultItem"):null!==wz(this)&&"defaultItem"!==wz(this)||pA(this)||this.setState(Ny))};function tA(a,b){if(a.If=b)a.f.R=null}f.ho=function(a){return new On(a,!0)};
f.Wh=function(){var a=rA.l.Wh.call(this);if((P(this.f,"canBeEmpty")||!this.Xd())&&this.isEmpty())return!0;var b=this.getValue(),c=P(this.f,"label");a&&(this.ea.test(b)?this.T.c(b,c)||(a=this.T.h):this.la.test(b)?a=!0:this.I.c(b,c)||(a=this.I.h));return a};f.oc=function(){return P(this.f,"values")};f.gm=function(a){rA.l.gm.call(this,a);"suggestionsupdate"===a.type&&P(this.f,"validateContinuous")&&wz(this)===Ny&&pA(this)&&(xz(this),this.setState("defaultItem"))};
I.j().register("wnd.ui.LinkFormItem",Pl,Ty,rA);function vA(a,b,c){sz.call(this,a,b,c)}n(vA,sz);var yj="nw",zj="ne",Aj="se",Bj="sw";vA.prototype.getPosition=function(){return this.f.getPosition()};vA.prototype.getSelection=function(){return this.f.getSelection()};I.j().register("wnd.ui.CropImageCube",xj,kz,vA);function wA(a,b,c){vz.call(this,a,b,c)}n(wA,Wz);wA.prototype.uf=function(a){var b=a.target;this.view.Ia&&b===this.view.Ia||(this.notify("changePrivateAccessTyp",this,a),wA.l.uf.call(this,a))};wA.prototype.ee=function(){Dz(this)&&wA.l.ee.call(this)};I.j().register("wnd.ui.PrivateAccessFormItem",ij,Xy,wA);function xA(a,b,c){sz.call(this,a,b,c)}n(xA,sz);f=xA.prototype;f.active=!1;f.init=function(a,b,c,d){this.view.Hi=a;this.view.wh=c;this.f.position=b;rm(this.f,this.view.wh,this.ab());this.f.We(this.ld(),this.ab(),d);om(this.f);qm(this.f)};f.getId=function(){return this.f.getId()};f.getPosition=function(){return this.f.position};f.ld=function(){return this.view.ld()};function Z(a){return a.f.h}f.Ic=function(){return this.f.Ic()};f.Od=function(){return this.f.Od()};function yA(a){return a.f.A}
function zA(a,b){var c=0;if(a.Ic()){var d=Z(a).top+Z(a).height,e=Z(b).top+Z(b).height;d<Z(b).top?c=Z(b).top-d:e<Z(a).top&&(c=Z(a).top-e)}else d=Z(a).left+Z(a).width,e=Z(b).left+Z(b).width,d<Z(b).left?c=Z(b).left-d:e<Z(a).left&&(c=Z(a).left-e);return c}
function AA(a,b){var c=Z(b),d=r.DropStripe.DDBoxInSameFlowLineOffset;return a.Ic()?Math.round(Math.max(Z(a).left,c.left))+d<Math.floor(Math.min(Z(a).left+Z(a).width,c.left+c.width)):Math.round(Math.max(Z(a).top,c.top))+d<Math.floor(Math.min(Z(a).top+Z(a).height,c.top+c.height))}function BA(a,b){var c;a.Ic()?(c="top"==a.f.position?1:-1,a.f.h.top=Z(b).top+c*Z(b).height):(c="left"==a.f.position?1:-1,a.f.h.left=Z(b).left+c*Z(b).width)}f.show=function(){this.view.show()};
f.hide=function(){this.view.hide();return!0};f.Wa=function(){this.active=!0;this.view.o.style.display="block"};f.pb=function(){this.active=!1;this.view.o.style.display="none";this.view.hide()};f.Ga=function(){return this.active};f.tj=function(){return r.DropStripe.DDBoxHorizMaxInnerPos};I.j().register("wnd.ui.DropStripe",mm,lz,xA);function CA(a,b,c){sz.call(this,a,b,c)}n(CA,xA);CA.prototype.tj=function(){return r.EditableMediaListDropStripe.DDBoxHorizMaxInnerPos};I.j().register("wnd.ui.EditableMediaListDropStripe",Bv,lz,CA);function DA(a,b,c){sz.call(this,a,b,c);this.f.ye=EA}n(DA,xA);var EA="default";function FA(a){a.f.ye!=EA&&(a.f.ye=EA,a=a.view,a.m.style.left=a.f.A.x+"px",a.m.style.top=a.f.A.y+"px",a.m.style.width=a.f.o.x-a.f.A.x+"px",a.m.style.height=a.f.o.y-a.f.A.y+"px",Hl(a.m,"float-rect",!1))}
function GA(a,b,c,d){var e;if(e=!ky(c,x.ContentBlock.separableParts.typeIsSeparable))e=Z(a),e=e.left+e.width/2-R.Zb(document).x,e="left"==a.getPosition()&&b<e||"right"==a.getPosition()&&b>e;e?FA(a):"float"!=a.f.ye&&(a.f.ye="float",a=a.view,a.f.Od()&&(b=c=R.pa(c).width/100*r.FloatDropStripe.defaultContentWidth,d&&(d=R.pa(d),b=b*d.height/d.width),R.setSize(a.m,c,b),Hl(a.m,"float-rect",!0),"right"==a.f.position&&(a.m.style.left=a.f.A.x-c+"px")))}I.j().register("wnd.ui.FloatDropStripe",sm,nz,DA);function HA(a,b,c){Nz.call(this);this.g={};this.ea=b;this.I=[];this.ha=[];this.c=a;this.U=c;this.D={};this.G={};this.A=null}n(HA,Nz);f=HA.prototype;f.init=function(a){HA.l.init.call(this);this.ea(a);IA(this)};
f.uc=function(a,b,c,d,e){var g=(""!=a.id?a.id:oa(HA))+"_"+b+r.StripesDragDrop.stripeSuffix;d=d?d:"wnd.ui.DropStripe";e=Mg(I.j(),g)?I.j().get(g):I.j().create(g,d,this.U,null,{id:g,properties:{dragAreaBoxRect:this.D,stripeCoords:this.G,useTempDropStripes:!0===e}});e.init(a,b,this.c,c);Rz(this,e.view.o);this.g[e.getId()]=e;e.Ic()?this.I.push(e.getId()):this.ha.push(e.getId());return e};function JA(a,b){a.c=b}
f.Wi=function(a,b){var c=b.Bb,d=c.id==a.ld().id,e=!1,g=!1;d&&(c=l(c.nextElementSibling)?c.nextElementSibling:wp(c.nextSibling,!0))&&(e=c.id==a.ld().id)&&(g=a.Ic()&&"top"==a.getPosition()||a.Od()&&"left"==a.getPosition());return d||e&&g};
function KA(a,b,c){var d=Sz(a,c);!0===b?(!0===(null!=d.tc)&&!0===ma(d.tc.Da)?a.A=d.tc.Da().B():!0===(null!=d.tc)&&!0===ma(d.tc.B)?a.A=d.tc.B():a.A=d.Bb,LA(a,a.A,!1)):!1===b&&!0===(null!=a.A)&&(LA(a,a.A,!0),a.A=null);for(var e in a.g)c=a.g[e],b?a.Wi(c,d)?c.pb():c.Wa():c.pb()}function LA(a,b,c){var d=!0===c?"":"hidden";R.setStyle(a.A,"visibility",d);(b=b.id)&&Mg(I.j(),b)&&(b=I.j().get(b),ma(b.El)&&(b=b.El(),ph(b,function(a){R.setStyle(a,"visibility",d)},a)))}
function IA(a,b){var c=MA(a,b);if(0<a.I.length&&0<a.ha.length){NA(a,c.x,c.order.x);NA(a,c.y,c.order.y);c=MA(a,!1,!0);OA(a,c.x,c.order.x);OA(a,c.y,c.order.y);for(var c=a.I,d=a.ha,e,g,h=c.length,k=d.length,p=0;p<k;p++){g=a.g[d[p]];for(var w=0;w<h;w++)if(d[p]!=c[w]){e=a.g[c[w]];var v=$m(Z(e),Z(g));if(v&&0<v.width&&0<v.height){var C=Z(e).left+Z(e).width/2,G=Z(e).top+Z(e).height/2,J=Z(e).clone(),V=Z(e).clone();v.top<G?(J.top=v.top+v.height,J.height-=J.top-Z(e).top):J.height=v.top-Z(e).top;v.left<C?(V.left=
v.left+v.width,V.width-=V.left-Z(e).left):V.width=v.left-Z(e).left;e.f.h=v.height<=2*r.DropStripe.HorizStripeVertOffset?J:V}}}}else 0<a.I.length&&0==a.ha.length?OA(a,c.y,c.order.y):0==a.I.length&&0<a.ha.length&&OA(a,c.x,c.order.x);a.Tn();for(var Va in a.g)c=a.g[Va],c=c.view,c.o.style.left=(c.f.h.left>>0)+"px",c.o.style.top=(c.f.h.top>>0)+"px",c.o.style.width=(c.f.h.width>>0)+"px",c.o.style.height=(c.f.h.height>>0)+"px",c.o.style.zIndex=c.f.zIndex,c.o.style.display="none",c.m.style.left=(c.f.A.x>>
0)+"px",c.m.style.top=(c.f.A.y>>0)+"px",c.m.style.width=(c.f.o.x-c.f.A.x>>0)+"px",c.m.style.height=(c.f.o.y-c.f.A.y>>0)+"px",c.m.style.zIndex=c.f.zIndex+1}f.Tn=function(){};
function MA(a,b,c){var d={},e,g,h={x:[],y:[]},k;for(k in a.g)e=a.g[k],b&&(g=e,rm(g.f,g.view.wh,g.ab()),g.f.We(g.ld(),g.ab()),om(g.f),qm(g.f)),e.Ic()?(g="y",e=c?Z(e).top:yA(e).y):(g="x",e=c?Z(e).left:yA(e).x),e=10*Math.round(e/10),d[g]||(d[g]=[]),d[g][e.toString()]||(d[g][e.toString()]=[]),d[g][e.toString()].push(k),h[g]||(h[g]=[]),xh(h[g],e);d.order=PA(h);return d}function PA(a){a.x&&Fh(a.x,function(a,c){return a>c?1:-1});a.y&&Fh(a.y,function(a,c){return a>c?1:-1});return a}
function OA(a,b,c){for(var d,e,g,h=[],k={},p=!1,w,v=0;v<c.length;v++){w=c[v];for(var C=0;C<b[w].length;C++){d=b[w][C];e=a.g[d];g=null;k[d]=!0;for(var G=h.length-1;0<=G;G--)if(d=a.g[h[G]],AA(e,d)){if(!g){g=d;var p="undefined"==typeof k[g.getId()],J=e,V=g,Va=void 0,Zb=void 0,zc=zA(J,V);zc&&(J.Ic()?(Va=yA(J).y-yA(V).y,Zb=yA(J).y-Va/2,Z(J).top-zc<Zb?J.f.h.top=Zb:(p||(zc/=2),J.f.h.top=Z(J).top-zc)):(Va=yA(J).x-yA(V).x,Zb=yA(J).x-Va*J.tj(),10<Va&&Z(J).left-zc<Zb?J.f.h.left=Zb:(p||(zc/=2),J.f.h.left=Z(J).left-
zc)))}if(k[d.getId()]){p=!0;J=d;Va=e;V=p;Zb=void 0;if(p=zA(J,Va))J.Ic()?(Zb=yA(Va).y-yA(J).y,Va=yA(J).y-Z(J).top+Zb/2,Z(J).height+p>Va?J.f.h.height=Va:(V||(p/=2),J.f.h.height=J.f.h.height+p)):(Zb=yA(Va).x-yA(J).x,Va=yA(J).x-Z(J).left+Zb*J.tj(),10<Zb&&Z(J).left+Z(J).width+p>Va?J.f.h.width=Va:(V||(p/=2),J.f.h.width=J.f.h.width+p));delete k[d.getId()]}}g||(g=e,g.Ic()?(g.f.h.height=Z(g).top+Z(g).height-g.f.U.top,g.f.h.top=g.f.U.top):(g.f.h.width=Z(g).left+Z(g).width-g.f.U.left,g.f.h.left=g.f.U.left));
h.push(e.getId())}}for(var B in k)b=e=a.g[B],b.Ic()?b.f.h.height=b.f.U.top+b.f.U.height-Z(b).top:b.f.h.width=b.f.U.left+b.f.U.width-Z(b).left}
function NA(a,b,c){for(var d,e,g,h,k,p=0;p<c.length;p++){h=c[p];var w=b[h].length;if(1!=w){e=[];g=[];for(var v=0;v<w;v++){d=b[h][v];d=a.g[d];for(k=d.Ic()?Z(d).width:Z(d).height;e[k];)k++;g.push(k);e[k]=d}g.sort(function(a,b){return b-a});for(v=1;v<g.length;v++){d=e[g[v]];h=null;for(w=v-1;0<=w;w--)if(k=e[g[w]],!(0<w&&k.getPosition()!==d.getPosition())&&AA(d,k)){h=e[g[w]];break}h&&BA(d,h)}}}}
f.Ui=function(a,b){var c=b.getPosition();if(0<this.I.length&&0==this.ha.length||0==this.I.length&&0<this.ha.length)"bottom"==c||"right"==c?rp(a,b.ld()):qp(a,b.ld())};function QA(a,b){var c=null;b.ji&&(c=a.g[b.ji.id]);return c}f.reset=function(){HA.l.reset.call(this);var a,b;for(b in this.g)a=this.g[b],a.dispose();this.g={};this.I=[];this.ha=[];this.D=[];this.G=[]};
f.Ae=function(a,b){HA.l.Ae.call(this,a);var c=Sz(this,a),d=QA(this,c);if(d.Ga()){var e=d.ld(),g=c.Bb;this.Ui(g,d);this.notify("onDrop",g,e,d.getPosition(),c.tc);b&&(this.reset(),this.init())}!0===(null!=this.A)&&(LA(this,this.A,!0),this.A=null)};f.Bg=function(a){if(!Qz){HA.l.Bg.call(this,a);a=Sz(this,a);var b=QA(this,a);b&&b.Ga()&&(b.show(),this.M=a)}};f.ej=function(a){HA.l.ej.call(this,a);a=Sz(this,a);(a=QA(this,a))&&a.Ga()&&a.hide();this.M=null};
f.je=function(a){HA.l.je.call(this,a);KA(this,!0,a)};f.Ge=function(a){HA.l.Ge.call(this,a);KA(this,!1,a)};function RA(a){HA.call(this,a.B(),m(a.rg,a),a.view.I);this.P=0}n(RA,HA);RA.prototype.reset=function(){RA.l.reset.call(this);this.P=0};RA.prototype.Wi=function(){return!1};RA.prototype.Vi=function(a,b){var c=R.xc(this.c),d=r.EditableMediaList.scrollSensitivity;this.m=0;b<c.y&&b>c.y-d?(this.m=-r.EditableMediaList.scrollAmount,!1===this.h.c&&$v(this.h)):b>c.y+this.c.offsetHeight&&b<c.y+this.c.offsetHeight+d?(this.m=r.EditableMediaList.scrollAmount,!1===this.h.c&&$v(this.h)):!0===this.h.c&&aw(this.h)};
RA.prototype.sm=function(){this.c.scrollTop+=this.m;Pv(this.L);(0>this.c.scrollTop+this.m||this.P-this.c.offsetHeight<this.c.scrollTop+this.m)&&aw(this.h)};function SA(a){Nz.call(this);this.c=a;this.U=this.c.wd();this.ea=this.G=this.P=null;this.A=this.D=TA;this.Ia=this.Ca=0;this.M={before:null,after:null};this.m=0}n(SA,Nz);var TA="order";f=SA.prototype;f.init=function(){SA.l.init.call(this);UA(this.c);this.gb=this.U.offsetHeight;this.wa=R.xc(this.U).y;this.nd=this.c.wd().offsetHeight;Vm(this.U,"mousemove",m(this.ny,this))};f.ny=function(a){null===this.F?this.F=new S(a.clientX,a.clientY):(this.F.x=a.clientX,this.F.y=a.clientY)};
f.je=function(a){SA.l.je.call(this,a);a=Sz(this,a);var b=VA(this,a.Bb);Uz(this,{sourceElement:a.Bb,realGrip:!0});this.P=b.mvc;this.M=WA(this.c,this.P);this.reset();this.init();Pv(this.L);this.Ca=this.F.x-25;this.Ia=this.F.x+25};
f.Bg=function(a){var b=Sz(this,a);a=VA(this,b.Bb);b=VA(this,b.ji);if(a.mvc!==b.mvc&&!XA(this.c,b.mvc,a.mvc)){var c=b.position;this.A=TA;var d;"parent"===this.D&&this.c.Pj(b.mvc)&&(this.A=this.D=TA);if(TA===this.D)if(b.mvc.getId()===this.M.before)c="top";else if(b.mvc.getId()===this.M.after)d=YA(this.c,b.mvc),null==d||ZA(this.c,d)?c="bottom":(c="top",b.mvc=d);else{if(b.mvc===a.mvc||XA(this.c,b.mvc,a.mvc))return;c="top"}else if("parent"===this.D)if(b.mvc.getId()===this.M.before){c=this.c;d=c.Dj(b.mvc);
if(null===d)d=null;else for(;!d.Ra();)d=$A(c,""+aB(d));c="top";this.D="parent";null!=d&&(XA(this.c,b.mvc,d)?this.A=TA:bB(this.c,d)?(d=cB(this.c,d),b.mvc=d,this.A=TA):this.c.Pj(d)?(b.mvc=d,this.A=TA):(b.mvc=d,this.A="parent"))}else if(b.mvc.getId()===this.M.after)bB(this.c,b.mvc)?(d=cB(this.c,b.mvc),null!=d&&(d===a.mvc&&(d=YA(this.c,d)),b.mvc=d,this.A=TA)):this.A=this.D="parent";else if(b.mvc!==a.mvc)d=this.c.Dj(b.mvc),c="top",this.D="parent",null!=d&&(XA(this.c,b.mvc,d)?this.A=TA:bB(this.c,d)?(d=
cB(this.c,d),null!=d&&(d===a.mvc&&(d=YA(this.c,d)),b.mvc=d,this.A=TA)):(b.mvc=d,this.A="parent"));else return;ZA(this.c,b.mvc)||a.mvc===b.mvc||XA(this.c,b.mvc,a.mvc)||(this.notify("onDragover",a.mvc,b.mvc,c,this.A),this.P=a.mvc,this.G=b.mvc,this.ea=c,dB(this.c,this.P,this.G,this.A),eB(this),Pv(this.L),this.M=WA(this.c,this.G,c,this.A))}};
f.zi=function(a){SA.l.zi.call(this,a);var b=this.Yc();if(0!=b.page.x){a=this.P;var c=this.G,d=this.ea,e=!1,g=this.Ca+7;if(b.page.x>=this.Ia-7){b=this.c.g[this.M.before];if(ZA(this.c,b)||XA(this.c,a,b))return;a:{for(var e=this.c,h=this.M.before,b=a.getId(),b=e.f.g[b].temporaryX||e.f.g[b].x,g=b+1,h=e.f.M.indexOf(h),k;0<h;h--){k=e.f.g[e.f.M[h]];if(k.x<b)break;if(k.x===g){b={mvc:e.g[k.id],type:"sibling"};break a}if(k.x===b){b={mvc:e.g[k.id],type:"parent"};break a}}b=null}e=!0;if(null!=b&&"parent"===b.type){if(this.c.Pj(b.mvc))return;
this.D="parent";c=b.mvc;this.A="parent";d="top"}else null!=b&&"sibling"===b.type&&(this.D="parent",c=b.mvc,this.A=TA,d="bottom")}else if(b.page.x<g){a:{e=this.c;d=this.M.after;if(null!==d)for(c=a.getId(),d=fB(e,d),c=e.f.g[c].temporaryX||e.f.g[c].x,b=e.f.M.length;d<b;d++){g=e.f.g[e.f.M[d]];if(g.x<c)break;if(g.x===c){e=!0;break a}}e=!1}if(e)return;this.A=this.D=TA;a:{e=this.c;d=this.M.before;c=a.getId();d=e.f.M.indexOf(d);for(c=(e.f.g[c].temporaryX||e.f.g[c].x)-1;0<d;d--)if(b=e.f.g[e.f.M[d]],b.x===
c){b=e.g[b.id];break a}b=null}if(null!=b){e=!0;a:{c=this.c;d=b.getId();g=fB(c,d);d=c.f.g[d].x;g+=1;for(h=c.f.M.length;g<h;g++){k=c.f.g[c.f.M[g]];if(k.x<d)break;if(k.x===d){c=c.g[k.id];break a}}c=null}if(null!=c)if(c.getId()===this.M.after)d="top";else return;else c=b,d="bottom"}else return}!e||null==a||null==c||a===c||c===this.G&&d===this.ea||(this.notify("onDragover",a,c,d,this.A),this.P=a,this.G=c,this.ea=d,dB(this.c,this.P,this.G,this.A),eB(this))}};
f.Ae=function(a){SA.l.Ae.call(this,a);this.notify("onDrop",this.P,this.G,this.ea,this.A)};f.Ge=function(a){SA.l.Ge.call(this,a);this.ea=this.G=this.P=null;this.reset();this.init();a=this.c;a.f.M=a.f.xa};function VA(a,b){var c;c=a.c;var d=b.id;c=null!=c.g[c.G[d]]?{mvc:c.g[c.G[d]],position:"inner"}:null;null===c&&(c=a.c,d=b.id,c=null!=c.g[c.U[d]]?{mvc:c.g[c.U[d]],position:"top"}:null);return c}f.X=function(){SA.l.X.call(this);this.o.dispose();this.h.dispose()};
function eB(a){var b=R.xc(a.P.B()),b=a.S.getPosition().x-b.x,c=a.Yc();a.Ca=c.page.x-25-b;a.Ia=c.page.x+25-b}f.Vi=function(a,b){var c=r.TreeMenuDragDrop.scrollSensitivity;this.m=0;b<this.wa&&b>this.wa-c?(this.m=-r.TreeMenuDragDrop.scrollAmount,this.h.c||$v(this.h)):b>this.wa+this.gb&&b<this.wa+this.gb+c?(this.m=r.TreeMenuDragDrop.scrollAmount,this.h.c||$v(this.h)):this.h.c&&aw(this.h)};
f.sm=function(){this.U.scrollTop+=this.m;Pv(this.L);(0>this.U.scrollTop+this.m||this.nd-this.gb<this.U.scrollTop+this.m)&&aw(this.h)};function gB(a,b,c){sz.call(this,a,b,c);this.g=c.hf()}n(gB,sz);f=gB.prototype;f.cv=function(){hB(this.getParent(),!this.g);iB(this,!this.g)};f.ka=function(a){gB.l.ka.call(this,a);iB(this,this.g)};f.O=function(){gB.l.O.call(this);this.getParent().observe("onClickTreeItem",this.cv,this)};f.Xj=function(){var a=this.getParent(),b=!D(this.F);b!==a.g&&(a.g=b,rz(a.view,a.g,a.hf()))};
function iB(a,b){a.g=b;pz(a.view,a.g);u(a.F,function(a){a instanceof jB&&(a.D=this.g,a.view.xg())},a);var c=new H(a.g?"treeGroupOpen":"treeGroupClose",a);a.ba(c)}f.hf=function(){return this.g};f.mf=function(){};f.Zh=function(a){Xi(this.f,a)};f.na=function(a){"treeItemActivate"!==a.getType()&&"treeGroupOpen"!==a.getType()||this.hf()||(hB(this.getParent(),!0),iB(this,!0))};I.j().register("wnd.ui.TreeMenuGroup",Cj,oz,gB);function jB(a,b,c){sz.call(this,a,b,c);this.g=this.D=this.o=this.v=!1}n(jB,sz);f=jB.prototype;f.du=function(){return P(this.f,"isRoot")};f.hf=function(){return this.v};f.Ga=function(){return this.o};f.Ra=function(){return this.D};function hB(a,b){b!==a.v&&(a.v=b,rz(a.view,a.g,a.hf()))}f.O=function(){jB.l.O.call(this);this.c.H(this.view.Ne(),T,this.rB)};
f.rB=function(a){a.stopPropagation();if(this.o){var b=new H("treeItemRefresh",this);this.ba(b);a.target===this.view.Hf&&this.notify("onClickTreeItem")}else this.Wa(),this.hf()&&a.target!==this.view.Hf||this.notify("onClickTreeItem")};f.Wa=function(){this.view.setActive(!0);this.o=!0;var a=new H("treeItemActivate",this);this.ba(a)};f.pb=function(){this.view.setActive(!1);this.o=!1};function kB(a){a=a.F;return a[a.length-1]}f.getName=function(){return N(this.f,"name")};
f.De=function(a,b){""!==a||b||(a=this.getName());this.view.De(a)};function aB(a){return N(a.f,"parent_id")}f.yj=function(){return N(this.f,"lang_id")};f.mf=function(){};f.Ke=function(){return this.view.Ke()};f.hh=function(a){this.view.hh(a)};f.He=function(a){this.view.He(a)};f.Zh=function(a,b){Xi(this.f,a);this.view.De(this.getName());l(b)&&this.getParent().getId()!==aB(this)&&Ai(this,b)};
f.ql=function(a){dh(this.getName(),a)?(a=this.view,a.m=a.Ne().cloneNode(!0),Gl(a.m,[P(a.f,"css")["item-descendants"],P(a.f,"css")["item-opened"]]),a=a.m):a=null;return a};I.j().register("wnd.ui.TreeMenuItem",Dj,qz,jB);function lB(a,b,c){sz.call(this,a,b,c)}n(lB,sz);function mB(a,b){ly.call(this,a,b)}n(mB,ly);mB.prototype.fk=function(a,b,c,d){var e=this;d||(d=this.f.Ea);d.call(this.f,function(b,d,k,p){d=e.Hb(d,p);e.notify("onBeforeRenderContent");a.call(c,b,d,k);e.notify("onRenderContent")},b,c)};mB.prototype.Hb=function(a){return a};function nB(a,b){ly.call(this,a,b)}n(nB,mB);nB.prototype.da=function(){};nB.prototype.Wg=function(){return 1==P(this.f,"initRenderFlag")};nB.prototype.setSize=function(a,b,c){c=c||this.c;null!==a&&R.setStyle(c,"width",a);null!=b&&R.setStyle(c,"height",b);a=R.getBounds(c);return{height:a.height,width:a.width}};function oB(a,b){for(var c=a.c.children,d=0,e=c.length;d<e;d++)R.aa(c[d],b)};function pB(a,b){ly.call(this,a,b);this.ac=!0;this.m=this.G=this.v=null}n(pB,nB);f=pB.prototype;f.hd=function(){};f.wd=function(){return this.m};f.yd=function(){return this.v};f.nc=function(){return this.G};f.Ok=function(){Dl(this.yd(),P(this.f,"css")["search-inuse"])};f.Pf=function(){Fl(this.yd(),P(this.f,"css")["search-inuse"])};f.Im=function(){Dl(this.nc(),P(this.f,"css")["search-not-empty"])};f.Hm=function(){Fl(this.nc(),P(this.f,"css")["search-not-empty"])};
f.pl=function(){Dl(this.B(),P(this.f,"css")["menu-with-search"]);this.nc().value&&(this.nc().value="",this.Pf());R.aa(this.yd(),!0)};f.ml=function(){this.Pf();Fl(this.B(),P(this.f,"css")["menu-with-search"]);R.aa(this.yd(),!1)};function qB(a,b){ly.call(this,a,b);this.ac=!0}n(qB,nB);qB.prototype.da=function(){};qB.prototype.Be=function(){return this.B()};function rB(a,b){qB.call(this,a,b);this.ac=!1}n(rB,qB);rB.prototype.da=function(){this.c=Tr(ct,this.N());this.ab().appendChild(this.c)};rB.prototype.N=function(){return{id:P(this.f,"id"),css:P(this.f,"css"),bg:P(this.f,"legend"),rb:P(this.f,"tooltip")}};rB.prototype.vk=function(){Hl(this.B(),"wnd-form-fieldset-error",P(this.f,"state")==Ny)};function sB(a,b){rB.call(this,a,b);this.ac=!1;this.W=et;this.P=!1;this.sh=this.Cf=this.La=null}n(sB,rB);sB.prototype.da=function(){this.c=Tr(this.W,this.N());iy(this.c,Ea.View.contentElementTypeAttr,this.f.ca());this.G();this.ab().appendChild(this.c)};sB.prototype.G=function(){this.La=this.c.querySelector(".wnd-adv-fieldset-content");this.Cf=this.c.querySelector(".wnd-ctrl-type-submit");this.sh=this.c.querySelector(".wnd-adv-fieldset-legend")};
function tB(a){a.P=!a.P;Hl(a.c,"wnd-adv-fieldset-opened",a.P)}sB.prototype.N=function(){var a=sB.l.N.call(this);a.hc=!!P(this.f,"showIcon");null!=P(this.f,"extendCssClass")&&(a.css=(a.css?" ":"")+P(this.f,"extendCssClass"));a.Wx=!P(this.f,"withoutSaveButton");return a};sB.prototype.Be=function(){return this.La};function uB(a,b){qB.call(this,a,b);this.ac=!0;this.R=null}n(uB,qB);f=uB.prototype;f.hd=function(){};f.da=function(){this.R=Tr(gt,this.N());this.c.appendChild(this.R)};f.Be=function(){return this.R};f.N=function(){return{id:P(this.f,"id"),method:P(this.f,"method"),ss:P(this.f,"class"),aC:this.f.C()+"_form_content"}};f.pa=function(){return R.pa(this.B())};function vB(a,b){sB.call(this,a,b);this.ac=!1;this.W=qt;this.R=this.v=this.m=null}n(vB,sB);vB.prototype.N=function(){var a=vB.l.N.call(this);null!=P(this.f,"editButton")&&(a.nl=P(this.f,"editButton"));return a};vB.prototype.da=function(){vB.l.da.call(this);R.setStyle(this.m,"width",this.m.offsetWidth-R.Mh()+"px")};vB.prototype.G=function(){vB.l.G.call(this);this.m=this.c.querySelector(".wnd-adv-fieldset-legend-text");this.v=this.m.querySelector("i");this.R=this.m.querySelector("strong")};
vB.prototype.we=function(a){a?(R.Uh(this.v)||R.aa(this.v,!0),this.R.innerHTML=Sg(a)):(R.aa(this.v,!1),this.R.innerHTML="")};function wB(a,b){vB.call(this,a,b);this.W=pu}n(wB,vB);wB.prototype.we=function(){};function xB(a,b){qB.call(this,a,b);this.hb={}}n(xB,qB);xB.prototype.da=function(){var a=P(this.f,"controls");if(!0!==(null===a)){this.hb={};pp(this.B());var b=null,c=null;!0===(null!=a.left)&&(b=Tr(Fs),yB(this,a.left,b));!0===(null!=a.right)&&(c=Tr(Gs),yB(this,a.right,c));!0===(null!=b)&&this.B().appendChild(b);!0===(null!=c)&&this.B().appendChild(c)}};function yB(a,b,c){var d;u(b,function(a){var b={control:a};null!=P(this.f,a)&&cf(b,P(this.f,a));d=Tr(Hs,b);this.hb[a]=d;c.appendChild(d)},a)}
xB.prototype.cb=function(a,b){!0===(null!=this.hb[a])&&R.aa(this.hb[a],b)};function zB(a,b){qB.call(this,a,b);this.h={"class":"wnd-popup-header"}}n(zB,qB);zB.prototype.da=function(){Qr(this.c,Gt,this.N())};zB.prototype.N=function(){var a=P(this.f,"title"),b=P(this.f,"switchGroups");return{title:a?a:"",Ue:b?b:[]}};function AB(a,b){ly.call(this,a,b);this.m=null;this.yc=!1}n(AB,nB);AB.prototype.render=function(){this.Of();this.notify("onRender")};
AB.prototype.da=function(){var a=BB(this).getContext("2d");a.clearRect(0,0,a.canvas.width,a.canvas.height);var b=this.f.gb(),c=N(this.f,"selection"),d=0,e=0;!1===this.yc&&(a.drawImage(b,d,e,a.canvas.width,a.canvas.height),a.fillStyle=r.CropImagePopup.selection.transparency,a.fillRect(d,e,a.canvas.width,a.canvas.height),a.setLineDash([]),a.strokeStyle=r.CropImagePopup.line.color,a.lineWidth=r.CropImagePopup.line.width,a.strokeRect(c.x,c.y,c.width,c.height),d=c.x,e=c.y);c.width>a.canvas.width&&(c.width=
a.canvas.width);0>c.x&&(c.x=0);c.height>a.canvas.height&&(c.height=a.canvas.height);0>c.y&&(c.y=0);a.drawImage(b,c.x,c.y,c.width,c.height,d,e,c.width,c.height);if(!1===this.yc)for(a.strokeStyle=r.CropImagePopup.line.colorDotted,a.lineWidth=r.CropImagePopup.line.width,a.setLineDash(r.CropImagePopup.line.dotted),b=r.CropImagePopup.selection.gridParts,d=1;d<b;d++){var e=a,g=c.x+d*c.width/b,h=c.y,k=c.x+d*c.width/b,p=c.y+c.height;e.beginPath();e.moveTo(g,h);e.lineTo(k,p);e.stroke();e=a;g=c.x;h=c.y+d*c.height/
b;k=c.x+c.width;p=c.y+d*c.height/b;e.beginPath();e.moveTo(g,h);e.lineTo(k,p);e.stroke()}};function BB(a){null===a.m&&(a.m=document.createElement("canvas"),a.B().appendChild(a.m));return a.m}function CB(a,b,c){b==a.m&&(a.m.className=c)};function DB(a,b){qB.call(this,a,b);this.We=null}n(DB,qB);DB.prototype.da=function(){var a=Tr(mt,this.N());this.B().appendChild(a);if(a=P(this.f,"linkName"))this.We=Tr(pt,{ju:a}),this.B().appendChild(this.We)};DB.prototype.N=function(){return{type:P(this.f,"type")||"",vx:P(this.f,"title")||"",ux:P(this.f,"text")||""}};function EB(a,b){ly.call(this,a,b);this.ac=!0}n(EB,nB);EB.prototype.da=function(){EB.l.da.call(this);Qr(this.B(),It,this.N())};EB.prototype.N=function(){var a=P(this.f,"text");null!=a&&!ha(a)&&(a=[a]);return{type:P(this.f,"type"),title:P(this.f,"title"),text:a,tx:P(this.f,"params")}};function GB(a,b){zB.call(this,a,b);this.xe={};this.m=null}n(GB,zB);GB.prototype.da=function(){GB.l.da.call(this);u(this.c.querySelectorAll("b[data-wnd_media_upload]"),function(a){var b=jy(a,"wnd_media_upload");this.xe[b]=a},this);HB(this,!1);this.m=this.c.querySelector("b.wnd-loading.upload")};function HB(a,b,c){!0===(null!=c)?R.aa(a.xe[c],b):z(a.xe,function(a){R.aa(a,b)},a)}GB.prototype.Qc=function(a){R.aa(this.m,a)};GB.prototype.N=function(){var a=GB.l.N.call(this);a.Aa=!0;return a};function IB(a,b){qB.call(this,a,b);this.h={"class":r.MediaTypes.css.content};this.Xa={};this.m=null}n(IB,qB);IB.prototype.da=function(){IB.l.da.call(this);var a=gs(Rt,{});u(a.querySelectorAll("li"),function(a){var c=jy(a,"wnd_media_type");this.Xa[c]=a},this);np(this.B(),a);JB(this,P(this.f,"showTypes"));KB(this,P(this.f,"activeType"))};function JB(a,b){1===b.length?a.hide():(a.show(),z(a.Xa,function(a,d){R.aa(a,-1<b.indexOf(d))},a))}
function KB(a,b){!0===(null!=a.m)&&Hl(a.m,r.MediaTypes.css.active,!1);!1!==(null!=a.Xa[b])&&(a.m=a.Xa[b],Hl(a.m,r.MediaTypes.css.active,!0))};function LB(a,b,c){sz.call(this,a,b,c);this.S=null}n(LB,lB);function Yz(a){for(a=a.getParent();a&&"popup"!=a.pd()&&"bubble"!=a.pd()&&"toolbox"!=a.pd();)a=a.getParent();return a}f=LB.prototype;f.Xf=function(a){a.stopPropagation();this.od=jy(a.currentTarget,"wnd_content_switch");a=P(this.f,"switchContainer").toString();Mg(I.j(),a)&&I.j().get(a).Mc(this.od)};
f.ka=function(a){LB.l.ka.call(this,a);var b;this.getParent()&&ma(this.getParent().Oe)?b=this.getParent().Oe():b=MB({});a=this.view.setSize(Ij(this.f,b),Jj(this.f,b));O(this.f,"style",a);!1===this instanceof NB&&ma(this.getParent().Ji)&&this.getParent().Ji(a.width,a.height)};f.Ji=function(a,b){var c=P(this.f,"style");l(c.usedWidth)&&l(c.usedHeight)||(c=MB(c));c.usedWidth+=parseInt(a,10);c.usedHeight+=parseInt(b,10);O(this.f,"style",c)};
f.Oe=function(){var a=P(this.f,"style");null===a?(a=MB({}),O(this.f,"style",a)):l(a.usedWidth)&&l(a.usedHeight)||(a=MB(a),O(this.f,"style",a));return a};function MB(a){a.usedWidth=0;a.usedHeight=0;return a}f.setSize=function(a,b){var c=this.view.setSize(a,b);O(this.f,"style",c);O(this.f,"width",a);O(this.f,"height",b)};function OB(a){return!0===P(a.f,"resize")}
f.Aa=function(a){if(!this.S){var b=this.B().offsetHeight?this.B().offsetHeight+"px":0;b||(b=Jj(this.f,{usedWidth:0,usedHeight:0}));var c=this.B().offsetWidth?this.B().offsetWidth+"px":0;c||(c=Ij(this.f,{usedWidth:0,usedHeight:0}));this.S=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.B(),this,{properties:{type:"popup",text:a,height:b,width:c}})}oB(this.view,!1);this.S.show()};f.Fa=function(){this.S&&(oB(this.view,!0),this.S.dispose(),this.S=null)};
f.X=function(){this.S&&(this.S.dispose(),this.S=null);LB.l.X.call(this)};f.jd=function(a,b){var c=!0,d=eg(this.F);if(d)for(var e=null,g=0,h=d.length;g<h;g++)if(e=d[g],e instanceof LB&&!1===e.jd(a,b)){c=!1;break}return c};function PB(a,b,c){LB.call(this,a,b,c);O(this.f,"extendCssClass",P(this.f,"css").base);this.I=null;this.g={};this.G={};this.U={};this.T={};this.V=this.o=null;this.D=[];this.v=[];this.la={};this.ea=!!P(this.f,"enabledDragDrop");this.xa=new Er}n(PB,LB);f=PB.prototype;
f.ka=function(a){PB.l.ka.call(this,a);a=this.view;null==a.m&&(a.v=gs(Bt,{css:P(a.f,"css")["search-form"],value:"",placeholder:"Search...",maxLength:255}),a.G=a.v.querySelector("input"),a.m=gs(zt,{css:P(a.f,"css").menuItems}),a.B().appendChild(a.v),a.B().appendChild(a.m));this.f.Ea(this.ek,null,this)};
f.ek=function(a,b,c,d){this.Fa();if(l(d.order)&&0!==d.order.length){this.la=b;null===this.I&&(this.I=d.order[0]);a=d.order.length;r.ListMenu.minCountForSearch<a?this.view.pl():this.view.ml();for(b=0;b<a;b++){c=this.f;var e=this.la[d.order[b]];c={id:Number(e[Q(c,"id")]),name:e[Q(c,"name")],identifier:e[Q(c,"identifier")],item_order:null!=e[Q(c,"item_order")]?Number(e[Q(c,"item_order")]):null,html_title:e[Q(c,"html_title")],content_items:e[Q(c,"content_items")],date:e[Q(c,"date")],lang_id:Number(e[Q(c,
"lang_id")]),listing_page_id:Number(e[Q(c,"listing_page_id")]),meta_description:e[Q(c,"meta_description")],meta_keywords:e[Q(c,"meta_keywords")],private_access:null!=e[Q(c,"private_access")]?Number(e[Q(c,"private_access")]):null,publish_date:e[Q(c,"publish_date")]};this.D.push(c.id);e=P(this.f,"css")["item-id-prefix"]+c.id;this.G[e]=c.id;Mg(I.j(),e)?this.g[c.id].Zh(c):this.g[c.id]=I.j().create(e,"wnd.ui.ListMenuItem",this.wd(),this,{id:c.id,create:{data:c},properties:{initRenderFlag:!0,css:P(this.f,
"css"),enbaledDragDrop:this.ea}});this.ea&&(this.U[this.g[c.id].Ke().id]=c.id,this.T[this.g[c.id].vj().id]=c.id);c.id==this.I&&(this.g[c.id].Wa(),this.o=this.g[c.id])}this.v=eg(this.D);this.ea&&(null===this.V&&(this.V=new fA(this)),this.V.observe("onDragstart",this.MA,this),this.V.observe("onDragend",this.KA,this),this.V.observe("onDragover",this.LA,this),this.V.observe("onDrop",this.Ar,this),this.V.init())}else this.notify("onListItemActivate",null,null)};
f.O=function(){PB.l.O.call(this);null!=this.view.yd()&&this.c.H(this.view.yd(),T,m(this.JA,this));null!=this.view.nc()&&(Fr(this.xa,this.view.nc()),this.c.H(this.xa,"key",m(this.NA,this)),this.c.H(this.view.nc(),"blur",m(this.IA,this)))};f.JA=function(a){this.view.Ok();this.view.nc()!==a.target&&this.view.nc().focus()};f.NA=function(a){requestAnimationFrame(m(this.HA,this,a,a.target.value))};f.HA=function(a,b){var c=a.target.value;z(this.g,function(a){a.ql(c)},this);c&&!b?this.view.Im():c||this.view.Hm()};
f.IA=function(a){a.target.value||this.view.Pf()};f.wd=function(){return this.view.wd()};f.na=function(a){"listItemActivate"===a.getType()?(this.o!==a.c&&(null!=this.o&&this.o.pb(),this.o=a.c),this.I=a.c.getId(),a.stopPropagation(),this.notify("onListItemActivate",a.c.getId(),a.c)):"listItemRefresh"===a.getType()&&a.stopPropagation()};function gA(a){z(a.g,function(a){var c=this.V;-1<c.A.v.indexOf(a.getId())&&(c.Ka(a.B()),Rz(c,a.Ke()),Rz(c,a.vj()))},a)}
f.MA=function(a,b){var c=this.g[this.G[b.Bb.id]];Uz(this.V,{sourceElement:b.Bb,realGrip:!0});c.He(!0);this.v=eg(this.D);c=this.v.indexOf(c.getId());this.v.splice(c,1)};
f.LA=function(a,b,c,d,e){if(!l(c))throw new Oa("Unable to find MVC target items.");if("top"===d)try{qp(b.B(),c.B())}catch(g){throw new Oa("Cannot change DOM: goog.dom.insertSiblingBefore("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}else if("bottom"===d)try{rp(b.B(),c.B())}catch(g){throw new Oa("Cannot change DOM: goog.dom.insertSiblingAfter("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}};
f.Ar=function(a,b,c,d){b.He(!1);if(null!==c){a=new gi("moveListItem",1);gr(Ph.j(),a);var e=Bg.j().get(this.f.J()),g={};"bottom"===d?g.after=c.getId():g.before=c.getId();b=b.getId();c=m(this.Hw,this);e.c(b,null,g,c,a)}};f.KA=function(){var a;a=this.V;a={mvcDragging:a.c,mvcDropped:a.P,position:a.M};null===a.mvcDragging&&null===a.mvcDropped||this.Ar(0,a.mvcDragging,a.mvcDropped,a.position)};f.Hw=function(a,b,c){a=c.getData();a=new yg("dataCreate","parent_propagation",this.f.J(),this,a.id);this.ba(a)};
function jA(a,b){var c=a.v.indexOf(b);-1===c&&(c=a.D.indexOf(b));return c}f.Ua=function(a){PB.l.Ua.call(this,a);this.Aa()};function QB(a){a.Aa();z(a.g,function(a){a.dispose()},a);a.g={};a.G={};a.U={};a.T={};a.I=null;a.o=null;a.v=[];a.D=[];a.la={};null!=a.V&&(a.V.reset(),a.V=null)}f.Dj=function(a){a=jA(this,a.getId());return this.g[this.v[a-1]]};
f.Y=function(a){PB.l.Y.call(this,a);a.J()===this.f.J()&&("dataCreate"===a.getType()?(QB(this),this.f.update("data_updated"),this.f.Ea(this.ek,null,this),this.I=a.g):"dataUpdate"!==a.getType()||a.c instanceof kA?"dataDelete"===a.getType()&&(QB(this),this.f.update("data_deleted"),this.f.Ea(this.ek,null,this)):(this.f.update("data_updated"),this.f.Ea(this.ek,null,this)))};I.j().register("wnd.ui.ListMenu",Kj,pB,PB);function RB(a,b,c){LB.call(this,a,b,c);this.la={};this.contents={};this.Fb=[];this.wc=500;this.Xa=400;this.ea=this.gb="";this.xa=[];this.vm={}}n(RB,LB);f=RB.prototype;f.pd=function(){return"container"};f.ka=function(a){this.Fb=$o("wnd-content-switcher",this.view.B());RB.l.ka.call(this,a);this.fa()};f.show=function(){this.B()?(this.view.show(),this.O()):this.view.render();this.Kx()};f.hide=function(){this.view.hide();this.Za();this.notify("onHide");return!0};
function SB(a){a.view.hide();a.notify("onHideContent")}f.O=function(){RB.l.O.call(this);0!==this.Fb.length&&u(this.Fb,function(a){this.c.H(a,T,this.Xf)},this)};
f.K=function(a,b,c,d){var e;l(this.vm[a])&&(d=this.vm[a],b=d.type,c=d.rC,d=d.wC);!0===Mg(I.j(),a)?(b=I.j().get(a),b.show()):b=I.j().create(a,b,this.view.Be(),this,d);null!=c&&(d=b,c=c?c:this.ua(),this.la[c]||(this.la[c]={},this.xa.push(c)),this.la[c][a]||(this.la[c][a]=d));this.contents[a]=b;"popup"==this.pd()||"bubble"==this.pd()||"toolbox"==this.pd()?e=this:e=Yz(this);return e.nd[a]=b};f.vm=null;
function TB(a,b,c){z(UB(a,b),function(a){if(!0===c||!1===VB(this,a,b)){var e=!!c,g=a.B();if(g){var h=bp(r.PopupContentContainer.animateOverlayCss,g);null!==h&&sp(h);!1===e&&(R.setStyle(g,"position","relative"),R.setStyle(g,"top",0),R.setStyle(g,"left",0),R.setStyle(g,"width","auto"))}a.show()}},a)}function WB(a,b,c){z(UB(a,b),function(a){!0!==c&&!1!==XB(this,a,b)||a.hide()},a)}f.ua=function(){return"default"};function UB(a,b){var c=b?b:a.ua();return a.la[c]}
f.Mc=function(a,b){if(this.ea!=a){var c;z(this.la,function(d,e){e==a?(TB(this,e,b),c=e):WB(this,e,b)},this);this.ea=c}};
function VB(a,b,c){if(!1===l(b.Ug)||"function"===typeof b.Ug&&!0!==b.Ug()||!1===l(c)||""===a.ea)return!1;b.show();var d=b.B();if(!1===b instanceof YB){var e=b.getParent().B();R.setStyle(e,"overflowX","hidden")}b=R.getBounds(d);if(a.xa.indexOf(c)>a.xa.indexOf(a.gb))c=a.wc,R.setStyle(d,"width",b.width+"px"),R.setStyle(d,"position","absolute"),R.setPosition(d,b.left+b.width,0);else{c=a.Xa;var g=bp(r.PopupContentContainer.animateOverlayCss,d);if(null!==g){var h=new Aw(g,c);h.play();Vm(h,"end",function(){sp(g)})}a instanceof
wr||!1===a instanceof NB&&Yz(a)instanceof wr?R.setPosition(d,-(b.width/2),0):R.setPosition(d,b.left-b.width,0)}a=new tw(d,[0,0],c,de);a.play();Vm(a,"end",function(){R.setStyle(d,"position","relative");R.setStyle(d,"width","auto");!0===l(e)&&R.setStyle(e,"overflowX","auto")});return!0}
function XB(a,b,c){if(!1===l(b.Ug)||"function"===typeof b.Ug&&!0!==b.Ug()||!1===l(c)||a.ea!==c)return!1;var d=b.B(),e=R.pa(d);R.setStyle(d,"width",e.width+"px");R.setStyle(d,"position","absolute");!1===b instanceof YB&&R.setStyle(d,"overflowX","hidden");a.xa.indexOf(c)>a.xa.indexOf(a.gb)?(a=a.Xa,e=[e.width,0],e=new tw(d,e,a,de),e.play()):(a=a.wc,c=ip("div",{"class":r.PopupContentContainer.animateOverlayCss,style:"width:"+e.width+"px;height:"+e.height+"px;opacity:0;"}),d.appendChild(c),e=[-(e.width/
2),0],e=new tw(d,e,a,de),e.play(),(new Bw(c,a)).play());Vm(e,"end",function(){!1===b instanceof YB&&R.setStyle(d,"overflowX","auto");b.hide();R.setPosition(d,0,0)});return!0}f.Ug=function(){return!0===P(this.f,"switchAnimation")};function ZB(a,b){a.gb=b;a.ea=b}
f.Kx=function(){var a=P(this.f,"width"),b=P(this.f,"height");if(!0===(!0===P(this.f,"resizeAnimation"))&&null!=a&&null!=b){var c;c=Yz(this).view.Va;var d=R.pa(c),a=new vw(c,[d.width,d.height],[parseInt(a,10),parseInt(b,10)],r.Popup.animationDuration.resize);a.H("end",m(this.Cs,this));a.H("animate",m(this.ls,this));a.play()}};f.Cs=function(){var a=P(this.f,"width"),b=P(this.f,"height");a&&b&&(Yz(this).Ji(a,b),Yz(this).setSize(a,b),Yz(this).vf())};f.ls=function(){Yz(this).vf(!0)};
f.na=function(a){if("popupResize"===a.getType()&&"container"==this.pd()&&Yz(this).C()===a.c.C()&&OB(this)){var b=Yz(this),c=R.pa(b.B());a=this.Oe().width;b=c.height-(b.Oe().height-this.Oe().height);this.view.setSize(a+"px",b+"px")}};function Gz(a,b,c){RB.call(this,a,b,c)}n(Gz,RB);Gz.prototype.fa=function(){};Gz.prototype.K=function(a,b,c,d){a=Gz.l.K.call(this,a,b,c,d);b=this.ib();D(b.v)||(b.v=[]);return a};Gz.prototype.ib=function(){for(var a=this.getParent();a;){if(a instanceof Fz)return a;a=a.getParent()}throw new Oa("Unable to find the form object.");};Gz.prototype.setState=function(a){O(this.f,"state",a);this.view.vk();this.notify("onChangeState",a)};I.j().register("wnd.ui.Fieldset",Mj,rB,Gz);function $B(a,b,c){RB.call(this,a,b,c);this.v=[]}n($B,Gz);$B.prototype.O=function(){$B.l.O.call(this);this.c.H(this.view.sh,T,m(this.Dk,this));null!=this.view.Cf&&this.c.H(this.view.Cf,T,m(this.Zj,this))};$B.prototype.Dk=function(){this.view.P?this.reset():tB(this.view);this.notify(this.view.P?"onOpen":"onClose",this)};
$B.prototype.Zj=function(a){a.stopPropagation();a=aC(this);if(!a)return this.notify("onCheckAccess",this,a),!1;var b=0;a=!0;var c=bC(this);ga(this.ib())&&cC(this.ib(),c)&&(u(c,function(a){Bz(a)&&(Cz(a),b++)},this),0<b&&(a=this.ib().nh(bC(this))),a&&this.view.P&&tB(this.view));return!0};function bC(a){D(a.v)&&u(a.F,function(a){a instanceof vz&&this.v.push(a)},a);return a.v}function aC(a){var b=!0;u(bC(a),function(a){zz(a)||(b=!1)},a);return b}
$B.prototype.reset=function(){this.view.P&&tB(this.view);u(bC(this),function(a){a.reset()},this)};I.j().register("wnd.ui.AdvancedFieldset",Mj,sB,$B);function Fz(a,b,c){RB.call(this,a,b,c);this.v=[];this.Na=[];this.o=null;this.fb={}}n(Fz,RB);function dC(a){a=a.f;a.v||(a.v=0);a.v++;return a.C()+"_item_"+a.v}f=Fz.prototype;f.K=function(a,b,c,d){a=Fz.l.K.call(this,a,b,c,d);D(this.v)||(this.v=[]);return a};f.O=function(){Fz.l.O.call(this);this.c.H(this.B(),"submit",m(this.zc,this));var a=Yz(this);a&&P(this.f,"saveBeforeClose")&&eC(a,"onBeforeClose",m(this.Ci,this),a)};f.Ci=function(){this.ra()};
f.zc=function(a){a.stopPropagation();a.preventDefault();Yz(this)&&Yz(this).mb()};f.ka=function(a){Fz.l.ka.call(this,a);this.pi()};f.fa=function(){};f.show=function(){this.B()&&P(this.f,"updateBeforeShow")&&this.Cc();Fz.l.show.call(this);this.pi()};function cC(a,b){var c=!0,d=b||a.Zc();u(d,function(a){a.Ya()&&!a.Wh()?(a.setState(Ny),c&&a.focus(),c=!1):wz(a)!==dj&&a.setState("defaultItem")},a);return c}
f.ra=function(){var a=[];u(this.Zc(),function(b){!b.Ul()||b.G&&!b.Wl()||b instanceof Vz||!Dz(b)||!b.Ya()||a.push(b)},this);return this.nh(a)};f.nh=function(a){var b=!1;if(cC(this,a)){var c={};u(a,function(a){fC(this,c,this.uj(a))},this);this.Ye(c);b=!0}return b};f.Ye=function(a){this.fb=a=a||this.Gc();this.f.ra(!0,a)};function gC(a,b){return wh(a.Zc(),function(a){return a.getName()==b},a)}function hC(a,b){return wh(a.Zc(),function(a){return a.C()==b},a)}f.Zc=function(){D(this.v)&&iC(this);return this.v};
function jC(a){D(a.Na)&&iC(a);return a.Na}f.Gc=function(){var a={},b;u(this.Zc(),function(c){!c.Ul()||c.G&&!c.Wl()||c instanceof Vz||!Dz(c)||!c.Ya()||(b=this.uj(c),fC(this,a,b))},this);return a=ff(a,{})};f.Cc=function(){u(this.Zc(),function(a){this.tk(a)},this)};f.uj=function(a){return{name:a.getName(),value:a.getValue()}};f.tk=function(a){ma(a.getName)&&ma(a.lc)&&(a.G||a.lc("value",this.Ek(a)),a.oi())};f.Y=function(a){"children_propagation"==a.h&&a.J()==this.J()&&a.g==this.C()&&this.Cc()};
function Ez(a){return!!P(a.f,"autoSave")}f.lk=function(a,b){var c=hC(this,a);null!=c&&(b?c.show():c.hide());return c};function iC(a){for(var b=a.F,c,d=0,e=b.length;d<e;d++)c=b[d],c instanceof Gz?kC(a,c):!1!==c instanceof vz&&c.Ta()&&a.v.push(c)}function kC(a,b){a.Na.push(b);for(var c=b.F,d,e=0,g=c.length;e<g;e++)d=c[e],d instanceof Gz?kC(a,d):d.Ta()&&a.v.push(d)}
function fC(a,b,c){var d=c.name,e=c.value;-1!=d.indexOf(":")?(d=d.split(":"),c=d[0],cg(d,c),d=d.join(":"),b[c]={},fC(a,b[c],{name:d,value:e})):b[c.name]=e}f.Ek=function(a){var b=a.getName();if(-1!=b.indexOf(":")){b=b.split(":");a=N(this.f,b[0]);for(var c=1,d=b.length;c<d;c++)null!=a&&(a=a[b[c]])}else a=N(this.f,a.getName());return a};f.hide=function(){var a=Fz.l.hide.call(this);this.notify("onHide");return a};
function lC(a){var b=!0;a.v=[];D(a.Zc())?b=!1:u(a.Zc(),function(a){a.v||(b=!1)},a);return b}f.pi=function(){lC(this)?this.Fa():this.Aa()};f.Aa=function(a){if(null===this.o){var b=this.view.pa();this.o=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.B(),this,{properties:{type:vj,text:a,height:b.height,width:b.width}})}this.o.Ya()||(this.o.show(),mC(this,!1))};f.Fa=function(){null!=this.o&&(this.o.dispose(),this.o=null,mC(this,!0))};
function mC(a,b){u(a.Zc(),function(a){if(b){var d=P(a.f,"display");ma(d)&&(d=d());if(!ka(d)||d)a.view.Vg()||a.view.show()}else a.view.hide()},a);a.notify("onChangeItemsVisibility")};function nC(a,b,c){$B.call(this,a,b,c);this.o=this.g=null}n(nC,$B);f=nC.prototype;f.O=function(){nC.l.O.call(this);this.c.H(this.B(),T,m(this.Yu,this))};f.Yu=function(a){a=a.target;("LABEL"==a.nodeName||Cl(a,"wnd-form-item-icon"))&&this.reset()};
f.K=function(a,b,c,d){if(0<this.F.length)throw new Oa("InfoFieldset can contain only one child.");this.g=nC.l.K.call(this,a,b,c,d);this.g.observe("onViewRender",m(this.om,this,this.g),this);this.g.observe("onReset",m(this.qm,this),this);this.g.observe("onSaveDataValue",m(this.qm,this),this);this.g.observe("onSetValue",m(this.pm,this),this);this.g.show();this.g instanceof cA&&(this.o=new Er(this.g.Ta()),this.c.H(this.o,"key",m(this.FA,this)));return this.g};f.FA=function(a){13===a.keyCode&&this.Zj(a)};
f.om=function(a){this.qm(0,a)};f.qm=function(a,b){this.view.we(b.Lh())};f.pm=function(a,b){this.view.we(b.Lh())};f.Dk=function(a){var b=aC(this);this.view.P||b?nC.l.Dk.call(this,a):(a.stopPropagation(),this.notify("onCheckAccess",this,b))};f.Zj=function(a){(a=nC.l.Zj.call(this,a))&&null!=this.g&&(this.view.we(this.g.Lh()),this.g.Ta().blur());return a};f.Za=function(){nC.l.Za.call(this);null!=this.o&&(this.o.dispose(),this.o=null)};I.j().register("wnd.ui.InfoFieldset",Mj,vB,nC);function oC(a,b,c){Fz.call(this,a,b,c)}n(oC,Fz);oC.prototype.Ye=function(a){this.fb=a=a||this.Gc();var b=this.f,c=this.wf,d=b.P;b.P=!0;a&&Gj(b,a,c,this);b.P=d};oC.prototype.wf=function(){};oC.prototype.tk=function(a){"function"===typeof a.getName&&"function"===typeof a.lc&&Fj(this.f,a.getName(),m(this.Nq,this,a),this)};oC.prototype.Nq=function(a,b,c){a.lc("value",c)};function pC(a,b,c){nC.call(this,a,b,c)}n(pC,nC);pC.prototype.Dk=function(a){Cl(a.target,"wnd-form-item-tooltip")?a.stopPropagation():(this.view.P&&(a=this.g,a.view.Vc(""),a.tf()),tB(this.view),this.notify(this.view.P?"onOpen":"onClose",this))};pC.prototype.om=function(a,b){pC.l.om.call(this,a,b);a.isEmpty()||tB(this.view)};pC.prototype.reset=function(){(this.g.isEmpty()&&this.view.P||!this.g.isEmpty()&&!this.view.P)&&tB(this.view);this.g.reset()};
pC.prototype.pm=function(a,b){pC.l.pm.call(this,a,b);this.reset()};I.j().register("wnd.ui.SwitchFieldset",Mj,wB,pC);function qC(a,b,c){Fz.call(this,a,b,c);this.g=null}n(qC,oC);qC.prototype.fa=function(){this.f.Ea(this.Gb,null,this)};qC.prototype.Gb=function(a,b){this.Fa();this.qn.apply(this,arguments);rC(this)};function rC(a){u(a.Zc(),function(a){a.observe(a instanceof $B?"onEditStart":"onClick",m(this.W,this),this);a instanceof $B&&a.observe("onEditEnd",m(this.hb,this),this)},a);u(jC(a),function(a){a instanceof $B&&a.observe("onOpen",m(this.W,this),this)},a)}
qC.prototype.W=function(a,b){this.g instanceof $B&&(b.getParent()===this.g||b===this.g)||(null!=this.g&&(this.g.reset(),this.g=null),b instanceof $B&&(this.g=b))};qC.prototype.hb=function(){this.g=null};function sC(a){u(a.Zc(),function(a){a.reset()},a);u(jC(a),function(a){a.reset()},a)};function tC(a,b,c){RB.call(this,a,b,c);a=P(this.f,"extendCssClass");O(this.f,"extendCssClass","wnd-popup-controls"+(a?" "+a:""));this.o={Submit:m(this.Lk,this),ConfirmDelete:m(this.Lk,this),ConfirmDisableMemberLogin:m(this.Lk,this),Cancel:m(this.Ii,this),Delete:m(this.Sr,this),Close:m(this.Kk,this),SaveAnyway:m(this.Wr,this),Reload:m(this.Hn,this),Login:m(this.Hn,this),Upgrade:m(this.Xr,this),Publish:m(this.Vr,this)}}n(tC,RB);f=tC.prototype;f.fa=function(){};
f.Id=function(a){z(a,function(a,c){O(this.f,c,a)},this);this.view.fc()};f.O=function(){this.Za();tC.l.O.call(this);z(this.Jg(),function(a){this.c.H(a,T,m(this.pA,this))},this)};f.pA=function(a){a.stopPropagation();a=jy(a.target,"wnd_content_button");return"function"!==typeof this.o[a]?!1:this.o[a].call(this,a)};f.Lk=function(){Yz(this).mb();return!0};f.Ii=function(){Yz(this).cancel();return!0};
f.Sr=function(){var a=Yz(this),b=""+P(this.f,"confirmDeleteTitle"),c=null;ma(a.remove)&&(c=m(a.remove,a));uC(E.j(),{title:b,text:"Warning: all content will be permanently removed!",leftButtons:["ConfirmDelete"]},this,c);return!0};f.Kk=function(){var a=Yz(this);a.cancel();a.hide(null,!0);return!0};f.Wr=function(){var a=Yz(this),b=P(a.f,"serverObject");vC(wC.j());null!=b&&xC(b);a.mb()};f.Hn=function(){Yz(this).zr()};f.Xr=function(){this.notify("onUpgrade")};f.Vr=function(){this.notify("onPublish")};
f.cb=function(a,b){this.view.cb(a,b)};f.Jg=function(){return this.view.hb};I.j().register("wnd.ui.BasicControlBar",Oj,xB,tC);function yC(a,b,c){RB.call(this,a,b,c)}n(yC,RB);yC.prototype.fa=function(){};I.j().register("wnd.ui.BasicNavigationBar",Pj,zB,yC);function zC(a,b,c){RB.call(this,a,b,c)}n(zC,RB);zC.prototype.fa=function(){};zC.prototype.O=function(){zC.l.O.call(this);this.view.We&&this.c.H(this.view.We,T,this.g)};zC.prototype.g=function(a){a.stopPropagation();Yz(this).hide(null,!0);a=new H("openProjectSettings",this);this.ba(a)};I.j().register("wnd.ui.InfoBubbleContent",Lj,DB,zC);function AC(a,b,c){LB.call(this,a,b,c)}n(AC,LB);AC.prototype.pd=function(){return"popup"};AC.prototype.Id=function(a){z(a,function(a,c){O(this.f,c,a)},this);this.view.fc()};I.j().register("wnd.ui.InfoPopupContent",Hj,EB,AC);function BC(a,b,c){tC.call(this,a,b,c)}n(BC,tC);BC.prototype.Ii=function(){this.notify("onUploadCancel");return!0};I.j().register("wnd.ui.MediaFooter",Oj,xB,BC);function CC(a,b,c){RB.call(this,a,b,c)}n(CC,yC);f=CC.prototype;f.O=function(){CC.l.O.call(this);z(this.view.xe,function(a){this.c.H(a,T,m(this.cx,this))},this)};f.Xf=function(){};f.cx=function(a){a.stopPropagation();a=jy(a.currentTarget,"wnd_media_upload");this.notify("onUploadClick",a)};
function DC(a,b){HB(a.view,!1);HB(a.view,!0,b);if(b===Uj||b===Vj)var c=r.MediaHeader.cssFile,d=r.MediaHeader.cssImage,e=a.view.B();else c=r.MediaHeader.cssImage,d=r.MediaHeader.cssFile,e=a.view.B();Fl(e,d);Dl(e,c)}function EC(a){HB(a.view,!1);var b=r.MediaHeader.cssImage,c=r.MediaHeader.cssFile;a=a.view.B();Fl(a,c);Dl(a,b)}f.Aa=function(){this.view.Qc(!0)};f.Fa=function(){this.view.Qc(!1)};I.j().register("wnd.ui.MediaHeader",Pj,GB,CC);function FC(a,b,c){RB.call(this,a,b,c);this.g=P(this.f,"activeType")}n(FC,RB);var Uj="myFiles",Vj="myFavicons",Tj="myImages",fr="myVideos";function GC(a,b){O(a.f,"activeType",b);a.g=b;KB(a.view,a.g)}FC.prototype.fa=function(){};FC.prototype.O=function(){FC.l.O.call(this);z(this.view.Xa,function(a){this.c.H(a,T,m(this.o,this))},this)};
FC.prototype.o=function(a){a.stopPropagation();a=a.currentTarget;!1!==ky(a,"wnd_media_type")&&(this.g=jy(a,"wnd_media_type"),KB(this.view,this.g),this.notify("onChangeMediaType",this.g))};function HC(a,b){var c=Tj;"static_server"==a&&(c=qo(b)?"publicIcons":"publicImages");return c}I.j().register("wnd.ui.MediaTypes",Sj,IB,FC);function IC(){K.call(this);return this}n(IC,K);f=IC.prototype;f.Cr="";f.Ee="";f.Sh="";f.Eq="";f.bb="";f.Br=0;f.Dr=0;f.Rc="";f.df="";f.Nn="";f.Fg="";f.Kf=0;
f.Sd=function(a){for(var b in a)if(a.hasOwnProperty(b))switch(b){case "id":this.Ha(a[b]);break;case "mediaType":JC(this,a[b]);break;case "dataType":this.Ab(a[b]);break;case "color":KC(this,a[b]);break;case "image":LC(this,a[b]);break;case "src":MC(this,a[b]);break;case "poster":NC(this,a[b]);break;case "height":this.setHeight(a[b]);break;case "width":this.setWidth(a[b]);break;case "mime":OC(this,a[b]);break;case "cssClassName":PC(this,a[b]);break;case "backgroundType":QC(this,a[b]);break;case "filename":RC(this,
a[b]);break;case "brightness":SC(this,a[b])}return this};f.Ha=function(a){this.Cr=a;return this};f.getId=function(){return this.Cr};function JC(a,b){a.ja=b;return a}f.Ab=function(a){this.m=a;return this};f.J=function(){return this.m};function KC(a,b){a.Ee=b;return a}function LC(a,b){a.Sh=b;return a}function MC(a,b){a.Eq=b;return a}f.ya=function(){return this.Eq};function TC(a){return a.bb?a.bb:a.ya()}function NC(a,b){l(b.src)?a.bb=b.src:a.bb=b;return a}
f.setHeight=function(a){this.Br=parseInt(a,10);return this};f.getHeight=function(){return this.Br};f.setWidth=function(a){this.Dr=parseInt(a,10);return this};f.Ma=function(){return this.Dr};function OC(a,b){a.Rc=b;return a}function PC(a,b){a.df=b;return a}function QC(a,b){a.Nn=b;return a}f.Jh=function(){return this.Nn};function RC(a,b){a.Fg=b;return a}function SC(a,b){a.Kf=parseFloat(b);return a}function UC(a){return"filesystem_files"===a.J()&&(300>a.getHeight()||1E3>a.Ma())};function VC(a,b){K.call(this);a&&(this.c=null,a&&0<a.length&&(this.c=$e(a)));b&&WC(this,b);this.g=!1;this.o=!0}n(VC,K);f=VC.prototype;f.bf={};
function XC(a){a.h=[];a.m={};a.L=0;a.F=0;a.notify("onInit");var b=new H("saveContentItems");Ci(ag.j(),b);a.g=!0;for(b=0;b<a.c.length;b++)if(a.qb()){var c,d=a,e=a.c[b];c=new qf;c.h=e;c.data.file_active=d.o;d.v&&(c.data.parent_file_id=d.v);d.M&&(c.data.effect=d.M);c.data.file_group=d.A;c.data.file_name=e.name;var e=c,g=Math.floor(16777216*(1+Math.random())).toString(16).substring(1);e.c=g;lf(c,m(d.Gw,d));d=m(d.zw,d);c.g.push(d);a.notify("onStart",c);a.h.push(c.c);"image"==a.A?(d=a.c[b],YC(d.type)&&
F(t.fileUploadAllowExtension,ZC(d.name))?a.m[c.c]=c:(c='Cannot upload image "'+(a.c[b].name+('" with "'+(a.c[b].name.replace("image/","")+'" extension.'))),a.gh(a.c[b],c))):vo.j().hasFeature("premium_upload")?F(t.restrictedUploadExtensions,ZC(a.c[b].name))?(c='Cannot upload file "'+(a.c[b].name+('" with "'+(ZC(a.c[b].name)+'" extension.'))),a.gh(a.c[b],c)):$C(a,c):F(t.fileUploadAllowExtension,ZC(a.c[b].name))?$C(a,c):(aD(),a.cancel())}"image"==a.A&&bD(a,q.UploadManager.processImagesCount)}
function bD(a,b){!1===(null!=b)&&(b=1);for(var c=0;c<b;c++){var d=Se(a.m);if(null!=d){var e=a,g=a.m[d],h=new FileReader;h.onload=m(e.Cw,e,h,g);var k=g.h;e.notify("onLoading",g);null!=k&&(cD(k.type)?h.readAsArrayBuffer(k):h.readAsDataURL(k));delete a.m[d]}}}function YC(a){return F(q.UploadManager.supportedImagesMime,a)}function ZC(a){return a.substr(a.lastIndexOf(".")+1).toLowerCase()}
f.cancel=function(){this.g=!1;for(var a=Ph.j(),b=0;b<a.c.length;b++)a.og[a.c[b]]&&gy(a.og[a.c[b]]),delete a.h[a.c[b]];a.c=[];for(b=0;b<a.g.length;b++)delete a.h[a.g[b]];a.g=[];this.notify("onFinish",this.h)};
f.Gw=function(a,b,c){0==(c.data.chunks_total||0)||rf(c)==(c.data.chunks_total||0)-1||"error"==a?(this.notify("onResponse",a,b,c),"success"==a?(this.L++,a=RC(OC(MC((new IC).Ha(b.id).Ab(b.dataType),b.url),b.mime),b.name).setWidth(b.width).setHeight(b.height),this.notify("onComplete",a,c),a=this.h.indexOf(c.c),-1<a&&this.h.splice(a,1)):this.F++,this.L+this.F==this.c.length&&(this.g=!1,this.notify("onFinish",this.h)),c=c.c,null!=this.bf[c]&&delete this.bf[c]):$C(this,c)};
f.zw=function(a,b,c){var d=c.c;null!=this.bf[d]&&(b={loaded:b.loaded+rf(c)*t.maxChunkFileLimit,total:this.bf[d].size});this.notify("onProgress",a,b,c)};
function $C(a,b){if(a.qb()){var c=dD(a,b);if(c.size>t.maxUploadFileLimit)a.gh(c,'The file "'+(c.name+('" is too big. Maximum size for upload is '+(Math.round(t.maxUploadFileLimit/1048576)+" MB"+(", but your file is "+(Math.round(c.size/1048576)+" MB."))))));else if(c.size>t.maxChunkFileLimit)if(vo.j().hasFeature("premium_upload")){var c=b.c,d=dD(a,b),e=new gi("fileUpload",1);null!=a.bf[c]?b.data.chunk_processed=rf(b)+1:(a.bf[b.c]=d,b.data.chunk_processed=0,b.data.chunks_total=Math.ceil(d.size/t.maxChunkFileLimit));
b.h=new Blob([d.slice(rf(b)*t.maxChunkFileLimit,(rf(b)+1)*t.maxChunkFileLimit)],{type:d.type});Rh(Ph.j(),b,e)}else aD(),a.cancel();else c=new gi("fileUpload",1),Rh(Ph.j(),b,c)}}function dD(a,b){var c=b.c,d=b.h;null!=a.bf[c]&&(d=a.bf[c]);return d}
f.Cw=function(a,b){var c=b.h,d=1;if(cD(c.type)){var e=a.result,g=1,e=(new Gf).getData(e);!1!==e&&e.Orientation&&(g=e.Orientation);F(q.UploadManager.imageOrientation,g)||(g=1);d=g}g=new Image;e='Image "'+(c.name+'" is corrupted and cannot be uploaded.');g.onerror=m(this.gh,this,c,e,b);g.onload=m(this.Ov,this,g,b,d);try{if(cD(c.type)){for(var h,k=c.type,d="",p=new Uint8Array(a.result),w=0;w<p.byteLength;w++)d+=String.fromCharCode(p[w]);h="data:"+k+";base64,"+window.btoa(d);g.src=h}else g.src=a.result}catch(v){this.gh(c,
e,b)}};
f.Ov=function(a,b,c){var d=b.h,e;e=q.UploadManager.maxCanvasResolution.low;if(Xp)e=q.UploadManager.maxCanvasResolution.low;else if(aq&&(e=q.UploadManager.maxCanvasResolution.normal),Zp&&(e=q.UploadManager.maxCanvasResolution.normal,-1!=window.navigator.userAgent.indexOf("Linux")&&(e=q.UploadManager.maxCanvasResolution.high)),Yp||$p)e=q.UploadManager.maxCanvasResolution.high;if(a.width>e||a.height>e)this.gh(d,'Width or height of image "'+(d.name+('" exceeds the maximum limit of '+(e+"px. Please try to resize the image."))),b);
else{e=eD(a,d.type,q.FilesystemPreviewSize.small,c);this.notify("onPreview",b,e);e=q.UploadManager.maxResizeImageDimension;if(a.width>e||a.height>e||1<c)e=eD(a,d.type,e,c),a=fD(e,d.type),b.h=a;b.data.file_name=d.name;$C(this,b);bD(this)}};f.gh=function(a,b,c){this.notify("onError",a,b,c);this.F++;this.L+this.F==this.c.length?(this.g=!1,this.notify("onFinish",this.h)):bD(this)};function cD(a){return F(q.UploadManager.supportedExifMime,a)}
function eD(a,b,c,d){var e=document.createElement("canvas"),g=a.width,h=a.height;if(g>c||h>c)g>h?(h*=c/g,g=c):(g*=c/h,h=c);var k=q.UploadManager.imageTransformation[d];k.ratio&&(g=[h,h=g][0]);e.width=g;e.height=h;d=e.getContext("2d");d.translate(g/2,h/2);k.flip&&d.scale(-1,1);d.rotate(k.degree*Math.PI/180);k.ratio?d.drawImage(a,-h/2,-g/2,h,g):d.drawImage(a,-g/2,-h/2,g,h);if(c==q.FilesystemPreviewSize.small){a=d.getImageData(0,0,g,h);c=a.data;for(g=0;g<c.length;g+=4)h=.34*c[g]+.5*c[g+1]+.16*c[g+2],
c[g]=h,c[g+1]=h,c[g+2]=h;d.putImageData(a,0,0)}return e.toDataURL(b)}function fD(a,b){for(var c=window.atob(a.split(";base64,")[1]),d=new Uint8Array(c.length),e=0;e<c.length;++e)d[e]=c.charCodeAt(e);return new Blob([d],{type:b})}function WC(a,b){var c=["image","file","favicon"];b&&-1!=c.indexOf(b)||(b="image");a.A=b}function gD(a,b,c,d){a.A="image";if(!1===YC(c))throw new Ha("Only image can be set by this method");b=fD(b,c);b.name=d;a.c=[b]}f.qb=function(){return this.g};function hD(){K.call(this)}n(hD,K);da(hD);
function iD(a,b,c){c=c||!1;a=q.VideoLoaderManager.orientationClassName;var d=q.FilesystemPreviewSize.small,e=Yq(Tq.j(),b.bb,b.J(),d);null===e&&(e=po(b.bb,b.J(),d));var g=q.VideoLoaderManager.className+" ",g=b.Ma()>=b.getHeight()?g+a.landscape:g+a.portrait,d="img";a=null;b.ja!==fr||c||(d="div",a=" ");var g={"data-video":po(b.ya(),b.J()),"data-video-width":b.Ma(),"data-video-height":b.getHeight(),"class":g},h=b.si;null!=h&&(h.c&&(g["data-video-sound"]=""),g["data-video-start"]=h.h);if("videos"===b.ja||
c)g.src=e;return Pu(d,g,a)};function jD(a,b,c){K.call(this);a&&(this.h=a);b&&(this.c=b);c&&(this.A=c);return this}n(jD,K);jD.prototype.getSelection=function(){return this.h};jD.prototype.ea=function(){return this.c};jD.prototype.getParent=function(){return this.A};function kD(a,b){K.call(this);a&&lD(this,a);b&&mD(this,b);return this}n(kD,K);function lD(a,b){a.c=b;return a}kD.prototype.getType=function(){return this.c};function mD(a,b){a.A=b;return a}kD.prototype.getParent=function(){return this.A};function nD(){IC.call(this);return this}n(nD,IC);nD.prototype.Sd=function(a){nD.l.Sd.call(this,a);for(var b in a)if(a.hasOwnProperty(b))switch(b){case "mediaItemType":oD(this,a[b]);break;case "isUsed":this.g=1==a[b]}return this};function oD(a,b){a.c=b;return a};function pD(a,b,c){M.call(this,a,b,c);this.I={};this.Xa=[];this.W={};this.S=[];this.hb=null}n(pD,Lj);f=pD.prototype;
f.fh=function(a,b){this.W={};this.S=[];if(null!=b.order&&!D(b.order)){this.S=b.order;Bh(this.Xa,b.order);for(var c,d,e,g=0,h=b.order.length;g<h;g++){c=b.order[g];d=a[c];e=JC(oD((new nD).Ha(c),P(this,"itemType")).Ab(this.dataType),P(this,"mediaType"));if(null!=d[Q(this,"link")]){var k=e,p=q.FilesystemPreviewSize.small;"favicon"===P(this,"fileGroup")&&(p=null);p=po(d[Q(this,"src")],"filesystem_files",p);OC(RC(MC(LC(k,p),d[Q(this,"src")]),d[Q(this,"name")]).setWidth(d[Q(this,"width")]).setHeight(d[Q(this,
"height")]),d[Q(this,"mime_type","filesystem_types")]).g=d[Q(this,"is_used")]}else null!=d.hash?(k=e,OC(MC(k,d.path).setWidth(d.width).setHeight(d.height),d.mime),p="",d.type===qD||d.type===rD||d.type===sD?(p=po(d.poster,"static_server",q.FilesystemPreviewSize.small),NC(k,d.poster)):p=d.type===tD?po(d.path,"static_server"):po(d.path,"static_server",q.FilesystemPreviewSize.small),LC(k,p)):null!=d[Q(this,"source")]&&(k=d,NC(LC(MC(e,k[Q(this,"url")]).setWidth(k[Q(this,"width")]).setHeight(k[Q(this,"height")]),
k[Q(this,"thumbnail")]),k[Q(this,"thumbnail")]));this.I[c]=e;this.W[c]=e}}};f.cn=function(){return this.Ad()?this.Xa:null};f.Ad=function(){return!Xe(this.I)};f.Aj=function(){return this.Ad()?0:Re(this.Ad()?this.I:null)};f.ne=function(a){return null!=this.I[a]?this.I[a]:null};function uD(a,b){qB.call(this,a,b);this.h={"class":"wnd-media-list"};this.F={};this.La={};this.kb={};this.ic={};this.G=null;this.te=!1;this.I=this.m=this.R=null}n(uD,qB);uD.prototype.da=function(){null===this.I&&(this.I=Tr(Mt,{css:"wnd-media-items"+(P(this.f,"dragDrop")?" wnd-media-list-drag-area":"")}),this.B().appendChild(this.I))};
function vD(a,b,c){l(c)&&c||(wD(a),a.F={});null===b?xD(a):(u(b,function(a){if(null==this.F[a]){var b=yD(this,this.f.ne(a));null!=b&&(this.I.appendChild(b),null!=this.F[a]||(this.F[a]=b))}},a),a.notify("onRenderContent"))}
function yD(a,b){var c={tl:b.getId(),css:r.MediaList.itemCssPrefix+b.c};b.Sh&&(c.xx=b.Sh);switch(b.c){case zD:c.name=b.Fg;break;case sD:c.css+=hr(b.Ma(),b.getHeight());if("videos"===b.ja||b.ja===fr)c.css+=" wnd-media-video";P(a.f,"checkLowResolution")&&UC(b)&&(c.css+=" wnd-image-low-resolution");c.Pm=!0;break;case AD:c.Pm=!0;break;case BD:c.backgroundColor=b.Ee;break;case tD:c.Pm=!0;break;default:return null}return Tr(Nt,c)}function xD(a){wD(a);a.R=Tr(Ot);a.B().appendChild(a.R)}
function CD(a){null!=a.R&&(sp(a.R),a.R=null)}function DD(a,b,c){if(!a.F[b]){var d=(new nD).Ha(b);P(a.f,"fileGroup")==zD?oD(RC(d,c),zD):oD(LC(d,no(r.MediaList.imagePlaceholder.src)).setWidth(r.MediaList.imagePlaceholder.width).setHeight(r.MediaList.imagePlaceholder.height),sD);c=yD(a,d);Dl(c,"wnd-upload-item");Dl(c,"wnd-disable-element");a.Nc(c);a.F[b]=c;a.La[b]=c.querySelector("img")}}
function ED(a,b,c){var d=a.ic[b];d&&R.aa(d,!1);var e=a.F[b];if(e){var g=a.La[b];g&&(g.src=c,g.onload=function(){Fl(e,"wnd-upload-item");R.aa(g,!0)})}}function FD(a,b){var c=a.F[b];if(c&&!a.ic[b]){var d=Tr(eu);a.ic[b]=d;c.appendChild(d);(c=a.La[b])&&R.aa(c,!1)}}function GD(a,b,c){var d=a.La[b];if(d){d.src=c;var e=a.kb[b];d.onload=function(){e&&R.aa(zp(e),!1)}}}function HD(a,b){var c=a.F[b];c&&sp(c)}
function ID(a,b,c,d){c=yD(a,c);if(null===c)return null;R.aa(c,!1);a.te&&Dl(c,"wnd-disable-element");a.I.appendChild(c);a.F[b]&&(tp(c,a.F[b]),sp(a.F[b]),null!=d&&(delete a.F[b],a.F[d]=c),R.aa(c,!0));return c}uD.prototype.Nc=function(a){null==this.G&&(this.G=vp(this.c));this.G?qp(a,this.G):this.I.appendChild(a)};uD.prototype.T=function(a){this.c.style.overflow=!0===a?"hidden":"auto"};function wD(a){z(a.F,function(a){sp(a)},a)}uD.prototype.ad=function(a){return this.F[a]||null};
function JD(a){z(a.F,function(a){Dl(a,"wnd-disable-element")})}function KD(a){z(a.F,function(a){Fl(a,"wnd-disable-element")})}function LD(a,b){null!=a.m&&R.Uh(a.m)&&(R.aa(a.m,!1),R.setOpacity(a.F[b],1))};function MD(a,b){uD.call(this,a,b);this.W=null}n(MD,uD);function ND(a,b){var c=a.ad(b);null!=c&&Fl(c,"wnd-item-hover");a.W=null};function OD(a,b,c){pD.call(this,a,b,c)}n(OD,pD);OD.prototype.dataType="filesystem_files";function PD(a,b){MD.call(this,a,b);this.v=null}n(PD,MD);function QD(a){null!=a.v&&R.aa(a.v,!1)}function RD(a){null===a.v&&(a.v=Tr(Qt),R.aa(a.v,!1),a.B().appendChild(a.v));return a.v};function SD(a,b,c){pD.call(this,a,b,c)}n(SD,pD);SD.prototype.dataType="static_server";function TD(a,b){uD.call(this,a,b);this.v={}}n(TD,uD);function UD(a,b){var c=b.getId(),d=a.ad(c);if(null!=d){var e=d.querySelector("i > img");if(e){var g=ip("video",{width:e.offsetWidth,height:e.offsetHeight,src:po(b.ya(),b.J(),q.FilesystemPreviewSize.small),poster:po(b.bb,b.J(),q.FilesystemPreviewSize.small)});g.addEventListener("canplay",function(){tp(g,e)});a.v[c]=g}}};function VD(a,b,c){pD.call(this,a,b,c)}n(VD,pD);VD.prototype.dataType="my_videos";function WD(a,b){qB.call(this,a,b);this.ac=!0;this.h={"class":"wnd-empty-block wnd-clearfix"}}n(WD,qB);function YB(a,b,c){RB.call(this,a,b,c)}n(YB,RB);f=YB.prototype;f.fa=function(){};f.ka=function(a){YB.l.ka.call(this,a);OB(this)||O(this.f,"style",this.getParent().Oe());!0===P(this.f,"showLoading")&&this.Aa()};f.Oe=function(){return OB(this)?YB.l.Oe.call(this):this.getParent().Oe()};f.show=function(){YB.l.show.call(this);u(this.F,function(a){a.show()},this)};f.hide=function(){YB.l.hide.call(this);u(this.F,function(a){a.hide()},this);return!0};I.j().register("wnd.ui.PopupEmptyBlock",Xj,WD,YB);function XD(){IC.call(this);return this}n(XD,IC);f=XD.prototype;f.ki="";f.nj="";f.mj="";f.tb=null;f.si=null;f.ke=null;
f.Sd=function(a){XD.l.Sd.call(this,a);for(var b in a)if(a.hasOwnProperty(b))switch(b){case "switcherType":YD(this,a[b]);break;case "text":ZD(this,a[b]);break;case "fxImage":this.nj=a[b];break;case "fxStyle":this.h=a[b];break;case "cropDefinition":var c=new jD,d=a[b],e=void 0;for(e in d)if(d.hasOwnProperty(e))switch(e){case "selection":c.h=d[e];break;case "previewSize":c.c=d[e];break;case "parent":var g=(new IC).Sd(d[e]);c.A=g}this.tb=c;break;case "effectDefinition":c=new kD;d=a[b];e=void 0;for(e in d)if(d.hasOwnProperty(e))switch(e){case "type":lD(c,
d[e]);break;case "parent":g=new IC,mD(c,g.Sd(d[e]))}$D(this,c);break;case "videoDefinition":c=new hi;d=a[b];e=void 0;for(e in d)if(d.hasOwnProperty(e))switch(e){case "sound":c.c=d[e];break;case "start":c.h=d[e]}this.si=c}return this};function YD(a,b){a.ii=b;return a}function ZD(a,b){a.ki=b;return a}function $D(a,b){a.ke=b;return a}f.getParent=function(){return this.A};function aE(a,b,c){LB.call(this,a,b,c)}n(aE,LB);f=aE.prototype;f.pd=function(){return"popup"};f.getSelection=function(){return N(this.f,"selection")};
f.init=function(){var a=this.f.gb(),b=a.width,c=a.height,d=BB(this.view);d.width=b;d.height=c;this.view.setSize(a.width+r.CropImagePopup.image.padding+"px",a.height+"px");this.notify("onCenter");a=BB(this.view).getBoundingClientRect();this.f.D=a;this.view.yc=!1;a=this.f;b=a.gb();c=Math.floor(b.width/r.CropImagePopup.selection.initSize);d=Math.floor(b.height/r.CropImagePopup.selection.initSize);Wi(a,"selection",{x:c,y:d,width:b.width-2*c,height:b.height-2*d,px:c,py:d});this.o=!1;bE(this)};
function bE(a){var b=[yj,zj,Aj,Bj];a.g={};u(b,function(a){Mg(I.j(),"wnd_pc_CropImageCube_"+a)?this.g[a]=I.j().get("wnd_pc_CropImageCube_"+a):this.g[a]=I.j().create("wnd_pc_CropImageCube_"+a,"wnd.ui.CropImageCube",BB(this.view),null,{properties:{type:a}});a=this.g[a];var b=N(this.f,"selection");a.f.Vn=b;a.Sc("data_created")},a)}f.O=function(){aE.l.O.call(this);this.c.H(document.body,hq,m(this.Lv,this));this.c.H(BB(this.view),eq,m(this.Kv,this));this.c.H(document.body,fq,m(this.Mv,this))};
f.Lv=function(a){var b=this.f.D,c=Math.floor(a.clientX-b.left),d=Math.floor(a.clientY-b.top);if(this.o)CB(this.view,a.target,"wnd-cursor-move"),Rj(this.f,c,d);else{CB(this.view,a.target,"wnd-cursor-default");var e=!1;z(this.g,function(b,h){var k=af(b.f.nd);b.f.nd=!1;var p=b.f.getPosition(),w=r.CropImagePopup.cube.size;c>p.x-w&&c<p.x+w&&d>p.y-w&&d<p.y+w&&(CB(this.view,a.target,"wnd-cursor-"+h+"-resize"),b.f.nd=!0);if(!0===b.f.uh){var k=this.f,p=af(N(k,"selection")),v,C,G,J;switch(h){case yj:G=0>c-
p.ue?0:c-p.ue;J=0>d-p.ve?0:d-p.ve;v=p.width+p.x-G;C=p.height+p.y-J;break;case zj:G=p.x;J=0>d-p.ve?0:d-p.ve;v=c>k.D.width?k.D.width-G:c-p.ue-G;C=p.height+p.y-J;break;case Aj:G=p.x;J=p.y;v=c>k.D.width?k.D.width-G:c-p.ue-G;C=d>k.D.height?k.D.height-J:d-p.ve-J;break;case Bj:G=0>c-p.ue?0:c-p.ue,J=p.y,v=p.width+p.x-G,C=d>k.D.height?k.D.height-J:d-p.ve-J}v>10*r.CropImagePopup.cube.size&&C>10*r.CropImagePopup.cube.size&&(p.width=v,p.height=C,p.x=G,p.y=J,Wi(k,"selection",p))}else k!=b.f.nd&&(e=!0)},this);
e&&this.Sc("data_updated")}};f.Kv=function(a){var b=this.f.D,c=Math.floor(a.clientX-b.left),d=Math.floor(a.clientY-b.top),e=N(this.f,"selection");e.ue=c-e.x;e.ve=d-e.y;Qe(this.g,function(a){return!0===a.f.nd?(a.f.uh=!0,a=a.getPosition(),e.ue=c-a.x,e.ve=d-a.y,!0):!1},this);a=r.CropImagePopup.cube.size;c>e.x+a&&c<e.x+e.width-a&&d>e.y+a&&d<e.y+e.height-a&&(this.o=!0)};f.Mv=function(){var a=N(this.f,"selection");this.o=!1;a.ue=0;a.ve=0;z(this.g,function(a){a.f.uh=!1},this)};
f.Jb=function(a,b){if(!1===this.view.yc){var c=N(this.f,"selection");z(this.g,function(a){a.f.Vn=c;b&&a.Sc(b)},this)}};I.j().register("wnd.ui.CropImageContent",Qj,AB,aE);function cE(a,b,c){M.call(this,a,b,c);this.data={};this.Hb=l(P(this,"pagination"))&&!0===P(this,"pagination");this.kb=this.La=0;this.G=1;this.Ff=!1}n(cE,M);cE.prototype.ne=function(a){return l(a)?this.data[a]||null:this.data};function dE(a,b,c){cE.call(this,a,b,c);this.Nc=!1;l(P(this,"useItemAsTitle"))&&(this.Nc=!!P(this,"useItemAsTitle"));if(!this.Nc&&!l(P(this,"title")))throw new Oa('Missing property "title" for the Dropdown switcher.');}n(dE,cE);function eE(a,b){ly.call(this,a,b);this.h={"class":"wnd-switcher"};this.G=r.StyleSwitcher.block;this.A=null;this.R={};this.Gb=this.Hc=this.W=this.wc=this.Af=this.m=this.fb=null}n(eE,ly);f=eE.prototype;
f.da=function(){this.Of();null!=P(this.f,"title")&&Qr(this.B(),ju,{title:P(this.f,"title")});this.A=Tr(ku);if(!0===this.f.Hb){var a=Tr(lu);this.W=a.querySelector(".wnd-switcher-paginate-items");this.Hc=a.querySelector(".wnd-change-page.wnd-prev");this.Gb=a.querySelector(".wnd-change-page.wnd-next");this.W.appendChild(this.A);this.B().appendChild(a)}else this.B().appendChild(this.A);null!=P(this.f,"moreItems")&&(a={},ha(P(this.f,"moreItems"))?a={name:P(this.f,"moreItems")[0],next:P(this.f,"moreItems")[1]}:
a={name:P(this.f,"moreItems")},this.m=Tr(ou,a),this.Af=this.m.querySelector("a"),this.wc=this.m.querySelector("i"),fE(this,!1),this.B().appendChild(this.m));null!=P(this.f,"items")&&gE(this)};function fE(a,b){null===a.m||R.aa(a.m,b)}function gE(a){a.f.La=0;u(P(a.f,"items"),a.bl,a);!0===a.f.Hb&&(a.f.kb=Math.ceil(a.f.La/7),1===a.f.kb?(Dl(a.B(),"wnd-hide-arrows"),hE(a,!1),iE(a,!1)):(1===a.f.G&&hE(a,!1),7>a.f.La&&iE(a,!1)));fE(a,!0)}
f.bl=function(a){this.f.data[a.getId()]=a;var b=this.Hl(a);null!==b&&(this.R[a.getId()]=Tr(mu,b),P(this.f,"selected")===a.getId()&&(this.fb=this.R[a.getId()]),a=this.R[a.getId()],this.A.appendChild(a),this.f.La++)};f.ad=function(a){return this.R[a]};
f.Hl=function(a){var b={rp:a.getId(),selected:P(this.f,"selected")===a.getId()};switch(a.ii){case jE:b.style={color:a.Ee};break;case kE:b.style={Sl:a.Sh};"patterns"!=a.ja&&lE(this,b.style,a);a.h&&(b.xo=!0,b.oj=a.h);a.df&&(b.gl=a.df);break;case mE:a.nj||a.mj?(b.xo=!0,b.it=a.df,a.mj?b.oj={lp:a.mj}:b.oj={Sl:a.nj},lE(this,b.oj,a)):b.gl=a.df;break;case nE:b.cy=a.getId();break;case oE:b.gl=a.df;b.text=a.ki;break;case pE:b.yp=this.f.La+1;break;default:return null}return b};
function lE(a,b,c){c.Ma()>c.getHeight()?b.left=parseInt((a.G.width*(c.Ma()/c.getHeight())-a.G.width)/2,10):c.getHeight()>c.Ma()&&(b.top=parseInt((a.G.height*(c.getHeight()/c.Ma())-a.G.height)/2,10))}function qE(a){null!==a.fb&&Fl(a.fb,"selected")}f.Xk=function(a){pp(this.A);fE(this,!1);a&&!1!==this.f.Hb&&(R.setPosition(this.A,0,0),this.f.G=1,iE(this,!0),hE(this,!1))};
function rE(a,b){if(!1!==a.f.Hb){var c=new sw(a.A,[parseInt(a.A.style.left,10)||0,0],[-((null!=a.W?a.W.offsetWidth:0)*(b-1)),0],r.StyleSwitcher.fxDurationSlide);Vm(c,"end",m(function(){this.f.Ff=!1},a));a.f.Ff=!0;c.play()}}function iE(a,b){null!=a.Gb&&Hl(a.Gb,"disabled",!b)}function hE(a,b){null!=a.Hc&&Hl(a.Hc,"disabled",!b)};function sE(a,b){eE.call(this,a,b);this.h={"class":"wnd-dropdown-switcher"};this.Hb=this.S=null;this.La=!1}n(sE,eE);f=sE.prototype;f.da=function(){this.Of();var a="";if(l(P(this.f,"title"))||P(this.f,"title"))a=""+P(this.f,"title");this.S=Tr(Ps,{title:a});this.Hb=this.S.querySelector("b");this.A=Tr(ku);null!=P(this.f,"maxHeight")&&R.setStyle(this.A,"max-height",P(this.f,"maxHeight")+"px");this.Re(!1);tE(this);null!=P(this.f,"items")&&gE(this);this.B().appendChild(this.S);this.B().appendChild(this.A)};
function tE(a){P(a.f,"showArrow")&&(a.v||(a.v=Tr(Qs)),a.A.appendChild(a.v))}f.Xk=function(a){sE.l.Xk.call(this,a);tE(this)};f.bl=function(a){sE.l.bl.call(this,a);this.f.Nc&&P(this.f,"selected")===a.getId()&&uE(this,a.ki)};f.Hl=function(a){var b={rp:a.getId(),selected:P(this.f,"selected")===a.getId()};switch(a.ii){case vE:b.text=a.ki;break;case wE:b.kp={src:a.ya(),width:a.Ma(),height:a.getHeight()};break;default:b=sE.l.Hl.call(this,a)}return b};
f.Re=function(a){R.aa(this.A,a);Hl(this.S,"wnd-toggle-open",a);if(a){Fl(this.A,"wnd-dropdown-top");R.setStyle(this.A,"top","");this.La&&(R.setStyle(this.A,"height",""),this.La=!1);a=null;var b=r.Toolbox.topOffset,c=R.getBounds(this.A),d=R.getBounds(this.S),e=ep(window),g=fp(document),h="bottom";e.height+g.y<c.top+c.height&&(h="top");"top"===h&&g.y+e.height/2>d.top&&(h="bottom");Hl(this.A,"wnd-dropdown-top","top"===h);R.setStyle(this.A,"top","top"===h?-c.height+"px":"");c=R.getBounds(this.A);"top"===
h&&c.top<g.y+b?(a=d.top-g.y-b,R.setStyle(this.A,"top",-a+"px")):"bottom"===h&&c.top+c.height>g.y+e.height-r.DropdownSwitcher.bottomOffset&&(a=g.y+e.height-r.DropdownSwitcher.bottomOffset-c.top);null!=a&&(a<r.DropdownSwitcher.itemsHeightLimit&&(a=r.DropdownSwitcher.itemsHeightLimit),R.setStyle(this.A,"height",a+"px"),this.La=!0);R.setStyle(this.A,"left","");a=R.getBounds(this.A);a.left+a.width>ep(window).width&&(a=R.getBounds(this.S).width-a.width,R.setStyle(this.A,"left",a+"px"));this.v&&(a=R.getBounds(this.A),
b=R.getBounds(this.S),this.v.style.left=b.left-a.left+b.width-r.DropdownSwitcher.arrowOffset+"px")}};function uE(a,b){null!==a.Hb&&(a.Hb.innerHTML=b)}function xE(a){a=R.Eo(a);return"auto"!=a?parseInt(a,10):0};function yE(a,b,c){sz.call(this,a,b,c);this.o=this.g=null}n(yE,sz);var jE="color",kE="bgr",mE="cssbgr",nE="variant",oE="transform",pE="numbers",vE="dropdown",wE="dropdown_image";f=yE.prototype;
f.O=function(){yE.l.O.call(this);this.c.H(this.view.A,T,m(this.Yh,this));null!=this.view.Af&&this.c.H(this.view.Af,T,m(this.Zu,this));null!=this.view.wc&&this.c.H(this.view.wc,T,m(this.$u,this));this.c.H(this.B(),T,m(this.iv,this));null!=this.view.Hc&&this.c.H(this.view.Hc,T,m(this.Rp,this,!1));null!=this.view.Gb&&this.c.H(this.view.Gb,T,m(this.Rp,this,!0))};
f.Rp=function(a,b){b.stopPropagation();this.f.Ff||(a?this.f.G>=this.f.kb||(1===this.f.G&&hE(this.view,!0),this.f.G++,rE(this.view,this.f.G),this.f.G===this.f.kb&&iE(this.view,!1)):1>=this.f.G||(this.f.G===this.f.kb&&iE(this.view,!0),this.f.G--,rE(this.view,this.f.G),1===this.f.G&&hE(this.view,!1)))};f.iv=function(a){a.stopPropagation()};
f.Yh=function(a){null!=this.o&&this.o.Ra()&&this.o.hide(null,!0);var b;a:{b=a.target;do{if(ky(b,"wnd_switch_item"))break a;if(b===this.B())break}while(b=b.parentNode);b=null}if(null===b)return null;a.stopPropagation();a=jy(b,"wnd_switch_item");var c=this.f.ne(a);if(c.ii!=oE){var d=this.view;null!==d.fb&&Fl(d.fb,"selected");Dl(b,"selected");d.fb=b}this.notify("selectItem",a,c);return c};f.Zu=function(a){a.stopPropagation();this.notify("showMoreItems",P(this.f,"collectionSettings"))};
f.$u=function(a){a.stopPropagation();this.notify("onNextAction")};f.Qd=function(a,b,c){this.Fa();this.f.data={};O(this.f,"items",a);O(this.f,"selected",b);this.view.Xk(c);gE(this.view)};f.Ua=function(a){yE.l.Ua.call(this,a);null!=P(this.f,"items")||this.Aa()};f.Aa=function(){this.g||(this.g=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.view.A,this,{properties:{type:vj}}));this.g.show()};f.Fa=function(){this.g&&(this.g.dispose(),this.g=null)};f.X=function(){this.g&&this.g.dispose();yE.l.X.call(this)};
f.ax=function(){};f.ad=function(a){return this.view.ad(a)};I.j().register("wnd.ui.StyleSwitcher",cE,eE,yE);function zE(a,b,c){pD.call(this,a,b,c)}n(zE,pD);zE.prototype.fh=function(a){this.I={};l(this.c.collectionSettings)&&l(this.c.collectionSettings.colors)&&u(this.c.collectionSettings.colors,function(a){"none"!==a.Jh()&&AE(this,a.getId(),a.Ee,"solidColorSchemes")},this);z(a,function(a,c){u(a.colors,function(a){AE(this,c+"-"+a.rgb,a.rgb,P(this,"mediaType"),a.brightness)},this)},this);this.W=this.I;this.S=this.Xa};
function AE(a,b,c,d,e){a.I[b]=JC(oD(KC((new nD).Ha(b),c),P(a,"itemType")),d);e&&SC(a.I[b],e);a.Xa.push(b)}zE.prototype.dataType="tpl_color_sets";function BE(a,b,c){yE.call(this,a,b,c);this.D=this.f.Hb=!1;this.I=!!P(this.f,"useOverlay");this.v=null}n(BE,yE);f=BE.prototype;f.O=function(){BE.l.O.call(this);this.c.H(this.view.S,T,m(this.Zw,this))};f.Zw=function(a){this.Re(!this.D);a.stopPropagation()};f.Yh=function(a){a=BE.l.Yh.call(this,a);this.Re(!1);null!=a&&this.f.Nc&&(uE(this.view,a.ki),this.notify("titleChanged",a));return a};
f.Re=function(a){this.view.Re(a);if(this.D=a){this.I&&this.bc().show();a=this.view;var b=xE(this.getParent().B())+2;a.S.style.zIndex=b;a.A.style.zIndex=b;this.c.H(window,"scroll",this.wr,!1);this.v=R.Zb(document);this.notify("onOpen",this)}else this.I&&this.bc().hide(),a=this.view,a.S.style.zIndex="auto",a.A.style.zIndex="auto",this.c.Bc(window,"scroll",this.wr),this.v=null,this.notify("onClose",this)};
f.bc=function(){var a=xE(this.getParent().B())+1;return nA.j().get("Transparent",this.B(),"dropdown",a,m(this.av,this))};f.av=function(){this.D&&this.Re(!1)};f.X=function(){this.Re(!1);BE.l.X.call(this)};f.wr=function(a){a.stopPropagation();a.preventDefault();null!=this.v&&window.scrollTo(this.v.x,this.v.y);return!1};I.j().register("wnd.ui.DropdownSwitcher",dE,sE,BE);function CE(a,b,c){BE.call(this,a,b,c);O(this.f,"selected",t.page.langId.toString());O(this.f,"title",DE(this));null!=P(this.f,"items")||O(this.f,"items",EE(this))}n(CE,BE);f=CE.prototype;f.O=function(){CE.l.O.call(this);this.c.H(document.body,T,m(this.GA,this))};f.Y=function(a){CE.l.Y.call(this,a);var b=t.page.langId;"dataDelete"===a.getType()&&a.J()===r.FeLanguages.DataType&&a.g!=b&&(O(this.f,"selected",b.toString()),this.Qd(EE(this),b,!0))};
function DE(a){var b=parseInt(P(a.f,"selected"),10),b=Si(Qi.j(),b);return P(a.f,"fullTitle")?b.getName():Vf(b)}function EE(a){var b=[];z(Qi.j().c,function(a){var d=a.getId();a=P(this.f,"fullItemName")?a.getName():Vf(a);b.push(YD(ZD(new XD,a).Ha(d.toString()),vE))},a);return b}f.Qd=function(a,b,c){1===Qi.j().vd()?(this.hide(),this.notify("hideSwitcher")):(CE.l.Qd.call(this,a,b,c),this.close(),uE(this.view,DE(this)))};
f.Id=function(a){a=a.selected;null!=a&&P(this.f,"selected")!=a&&(O(this.f,"selected",a),this.Qd(EE(this),a,!0))};f.GA=function(){this.close()};f.close=function(){this.Re(!1)};f.Yh=function(a){a=CE.l.Yh.call(this,a);null!=a&&(O(this.f,"selected",a.getId()),uE(this.view,DE(this)));return a};I.j().register("wnd.ui.LanguageSwitcher",dE,sE,CE);function FE(a,b){qB.call(this,a,b);this.h={"class":"wnd-upload"};this.cd=this.$a=this.xh=null}n(FE,qB);FE.prototype.da=function(){var a=Tr(zu,this.N());this.xh=a.querySelector("b");this.$a=a.querySelector('input[name="file"]');this.cd=a.querySelector(".wnd-upload-drag-area");this.c.appendChild(a)};
FE.prototype.N=function(){var a={multiple:P(this.f,"multipleUpload"),sl:P(this.f,"fileGroup"),lu:P(this.f,"newGallery")};"image"==a.sl?a.accept=q.UploadManager.supportedImagesMime.join():"favicon"==a.sl&&(a.accept=q.UploadManager.supportedFaviconMime.join());return a};FE.prototype.show=function(){FE.l.show.call(this);this.$a.value="";GE(this)};function GE(a){a.m&&(a.m=!1,Fl(a.cd,"active"))};function HE(a,b,c){RB.call(this,a,b,c);this.g=new VC;this.g.observe("onInit",m(this.vB,this),this);this.g.observe("onStart",m(this.Ww,this),this);this.g.observe("onLoading",m(this.iw,this),this);this.g.observe("onPreview",m(this.ww,this),this);this.g.observe("onError",m(this.Bv,this),this);this.g.observe("onProgress",m(this.yw,this),this);this.g.observe("onResponse",m(this.wB,this),this);this.g.observe("onComplete",m(this.sB,this),this);this.g.observe("onFinish",m(this.uB,this),this);this.o=[];this.D=
null}n(HE,RB);f=HE.prototype;f.fa=function(){};f.O=function(){HE.l.O.call(this);this.c.H(this.view.xh,T,this.Hr);this.c.H(this.view.$a,"change",this.send);var a=this.view.cd;this.v=new Pr(a,!0);this.c.H(a,"dragover",m(this.tB,this));this.c.H(a,"dragleave",m(this.tv,this));this.c.H(this.v,"drop",m(this.send,this))};f.Za=function(){HE.l.Za.call(this);this.v&&(this.v.dispose(),this.v=null)};
f.Hr=function(a,b){!0===(null!=a)&&a.stopPropagation();if(P(this.f,"multipleUpload")&&b&&1==b){var c=E.j(),d=m(this.click,this);IE(c,{title:"Tip: Select Multiple Files",text:'To upload multiple files at the same time, press the "Ctrl" key and click on the files you want to transfer.',extendCssClass:"wnd-select-multiple-files"},this,d)}else this.click()};f.click=function(){this.view.$a.click()};
f.send=function(a){a.stopPropagation();var b=[];"drop"===a.type?"function"===typeof a.L&&(b=a.c.dataTransfer.files,P(this.f,"multipleUpload")||(b=Dh(b,0,1))):b=this.view.$a.files;if(0<b.length){a=P(this.f,"fileGroup");this.g.o=!0;var c=this.g;c.c=null;b&&0<b.length&&(c.c=$e(b));WC(this.g,a);XC(this.g)}};f.vB=function(){this.o=[];this.notify("onInitUpload")};f.Ww=function(a,b){this.notify("onStartUpload",b)};f.iw=function(a,b){this.notify("onLoadingUpload",b)};
f.ww=function(a,b,c){this.notify("onPreviewUpload",b,c)};f.Bv=function(a,b,c,d){this.o.push(c);this.notify("onErrorUpload",b,d)};f.yw=function(a,b,c,d){this.notify("onProgressUpload",b,c,d)};
f.wB=function(a,b,c,d){"error"==b&&c.text&&(null!=c.code&&c.code==ya.errorCode.notEnoughStorage?(a=E.j(),JE(a,{type:"notEnoughStorage",params:{upgradeUri:xo(vo.j(),"storage",t.keenIo.refs.notEnoughStoragePopup),upgradeText:"Upgrade storage"}}),this.g.cancel()):this.o.push(c.text));this.notify("onResponseUpload",b,c,d)};f.sB=function(a,b,c){this.notify("onCompleteUpload",b,c)};
f.uB=function(a,b){this.view.$a.value="";GE(this.view);0<this.o.length&&KE(E.j(),this.o,this);this.notify("onFinishUpload",b,0<this.o.length)};f.tB=function(){var a=this.view;a.m||(a.m=!0,Dl(a.cd,"active"));window.clearTimeout(this.D)};f.tv=function(){this.D=window.setTimeout(m(function(){GE(this.view);this.notify("onDragOut")},this),100)};f.cancel=function(){""!=this.view.$a.value&&this.g.cancel()};f.qb=function(){return this.g.qb()};I.j().register("wnd.ui.UploadFilePopupContent",Lj,FE,HE);function LE(a,b,c){RB.call(this,a,b,c);this.f.observe("onDataLoaded",this.Fp,this);this.yc=!1;this.ga=null;this.Gb=!1;this.Ia=0;this.qa=r.MediaList.itemsOnPage;this.I=[];this.D=[];this.hb=m(this.gf,this);this.W=m(this.Sg,this);this.Qc=m(this.Rl,this);this.g=null;this.T=!1;this.wa=null}n(LE,RB);var sD="image",AD="icon",zD="file",BD="solidColor",qD="video",rD="pattern",tD="favicon";f=LE.prototype;f.ka=function(a){LE.l.ka.call(this,a);this.ng()};
f.ng=function(a){a&&(a=this.f,a.Yf()&&(a.hb=af(a.c.collectionSettings.limit),a.c.collectionSettings.limit.count=a.hb.from+a.hb.count,a.c.collectionSettings.limit.from=0));this.f.Ea(this.Fp,null,this)};f.Fp=function(a,b,c,d){this.f.fh(b,d);a=this.f;null!==a.hb&&(a.c.collectionSettings.limit=af(a.hb),a.hb=null);this.kh()};
f.kh=function(){if(Xe(this.f.W))this.T?this.Fa():!0===P(this.f,"canUpload")?(wD(this.view),ME(this)):(this.Fa(),xD(this.view));else{var a=this.f;vD(this.view,Xe(a.W)?null:a.S,this.T);this.Fa();this.T=!1;null!=this.ga&&this.ga.Ya()&&SB(this.ga);!0===this.Gb&&this.bh()}};f.fa=function(){};
f.O=function(){null!=this.c&&this.c.removeAll();LE.l.O.call(this);this.c.H(this.B(),"dragstart",m(this.uv,this));this.c.H(this.B(),"dragover",m(this.WA,this));this.c.H(this.B(),T,m(this.Gk,this));this.f.Yf()&&this.c.H(this.B(),"scroll",m(this.Ei,this));var a=$o("wnd-media-item",this.view.B());this.D=eg(a);u(this.D,function(a){this.c.H(a,"mouseover",this.hb);this.c.H(a,gq,this.W);this.c.H(a,T,this.Qc)},this)};
f.WA=function(){!0===P(this.f,"canUpload")&&(null===this.ga||null!=this.ga&&this.ga.Ya())&&(ME(this),this.yc=!0)};f.sv=function(){!0===this.yc&&SB(this.ga)};f.uv=function(a){a.preventDefault();a.stopPropagation();return!1};f.Gk=function(){};f.Rl=function(a){var b=null;null!=this.g&&(b=this.f.ne(this.g));null!=b&&(a.stopPropagation(),b.g=!0,this.notify("onItemClick",NE(b)))};
f.Ei=function(a){!this.T&&null===this.f.hb&&this.view.I.offsetHeight-a.target.scrollTop<a.target.offsetHeight+r.MediaList.scrollDistance&&(this.mp(),a.stopPropagation())};f.mp=function(){this.f.Nm();this.T=!0;this.Aa();this.ng()};f.Aa=function(a){this.T?(null===this.wa&&(this.wa=I.j().create(this.C()+"_loading_refill","wnd.ui.Loading",this.B(),this,{properties:{type:"popup",height:50,width:this.B().offsetWidth}})),this.wa.show()):LE.l.Aa.call(this,a)};
f.Fa=function(){LE.l.Fa.call(this);null!=this.wa&&this.wa.hide()};function OE(a,b){if(null!=a.ga&&a.ga.qb())return null;var c;a:{c=b.target;do{if(ky(c,"wnd_media_file"))break a;if(c===a.B())break}while(c=c.parentNode);c=null}b.stopPropagation();if(null===c)return null;c=jy(c,"wnd_media_file");c=a.f.ne(c);return null===c?null:c}
function NE(a){var b=JC((new IC).Ha(a.getId()),a.ja);switch(a.c){case sD:case AD:case zD:case tD:OC(NC(RC(MC(b.Ab(a.J()),a.ya()),a.Fg).setWidth(a.Ma()).setHeight(a.getHeight()),a.bb),a.Rc);break;case BD:SC(KC(b,a.Ee),a.Kf)}return b}function PE(a){a.Aa();a.view.T(!1);a.ng(!0)}f.bh=function(){if(!0===P(this.f,"canUpload")){this.Gb=!1;null===this.ga&&ME(this);this.f.Ad()?(SB(this.ga),this.view.T(!1)):this.ga.view.show();var a=this.f.Aj();this.ga.Hr(null,a)}};f.ah=function(){null!=this.ga&&this.ga.cancel()};
function ME(a){!0===P(a.f,"canUpload")&&(a.Fa(),a.view.T(!0),null!=a.ga?a.ga.view.show():QE(a))}
function QE(a){a.ga=a.K(a.C()+"_media_upload","wnd.ui.UploadFilePopupContent",null,{properties:{initRenderFlag:!0,multipleUpload:P(a.f,"multipleUpload"),closeAfterUpload:!1,fileGroup:P(a.f,"fileGroup"),width:r.UploadFilePopupContent.width,height:r.UploadFilePopupContent.height}});a.ga.observe("onDragOut",m(a.sv,a),a);a.ga.observe("onInitUpload",m(a.Ze,a),a);a.ga.observe("onStartUpload",m(a.un,a),a);a.ga.observe("onLoadingUpload",m(a.XA,a),a);a.ga.observe("onPreviewUpload",m(a.YA,a),a);a.ga.observe("onErrorUpload",
m(a.Cv,a),a);a.ga.observe("onProgressUpload",m(a.ZA,a),a);a.ga.observe("onResponseUpload",m(a.rm,a),a);a.ga.observe("onCompleteUpload",m(a.Di,a),a);a.ga.observe("onFinishUpload",m(a.tn,a),a)}f.Ze=function(){this.Ia=0;this.view.te=!0;this.I=[];this.ga.Ya()&&SB(this.ga);JD(this.view);this.notify("onInitUpload")};f.un=function(a,b){DD(this.view,b.c,b.h.name)};f.XA=function(a,b){FD(this.view,b.c)};f.YA=function(a,b,c){this.ga.qb()&&ED(this.view,b.c,c)};
f.ZA=function(a,b,c,d){if(this.ga.qb()){if(!F(this.I,d.c)&&(this.I.push(d.c),0<this.Ia&&0==this.Ia%this.qa)){a=D(this.I)?void 0:this.I[Math.floor(this.I.length-.5)];if(a){b=this.view;var e=b.B();l(b.F[a])&&(new uw(e,[e.scrollLeft,e.scrollTop],[e.scrollLeft,b.F[a].offsetTop],r.MediaList.animationScrollTime)).play()}this.qa<r.MediaList.itemsOnPage&&(this.qa=r.MediaList.itemsOnPage)}a=this.view;d=d.c;c=Math.round(c.loaded/c.total*100);if(b=a.F[d]){e=a.kb[d];if(!e&&!a.kb[d]){var g=Tr(du),e=g.querySelector("i");
b.appendChild(g);a.kb[d]=e}R.setWidth(e,c+"%")}}};f.rm=function(a,b,c,d){F(this.I,d.c)&&cg(this.I,d.c);"error"==b&&HD(this.view,d.c)};f.Di=function(){this.ga.qb()&&this.Ia++};f.Cv=function(a,b,c){c&&HD(this.view,c.c)};f.tn=function(a,b){this.view.te=!1;RE(this,b);this.view.T(!1);KD(this.view);this.notify("onFinishUpload")};function RE(a,b){u(b,function(a){HD(this.view,a)},a)}f.cg=function(a){LE.l.cg.call(this,a);this.f.Ad()||this.Aa()};f.J=function(){return this.f.J()};f.kt=function(){return this.g};
function SE(a){var b=new S(a.clientX,a.clientY),c=R.Zb(window.document);a=R.getBounds(a.currentTarget);a.left-=c.x;a.top-=c.y;c=b.x==a.left||b.x==a.left+a.width||b.y==a.top||b.y==a.top+a.height;return a.contains(b)&&!c}f.gf=function(a){this.g=jy(a.currentTarget,"wnd_media_file")};f.Sg=function(){};I.j().register("wnd.ui.MediaList",pD,uD,LE);function TE(a,b,c){LE.call(this,a,b,c);this.G=this.o=this.U=this.cd=this.V=null;1==P(this.f,"dragDrop")&&(this.V=new RA(this),this.V.observe("onDragstart",this.AA,this),this.V.observe("onDragend",this.zA,this),this.V.observe("onDrop",this.BA,this))}n(TE,LE);f=TE.prototype;f.Y=function(a){TE.l.Y.call(this,a);var b=!1;null!=this.ga&&this.ga.qb()&&(b=!0);b||a.J()!=this.J()||"dataCreate"===a.getType()&&this.f.ne(a.g)||(this.f.update("data_updated"),PE(this),!1===this.f.Ad()&&ME(this))};
f.rg=function(a){if(this.D)for(var b=this.D.length,c=!1,d=null,e=null,g=0;g<b;g++)d=this.D[g],c=a?d.id==a:g==b-1,!c&&l(this.D[g+1])&&(e=this.D[g+1],c=R.getBounds(d).left>R.getBounds(e).left),e=this.V,e.uc(d,"left",null,"wnd.ui.EditableMediaListDropStripe"),e.Ka(d),c&&e.uc(d,"right",null,"wnd.ui.EditableMediaListDropStripe"),e.P+=Math.round(d.offsetHeight/Math.floor(e.c.offsetWidth/d.offsetWidth))};
f.AA=function(a,b){if(!Qz){null!=this.Pa()&&this.Pa().hide();var c=b.Bb;c?Uz(this.V,{sourceElement:c,realGrip:!0}):Uz(this.V,{blockType:this.zo()})}};f.zo=function(){return"general"};f.zA=function(){};f.BA=function(a,b,c,d){"left"!=d&&"right"!=d||this.move(b,c,d);a=$o("wnd-media-item",this.view.B());this.D=eg(a);this.V.reset();this.V.init()};f.move=function(){};
f.Tl=function(){this.cd=E.j().create("wnd.ui.Toolbox",this.C()+"_toolbox",this.ab(),this,{withOverlay:!1},{arrow:!0,extendCssClass:"wnd-toolbox-gallery",viewportSize:R.pa(this.B())})};f.Ai=function(){return[pi(mi(ki(new ji,UE),m(this.bp,this)),!0)]};f.Ua=function(a){1==P(this.f,"dragDrop")&&(JA(this.V,this.B()),this.V.U=this.view.I,requestAnimationFrame(m(function(){this.V.reset();this.V.init()},this)));P(this.f,"toolbox")&&fa(this.Pa())&&this.Tl();TE.l.Ua.call(this,a)};
f.Za=function(){TE.l.Za.call(this);this.V&&(this.V.reset(),this.V.dispose());null!=this.Pa()&&this.Pa().hide()};function VE(a,b,c){null!=a.Pa()&&(c=c||b.currentTarget,b=R.Me(c,a.ab()),c=R.pa(c),a.Pa().f.qd=new pm(b.x,b.y,c.width,c.height),bg(a.Pa(),a.Ai(),!1))}f.xr=function(a){var b;if(!(b=null==this.Pa()||WE(this.Pa(),a))){b=this.Pa();var c;(c=null===b.Na)||(c=nA.j(),c=!l(c.c[b.Na]));b=c?!1:a.target===b.bc().B()}b||this.Pa().hide(a.c,!0)};
f.gf=function(a){TE.l.gf.call(this,a);if((null==this.ga||!this.ga.qb())&&null!=this.g){a=this.view;var b=this.g;null!=a.W&&ND(a,a.W);Dl(a.ad(b),"wnd-item-hover");a.W=b}};f.Sg=function(a){TE.l.Sg.call(this,a);SE(a)||(this.xr(a),null!=this.g&&ND(this.view,this.g))};f.Ei=function(a){TE.l.Ei.call(this,a);null!=this.g&&(this.Pa().hide(a.c,!0),ND(this.view,this.g),this.g=null)};f.X=function(){this.Pa().dispose();TE.l.X.call(this)};f.Ze=function(a){this.V&&this.V.reset();TE.l.Ze.call(this,a)};f.Pa=function(){return this.cd};
f.Gk=function(a){null!=this.Pa()&&this.Pa().hide(null,!0);TE.l.Gk.call(this,a)};f.bp=function(a){a.stopPropagation();this.ym()};f.ym=function(){var a=this.g;if(a){this.Pa().hide();Qz=this.Ca=!0;var b=new Aw(this.view.ad(a),x.PhotoGalleryListContent.fxDurationRemove);Vm(b,"end",m(this.Bi,this,a));b.play();this.g=null}};f.Bi=function(a){sp(this.view.F[a]);this.f.Ad()&&this.V&&(this.V.reset(),this.V.init());Qz=this.Ca=!1;this.Pa()&&this.Pa().hide()};
function XE(a,b){if(Ka(t.visibleRelease,"deleteEditFilesystemFiles")){if(null===a.U){a.U=yi(pi(mi(ki(new ji,YE),m(a.Lt,a)),!0),!0);if(b){var c=a.U;c.Zp=!0;pi(c,!0)}null==a.o&&(a.o=Mr.j(),a.o.m?yi(a.U,!1):a.o.observe("onLoad",a.Cu,a),a.o.observe("onOpen",a.Du,a),a.o.observe("onSave",a.Eu,a),a.o.observe("onClose",a.Au,a))}return a.U}}f.Lt=function(a){a.stopPropagation();this.G=this.f.ne(this.g);a=po(this.G.ya(),this.G.J());Zq(Tq.j(),a,m(this.xv,this,this.G));ND(this.view,this.g)};
f.xv=function(a){a=Xq(Tq.j(),a.ya(),a.J());if(null!=a){var b=this.view;sp(a);R.aa(a,!1);b.ab().appendChild(a);b=this.o;b.Wd.launch({image:a.id,onReady:m(b.Ew,b),onSave:m(b.Jw,b),onClose:m(b.mA,b)});b.g=null;b.F=null}};f.Cu=function(){yi(this.U,!1)};f.Du=function(){this.Pa().hide()};f.Au=function(){null!=this.ga&&this.ga.qb()||(this.G=null)};f.Eu=function(a,b,c){this.o.Wd.showWaitIndicator();Zq(Tq.j(),c,m(this.Bu,this,b,c))};
f.Bu=function(a,b){this.o.Wd.hideWaitIndicator();this.o.close();var c=Tq.j(),c=null!=c.c[b]&&!1!==c.c[b].complete?c.c[b]:null,d=this.o.c.mimeType,e=document.createElement("canvas");e.width=c.width;e.height=c.height;e.getContext("2d").drawImage(c,0,0);c=e.toDataURL(d);null===this.ga&&QE(this);d=this.ga.g;e=this.o;gD(d,c,this.o.c.mimeType,e.g+"."+e.c.settings.fileFormat);XC(d)};I.j().register("wnd.ui.EditableMediaList",pD,MD,TE);function ZE(a,b,c){TE.call(this,a,b,c);this.v=null}n(ZE,TE);f=ZE.prototype;f.O=function(){ZE.l.O.call(this);this.c.H(RD(this.view),T,m(this.Tt,this));this.c.H(RD(this.view),gq,m(this.Ut,this))};f.kh=function(){ZE.l.kh.call(this);QD(this.view)};f.Ze=function(a){var b=this.view;b.G=vp(b.c);ZE.l.Ze.call(this,a)};
f.Di=function(a,b,c){if(this.ga.qb()){var d=OC(MC(RC((new nD).Ha(b.getId()).Ab(b.J()),b.Fg),b.ya()),b.Rc).setWidth(b.Ma()).setHeight(b.getHeight());if(P(this.f,"fileGroup")==zD)JC(oD(d,zD),P(this.f,"mediaType")),ID(this.view,c.c,d,d.getId());else{var e=q.FilesystemPreviewSize.small,g=sD;"favicon"===P(this.f,"fileGroup")&&(e=null,g=tD);var h=po(d.ya(),d.J(),e);JC(oD(LC(d,h),g),P(this.f,"mediaType"));Uq(Tq.j(),d.ya(),d.J(),m(this.Nv,this,c.c,d),d.getId(),e)}this.f.I[d.getId()]=d}ZE.l.Di.call(this,a,
b,c)};f.Nv=function(a,b){DD(this.view,a,{imageUrl:b.Sh});ID(this.view,a,b,b.getId());var c=this.view.ad(b.getId());null!=c&&(this.c.H(c,"mouseover",this.hb),this.c.H(c,gq,this.W),this.c.H(c,T,this.Qc))};f.Tl=function(){ZE.l.Tl.call(this);this.Pa().observe("onAfterClose",this.Xm,this)};f.Ai=function(){var a=[],b=XE(this);null!=b&&a.push(b);return zh(a,ZE.l.Ai.call(this))};f.Xm=function(){this.v&&(QD(this.view),LD(this.view,this.v),ND(this.view,this.v),this.v=null)};f.xr=function(){};
f.gf=function(a){if(!this.v&&(ZE.l.gf.call(this,a),null!=this.g)){if(Ka(t.visibleRelease,"deleteEditFilesystemFiles")){var b=this.view,c=a.currentTarget,d=R.pa(c),e;null==b.de&&(b.de=R.pa(RD(b)));e=b.de;c=R.Me(c,b.B());d=new S(c.x+d.height-e.height,c.y+b.B().scrollTop);R.setPosition(RD(b),d.round());R.aa(RD(b),!0)}P(this.f,"checkLowResolution")&&UC(this.f.ne(this.g))&&(b=this.view,d=this.g,a=a.currentTarget,null===b.m&&(b.m=Tr(Pt),R.aa(b.m,!1),b.B().appendChild(b.m)),R.Uh(b.m)||(a=R.Me(a,b.B()),a=
new S(a.x,a.y+b.B().scrollTop),R.setPosition(b.m,a.round()),R.aa(b.m,!0),null!=b.F[d]&&R.setOpacity(b.F[d],.2)))}};f.Sg=function(a){this.v||(ZE.l.Sg.call(this,a),null==this.g||SE(a)||(QD(this.view),P(this.f,"checkLowResolution")&&UC(this.f.ne(this.g))&&LD(this.view,this.g)))};f.Ei=function(a){this.Xm();this.Pa().hide(null,!0);null!=this.g&&(QD(this.view),LD(this.view,this.g));ZE.l.Ei.call(this,a)};f.Rl=function(a){this.v?(this.Xm(),this.gf(a)):ZE.l.Rl.call(this,a)};
f.Tt=function(a){a.stopPropagation();this.g&&(VE(this,a,this.view.ad(this.g)),this.v=this.g)};f.Ut=function(a){this.g&&a.o!==this.view.ad(this.g)&&this.Sg(a)};f.bp=function(a){a.stopPropagation();this.f.ne(this.g).g?uC(E.j(),{title:"Do you really want to delete this picture?",text:"Warning: You are using this picture on your website. Deleting it will also delete it from your website.",useDelete:!0},this,m(this.ym,this)):this.ym()};
f.Bi=function(a){var b=Bg.j().get(this.J()),c=new gi("removeFile",2),d=Ph.j(),e=new Lg;e.data.fileId=parseInt(a,10);Rh(d,e,c);Yh(b,a,function(){var b=new yg("dataDelete","parent_propagation",this.J(),this,a);this.ba(b)}.bind(this),c);ZE.l.Bi.call(this,a)};I.j().register("wnd.ui.MediaListFilesystem",OD,PD,ZE);function $E(a,b,c){LE.call(this,a,b,c)}n($E,LE);I.j().register("wnd.ui.MediaListSolidColors",zE,uD,$E);function aF(a,b,c){LE.call(this,a,b,c)}n(aF,LE);aF.prototype.O=function(){aF.l.O.call(this);"videos"==P(this.f,"mediaType")&&(this.c.H(this.B(),"mouseover",m(this.v,this)),this.c.H(this.B(),gq,m(this.o,this)))};aF.prototype.v=function(a){a=OE(this,a);if(null!=a){var b=this.view,c=a.getId();!1===l(b.v[c])&&null!=b.ad(c)&&UD(b,a);l(b.v[c])&&b.v[c].paused&&b.v[c].play()}};aF.prototype.o=function(a){var b=OE(this,a);null!=b&&(a=this.view,b=b.getId(),a.v[b]&&!1===a.v[b].paused&&a.v[b].pause())};
I.j().register("wnd.ui.MediaListStaticServer",SD,TD,aF);function bF(a,b,c){Zj.call(this,a,b,c);cF(this,P(this,"selectedItem"))}n(bF,Zj);function cF(a,b){if(b.tb){a.Hc=b.tb;var c=b.tb.getParent();a.qa=c}else c=new jD,c.c=a.ea(),a.Hc=c,a.qa=b}function dF(a,b,c){a.v=new Image;a.v.crossOrigin="anonymous";a.v.onload=b;if(c){b=a.Hc;var d=b.getSelection();null!=d&&(d=eF(d,c/b.ea()),b.h=d,b.c=c)}b=a.v;a=a.qa;c=po(a.ya(),a.J(),c);b.src=c+"?t="+(new Date).getTime()}bF.prototype.gb=function(){if(!1===(null!=this.v))throw new Ha("Load image source first!");return this.v};
function eF(a,b){a.x=parseInt(a.x*b,10);a.y=parseInt(a.y*b,10);a.width=parseInt(a.width*b,10);a.height=parseInt(a.height*b,10);return a}bF.prototype.ea=function(){return window.innerWidth<q.FilesystemPreviewSize.detail||window.innerHeight<q.FilesystemPreviewSize.detail?q.FilesystemPreviewSize.normal:q.FilesystemPreviewSize.detail};function fF(a,b){uB.call(this,a,b);this.La=this.Fb=this.G=this.m=null}n(fF,uB);function gF(a){a.m=Tr(Ct,a.N());a.G=a.m.querySelector(".wnd-ctrl-type-delete");a.Fb=a.m.querySelector(".wnd-ctrl-type-edit");a.La=a.m.querySelector(".wnd-ctrl-type-close");a.B().appendChild(a.m)}fF.prototype.W=function(){return"There are no items to be shown."};function hF(a){Qr(a.c,Dt,{text:a.W()})}fF.prototype.U=function(){return this.G};fF.prototype.nd=function(){return this.La};
function iF(a,b){R.aa(a.Be(),b);null!=a.m&&R.aa(a.m,b)}fF.prototype.N=function(){var a={},b=P(this.f,"buttons");null!=b&&(a.buttons=b);return a};function jF(a){a.G&&R.aa(a.G,!1);a.Fb&&R.aa(a.Fb,!1)};function kF(a,b,c){qC.call(this,a,b,c);O(this.f,"extendCssClass","wnd-page-edit");this.f.observe("onUpdateCancelled",this.SA,this);this.U=!1;this.I=this.wa=null}n(kF,qC);f=kF.prototype;f.select=function(a){null===a?(this.Za(),hF(this.view),gF(this.view),jF(this.view),this.O()):(null!=this.wa&&u(this.Zc(),function(a){a.ee()},this),this.getId()!==a&&(this.Ha(a),this.U||this.fa()));this.wa=a};f.$j=function(){this.Cc()};
f.qn=function(a,b){if(!this.U&&l(b[Q(this.f,"id")])){this.ko(b);this.G=this.K(this.C()+"_date_fieldset","wnd.ui.SwitchFieldset",null,{properties:{initRenderFlag:!0,legend:"Schedule Publishing Date",showIcon:!0,withoutSaveButton:!0,tooltip:"Postpone the publication of your post by setting a publication date. If this option is not activated, your blog post will be published instantly. If you activate this option, you are able to choose the date you would like your post to be published.",extendCssClass:"wnd-blog-schedule-publishing"}});
var c=this.G.K(this.C()+"_date","wnd.ui.DateFormItem",null,{properties:{id:dC(this),name:Q(this.f,"publish_date"),defaultValue:b[Q(this.f,"publish_date")],initRenderFlag:!1,required:!1,showIcon:!1,label:"Publish on",validateType:"validateDate",validateContinuous:!0,extendCssClass:"wnd-ps-site-publish-date"}});this.G.observe("onOpen",m(c.pw,c),this);this.T=this.K(this.C()+"_private_access_area","wnd.ui.PrivateAccessFieldset",null,{properties:{initRenderFlag:!0,data:b,dataType:this.f.J()}});this.D=
this.K(this.C()+"_advanced_settings","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,legend:"Blog Post SEO Settings",showIcon:!0,withoutSaveButton:!0,extendCssClass:"wnd-blog-advance-settings"}});this.D.K(this.C()+"html_title","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"html_title")]}},properties:{id:dC(this),label:"Title",name:Q(this.f,"html_title"),defaultValue:b[Q(this.f,"html_title")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});
this.qa=this.D.K(this.C()+"identifier","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"identifier")]}},properties:{id:dC(this),label:"Page Address (URL)",name:Q(this.f,"identifier"),defaultValue:b[Q(this.f,"identifier")],initRenderFlag:!0,required:!0,validateType:"validateIdentifier",validateArgs:{max:255,pattern:/^[a-z0-9\-%]+$/},validateContinuous:!0}});this.D.K(this.C()+"meta_description","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_description")]}},properties:{id:dC(this),
label:"Meta Description",name:Q(this.f,"meta_description"),defaultValue:b[Q(this.f,"meta_description")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});this.D.K(this.C()+"meta_keywords","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_keywords")]}},properties:{id:dC(this),label:"Keywords",name:Q(this.f,"meta_keywords"),defaultValue:b[Q(this.f,"meta_keywords")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});gF(this.view);
this.O();this.U=!0}};f.ko=function(a){this.I=this.K(this.ca()+"_name","wnd.ui.ShortTextFormItem",null,{create:{data:{value:a[Q(this.f,"name")]}},properties:{id:dC(this),name:Q(this.f,"name"),defaultValue:a[Q(this.f,"name")],identifier:a[Q(this.f,"identifier")],required:!0,hideLabel:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},extendCssClass:"wnd-page-edit-name"}})};f.SA=function(){this.Fa()};
f.Y=function(a){kF.l.Y.call(this,a);"dataCreate"===a.getType()&&null!=this.I&&this.I.focus()};f.Aa=function(){kF.l.Aa.call(this);iF(this.view,!1)};f.Fa=function(){kF.l.Fa.call(this);iF(this.view,!0)};f.O=function(){this.Za();kF.l.O.call(this);null!=this.I&&this.c.H(this.I.B(),"keyup",m(this.Yv,this));null!=this.view.U()&&this.c.H(this.view.U(),T,m(this.xs,this));null!=this.view.Fb&&this.c.H(this.view.Fb,T,m(this.RA,this));this.view.nd()&&this.c.H(this.view.nd(),T,m(Yz(this).hide,Yz(this),null,!0))};
f.Yv=function(){this.notify("onItemNameChange",this.I.getValue())};f.So=function(){return{title:"Confirm delete",text:"Are you sure you want to delete this item?"}};f.xs=function(a){a.stopPropagation();var b=this.So();uC(E.j(),{title:b.title,text:b.text,leftButtons:["ConfirmDelete"]},this,m(this.PA,this,a))};f.PA=function(a){a.stopPropagation();this.Aa();a=new gi("deleteItem",1);gr(Ph.j(),a);var b=Bg.j().get(this.f.J()),c=this.getId(),d=m(this.QA,this);Zh(b,c,d,a)};
f.QA=function(){this.notify("onDeleteItem");this.Fa()};f.RA=function(){this.notify("onEditItem")};f.wf=function(a,b,c){kF.l.wf.call(this,a,b,c);l(b.affectedRows)&&0<b.affectedRows&&this.notify("onSaveData")};function lF(a,b){zB.call(this,a,b)}n(lF,zB);lF.prototype.N=function(){var a=null!=P(this.f,"title")?""+P(this.f,"title"):"Listing items";return null!=P(this.f,"addButton")?{title:a,Ue:[P(this.f,"addButton")]}:{title:a}};function mF(a,b,c){RB.call(this,a,b,c);O(this.f,"extendCssClass","wnd-blog")}n(mF,yC);mF.prototype.Xf=function(a){a.stopPropagation();jy(a.currentTarget,"wnd_content_switch");this.notify("onBlogAddArticle",a)};I.j().register("wnd.ui.ListingNavigationBar",Pj,lF,mF);function nF(a,b){qB.call(this,a,b);this.re=!1;this.ac=!0;this.h={"class":"wnd-base wnd-popup-base"};this.kb=R.Mh()}n(nF,qB);f=nF.prototype;f.bc=function(){return nA.j().get(this.No(),document.body,"popup")};f.No=function(){return"Popup"};f.Va=null;f.da=function(){this.Va=Tr(Yt);this.c.appendChild(this.Va)};
f.el=function(){!1!==N(this.f,"withOverlay")&&(this.bc().show(),R.setStyle(document.documentElement,"overflow","hidden"),R.setStyle(document.querySelector("#wnd_toolbar"),"paddingRight",this.kb+"px"),R.setStyle(document.querySelector(".wnd-page"),"paddingRight",this.kb+"px"),R.setStyle(document.querySelector(".tb-right"),"right",this.kb+"px"),this.Tm(!0))};f.setZIndex=function(a){null!=this.B()&&(this.B().style.zIndex=a)};
f.xn=function(a){if(!1!==N(this.f,"withOverlay")||!0===a)this.bc().hide(),R.setStyle(document.documentElement,"overflow","auto"),R.setStyle(document.querySelector("#wnd_toolbar"),"paddingRight",""),R.setStyle(document.querySelector(".wnd-page"),"paddingRight",""),R.setStyle(document.querySelector(".tb-right"),"right","0"),this.Tm(!1)};
f.wn=function(a){if(!1!==N(this.f,"centered")){var b=R.getBounds(this.bc().B()),c=R.getBounds(this.c),d=!1;if(!a){var e;c.width>b.width?e=parseInt(.9*b.width,10):P(this.f,"width")&&(e=parseInt(P(this.f,"width"),10));R.setWidth(this.Va,e?e:"");var g;a=parseInt(.9*b.height,10);c.height>b.height?g=a:P(this.f,"height")&&(g=parseInt(P(this.f,"height"),10),g=a<g?a:g);R.setHeight(this.Va,g?g:"");d=!0}!0===d&&(c=R.getBounds(this.c));g=parseInt(b.width/2-c.width/2,10);R.setStyle(this.c,"top",parseInt(b.height/
2-c.height/2,10)+"px");R.setStyle(this.c,"left",g+"px")}};f.Be=function(){return bp("wnd-popup",this.B())};f.setSize=function(a,b){return nF.l.setSize.call(this,a,b,this.Va)};f.Tm=function(a){bq||Zp||u(r.Popup.suppression,function(b){Hl(Um(b),"wnd-suppression",a)},this)};function oF(a,b){var c=R.getBounds(a.B()),d=R.Zb(document),c=new pm(c.left-d.x,c.top-d.y,c.width,c.height);return c.contains(b)};function pF(a,b){nF.call(this,a,b);this.h={"class":"wnd-base wnd-bubble-base"};this.m=null}n(pF,nF);f=pF.prototype;f.da=function(){this.Va=Tr(Ks);this.m=Tr(Ls);this.c.appendChild(this.Va);this.c.appendChild(this.m)};function qF(a,b){R.setStyle(a.m,"left",0!==b.x?b.x+"px":"");ja(b.y)&&(Hl(a.m,"bottom","bottom"===b.y),Hl(a.m,"top","top"===b.y),Hl(a.m,"right","right"===b.y))}f.Be=function(){return bp("wnd-bubble",this.B())};f.wn=function(){};f.No=function(){return"Transparent"};
f.el=function(){!1!==N(this.f,"withOverlay")&&this.bc().show()};f.xn=function(a){if(!1!==N(this.f,"withOverlay")||!0===a)this.bc().hide(),rF()||(this.Tm(!1),R.setStyle(document.documentElement,"overflow","auto"),R.setStyle(document.querySelector("#wnd_toolbar"),"paddingRight",""),R.setStyle(document.querySelector(".wnd-page"),"paddingRight",""),R.setStyle(document.querySelector(".tb-right"),"right","0"))};function sF(a,b){pF.call(this,a,b)}n(sF,pF);sF.prototype.v=function(){var a=[this.f.left,this.f.top];R.setPosition(this.B(),this.f.left,this.f.top+r.InfoBubble.fadeInAndSlideStart);var b=new Bw(this.B(),r.InfoBubble.fadeInAnimation),a=new tw(this.B(),a,r.InfoBubble.slideAnimation,de);b.play();a.play()};function NB(a,b,c){RB.call(this,a,b,c);delete this.T;this.wa=null;this.nd={};this.qa=[];this.Ia=!1}n(NB,RB);f=NB.prototype;f.pd=function(){return"popup"};f.fa=function(){};f.setZIndex=function(a){this.W=a;this.view.setZIndex(a);this.view.bc().setZIndex((ak||this.f.Ia())-1)};f.getZIndex=function(){return this.W};f.show=function(){rF()||(ak=null);this.view.el();!1===this.T?(this.view.show(),this.jc(),this.Mc(this.ua(),!0)):this.view.render();this.setZIndex(this.f.Mo());this.T=!0;this.sg()};
f.sg=function(){this.vf();tF()};f.jc=function(){this.O();var a=lh.j(),b=this.C(),c=m(this.ig,this);if(null!=a.c[b]){for(var d=Object.keys(a.c[b]),e=0;e<d.length;e++)c.call(a,a.c[b][d[e]]);a.c[b]={}}};f.hide=function(a,b){var c=this.jd(a,b);if(c){this.vn();this.Uk();for(var d=0,e=this.qa.length;d<e;d++)Ih(this,this.qa[d].name,this.qa[d].Mf);this.qa=[];this.Hd()}return c};
f.jd=function(a,b){if(a&&a.type===T&&1==this.Ia)return this.Ia=!1;var c=!0;if(this.W!==(ak||this.f.Ia())&&this.W<(ak||this.f.Ia())&&1<vr(E.j()).length)return!1;if(!1!==b&&a&&a.type==T){a.stopPropagation();var c=R.getBounds(this.B()),d=R.Zb(document),c=new pm(c.left-d.x,c.top-d.y,c.width,c.height),d=new S(a.clientX,a.clientY),c=0<a.clientX&&0<a.clientY&&0==c.contains(d)}c&&!b&&(c=NB.l.jd.call(this,a,b));return c};
f.Uk=function(){this.T&&(this.setZIndex(this.f.Ro()),this.notify("onClose"),!0===N(this.f,"destroyAfterClose")?this.dispose():(uF(this),this.view.hide(),this.T=!1,this.Za()),tF())};f.O=function(){NB.l.O.call(this);this.wa=new Er(document.body);this.c.H(this.wa,"key",this.Er);this.c.H(window,"resize",this.ak);this.c.H(document.body,T,this.hide);this.c.H(document.body,eq,this.dB);this.view.bc().B()&&this.c.H(this.view.bc().B(),T,this.hide)};
f.Za=function(){NB.l.Za.call(this);null!==this.wa&&(this.wa.dispose(),this.wa=null)};f.ak=function(){this.vf()};f.vf=function(a){this.view.wn(a);a=new H("popupResize",this);a.h="children_propagation";this.ba(a)};f.Er=function(a){switch(a.keyCode){case 27:this.hide(null,!0)}};f.X=function(){uF(this);var a=this.view;null!==a.c&&(sp(a.c),a.c=null);this.Za();this.T=!1;tF();delete E.j().g[this.C()];NB.l.X.call(this)};f.vn=function(){this.notify("onBeforeClose")};f.Hd=function(){this.notify("onAfterClose")};
f.Ra=function(){return this.T};f.mb=function(){};f.cancel=function(){this.hide()};f.resize=function(a,b){!0===la(a)&&(a+="px");!0===la(b)&&(b+="px");this.view.setSize(a,b);this.vf(!0)};function eC(a,b,c,d){a.qa.push({name:b,Mf:c});a.observe(b,c,d)}function uF(a){var b=vr(E.j()),c=b.length,b=b[c-2]||null;(1==c||1<c&&null!=b&&b instanceof wr)&&a.view.xn(void 0)}f.Id=function(a){l(a)&&(this.f.c.properties=a)};
f.ig=function(a){if(!1===this.Ya()&&"children_propagation"==a.h){var b=lh.j(),c=this.C();b.c[c]||(b.c[c]={});var d=a.getType();a.c&&a.c instanceof sz&&(d+="-"+a.c.C());a instanceof yg&&(d+="-"+a.J()+"-"+a.g);b.c[c][d]=a}else NB.l.ig.call(this,a)};f.dB=function(a){this.Ia=oF(this.view,new S(a.clientX,a.clientY))};function wr(a,b,c){NB.call(this,a,b,c);this.Ca=!0;null!=P(this.f,"hideAllBeforeShow")&&(this.Ca=!!P(this.f,"hideAllBeforeShow"));this.hb="bottom"}n(wr,NB);f=wr.prototype;f.pd=function(){return"bubble"};f.show=function(){if(this.Ca){var a=vF();u(a,function(a){a.hide()},this)}wr.l.show.call(this)};f.jd=function(){var a=!0,b=vr(E.j());"popup"!=this.pd()&&"bubble"!=this.pd()||u(b,function(b){b.getZIndex()>this.getZIndex()&&(a=!1)},this);return a};f.sg=function(){wF(this);tF()};
f.na=function(a){"resizeWindow"===a.getType()&&this.Ra()&&wF(this)};
function wF(a){var b;if(ma(P(a.f,"coordinates"))){b=P(a.f,"coordinates").call();b=new pm(b.left,b.top,b.width,b.height);var c,d,e,g,h,k;c=R.ff(document.body);d=R.pa(a.view.Va);e=a.xl();g=b.left+b.width/2-r.Bubble.arrow.spaceLeft;h=b.top+b.height+r.Bubble.arrow.spaceTop;k={x:0,y:"top"};if(g+d.width>c.right){var p=g+d.width-c.right+r.Bubble.offset;if(aq||bq)p+=R.Mh();g-=p;k.x=r.Bubble.arrow.defaultLeft+p}g<c.left&&(p=c.left+r.Bubble.offset-g,g=c.left+r.Bubble.offset,k.x=r.Bubble.arrow.defaultLeft-p);
h+e.height>c.bottom&&(h-=b.height+d.height+2*r.Bubble.arrow.spaceTop,k.y="bottom",a.hb="top");0!==k.x&&1>k.x?k.x=1:k.x>=d.width&&(k.x=d.width-1);qF(a.view,k);a.f.left=g;a.f.top=h;b=new S(g,h);R.setPosition(a.view.B(),b)}}f.xl=function(){return R.pa(this.view.Va)};f.Uk=function(){wr.l.Uk.call(this);this.T||this.view.xn()};f.O=function(){wr.l.O.call(this);!1===N(this.f,"withOverlay")&&(this.c.H(this.B(),"mouseover",this.rA),this.c.H(this.B(),gq,this.qA))};
f.rA=function(){kr.j().pause("addContent",!0);this.notify("onMouseOver")};f.qA=function(){tr(kr.j());this.notify("onMouseOut")};function xF(a,b,c){NB.call(this,a,b,c);this.o=this.g=null;this.D=this.I=!1;this.v=new VC;this.v.observe("onResponse",m(this.tA,this),this);this.v.observe("onComplete",m(this.sA,this),this)}n(xF,NB);f=xF.prototype;
f.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Crop image",initRenderFlag:!0}});this.g=this.K(this.C()+"_content","wnd.ui.CropImageContent",this.ua(),{properties:{width:q.FilesystemPreviewSize.detail+"px",height:q.FilesystemPreviewSize.normal+"px",initRenderFlag:!0,previewSize:this.f.ea()}});this.g.observe("onCenter",this.Iu,this);this.o=this.K(this.C()+"_control","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},
initRenderFlag:!0}});yF(this)};f.Iu=function(){this.vf()};f.Rx=function(){this.g.Fa();this.I=!1;var a=this.f.gb();O(this.g.f,"image",a);this.g.init();this.g.v=this.f.qa.Rc;a=this.f.Hc.getSelection();null!=a&&Wi(this.g.f,"selection",a)};f.jc=function(){xF.l.jc.call(this);this.g.init();var a=this.f.Hc.getSelection();null!=a&&Wi(this.g.f,"selection",a)};f.Id=function(a){var b=P(this.f,"selectedItem");a=a.selectedItem;a.ya()!=b.ya()&&O(this.f,"selectedItem",a);cF(this.f,a);yF(this)};
f.mb=function(){!1===this.I&&!1===this.D&&(this.D=!0,this.g.Aa("Wait please..."),this.o.cb("Cancel",!1),this.o.cb("Submit",!1),dF(this.f,m(this.Ns,this)))};
f.Ns=function(){var a;a=this.g;var b=this.f.gb(),c=this.f.ea();b&&O(a.f,"image",b);c&&O(a.f,"previewSize",c);var b=a.f,c=b.gb(),d=P(b,"previewSize"),c=c.width>c.height?c.width/d:c.height/d,b=af(N(b,"selection"));b.x=parseInt(b.x*c,10);b.y=parseInt(b.y*c,10);b.width=parseInt(b.width*c,10);b.height=parseInt(b.height*c,10);b.ue=0;b.ve=0;var c=b.width,d=b.height,e=BB(a.view);e.width=c;e.height=d;a.view.yc=!0;Wi(a.f,"selection",b);b=a.v;a=BB(a.view).toDataURL(b);b=this.f.qa.Rc;this.v.o=!1;"filesystem_files"==
this.f.qa.J()&&(c=this.f.qa.getId(),this.v.v=c);c=this.v;d=r.CropImagePopup.image.prefix+this.f.qa.getId()+b.replace("image/",".");gD(c,a,b,d);XC(this.v)};f.tA=function(a,b,c){"success"!=b&&(this.o.cb("Cancel",!0),this.o.cb("Submit",!0),this.hide(),this.D=!1,c.text&&(a=[c.text],KE(E.j(),a,this)))};
f.sA=function(a,b){var c=this.f.ea(),d=this.f.qa,e=af(this.g.getSelection()),g=d.Ma()>d.getHeight()?c/d.Ma():c/d.getHeight(),e=eF(e,g),c=new jD(e,c,d);this.f.Hc=c;this.notify("onCropImage",b,c);this.D=!1;this.o.cb("Cancel",!0);this.o.cb("Submit",!0);this.hide()};f.cancel=function(){this.hide()};f.ak=function(a){xF.l.ak.call(this,a);this.f.ea()!=this.f.Hc.ea()&&(a=P(this.f,"selectedItem"),a.tb?(a=a.tb.getParent(),this.f.qa=a):this.f.qa=a,yF(this))};
function yF(a){a.g.Aa();a.I=!0;dF(a.f,m(a.Rx,a),a.f.ea())}I.j().register("wnd.ui.CropImagePopup",bF,nF,xF);function zF(a,b,c){NB.call(this,a,b,c);this.g=this.o=null}n(zF,NB);f=zF.prototype;f.fa=function(){this.o=this.K(this.C()+"_content","wnd.ui.InfoPopupContent",null,{properties:{initRenderFlag:!0,type:P(this.f,"type"),title:P(this.f,"title"),text:P(this.f,"text"),params:P(this.f,"params"),extendCssClass:"wnd-info-content"}});this.yh()};f.yh=function(){this.g=this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:this.sj(P(this.f,"params"))})};
f.Id=function(a){if(a.extendCssClass!=P(this.f,"extendCssClass")){var b=this.view,c=a.extendCssClass,d=P(b.f,"extendCssClass"),b=b.B();Fl(b,d);Dl(b,c);O(this.f,"extendCssClass",a.extendCssClass)}this.o.Id(a);null!=this.g&&null!=a.params&&this.g.Id(this.sj(a.params))};
f.sj=function(a){var b={controls:{left:["Submit"]},initRenderFlag:!0,extendCssClass:"wnd-info-controls"};null===a!==!0&&l(a.Upgrade)&&(b.controls={left:["Upgrade"],right:["Close"]},b.Upgrade=a.Upgrade);null===a!==!0&&l(a.Reload)&&(b.controls={left:["Reload"]},b.Reload=a.Reload);null===a!==!0&&l(a.Login)&&(b.controls={left:["Login"]});return b};f.zr=function(){location.reload()};f.mb=function(){Ih(this,"onClose");this.notify("onConfirm");this.hide()};I.j().register("wnd.ui.InfoPopup",Zj,nF,zF);function AF(a,b,c){zF.call(this,a,b,c)}n(AF,zF);AF.prototype.yh=function(){this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:{controls:{left:["SaveAnyway"],right:["Reload"]},initRenderFlag:!0,extendCssClass:"wnd-info-controls"}})};AF.prototype.zr=function(){var a=P(this.f,"serverObject");null!=a&&(a.kj=[]);this.hide(null,!0)};I.j().register("wnd.ui.ChecksumPopup",Zj,nF,AF);function BF(a,b,c){zF.call(this,a,b,c)}n(BF,zF);BF.prototype.yh=function(){var a=["Submit"];P(this.f,"leftButtons")&&(a=P(this.f,"leftButtons"));this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:{controls:{left:a,right:["Cancel"]},initRenderFlag:!0,extendCssClass:"wnd-info-controls"}})};I.j().register("wnd.ui.ConfirmPopup",Zj,nF,BF);function CF(a,b,c){NB.call(this,a,b,c);this.g=this.o=this.D=null;this.v=!1}n(CF,NB);f=CF.prototype;
f.fa=function(){this.D=this.K(this.C()+"_nav_bar","wnd.ui.ListingNavigationBar",null,{properties:this.Ll()});var a=this.K(this.C()+"_listing_area","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,height:r.ListingPopup.mainContent.height,width:r.ListingPopup.mainContent.width}});this.o=a.K(this.C()+"_list_menu","wnd.ui.ListMenu",null,{collectionSettings:this.Lo(),properties:this.Il()});this.g=a.K(this.C()+"_item_edit","wnd.pc.BlogPostEdit",null,{properties:this.Cl()})};f.Ll=function(){return{initRenderFlag:!0}};
f.Lo=function(){return{orderBy:r.ListingPopup.dataSettings.orderBy,filter:r.ListingPopup.dataSettings.filter}};f.Il=function(){return{initRenderFlag:!0,enabledDragDrop:!0,width:r.ListMenu.width,height:r.ListMenu.height}};f.Cl=function(){return{initRenderFlag:!0,width:r.ListingItemEdit.width,height:r.ListingItemEdit.height,autoSave:!0}};
f.O=function(){CF.l.O.call(this);this.g.observe("onItemNameChange",m(this.Xv,this),this);this.g.observe("onDeleteItem",m(this.TA,this),this);this.g.observe("onEditItem",m(this.UA,this),this);this.g.observe("onSaveData",m(this.VA,this),this)};f.Xv=function(a,b){var c=this.o;null===c.o||c.o.De(b)};f.TA=function(){var a=this.o;if(null!==a.o){var a=a.o,b=new yg("dataDelete","parent_propagation","listing_items",a,a.getId());a.ba(b)}this.v=!0};
f.UA=function(){var a=this.o;null!==a.o&&(window.location.href=a.o.$c())};f.VA=function(){this.v=!0};f.jc=function(){CF.l.jc.call(this);this.g.Cc();this.v=!1};function DF(a,b,c){zF.call(this,a,b,c)}n(DF,zF);DF.prototype.yh=function(){this.g=this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:this.sj(P(this.f,"params"))});this.g.observe("onUpgrade",m(this.notify,this,"onUpgrade"),this);this.g.observe("onPublish",m(this.notify,this,"onPublish"),this)};
DF.prototype.sj=function(a){var b={uri:"",text:"",target:"_blank"},c={left:["Upgrade"],right:["Cancel"]};null!=a&&(b.uri=a.upgradeUri||"",b.text=a.upgradeText||"",null!=a.controls&&(c.left=a.controls.left||["Upgrade"],c.right=a.controls.right||["Cancel"]));return{controls:c,Upgrade:b,initRenderFlag:!0,extendCssClass:"wnd-info-controls"}};I.j().register("wnd.ui.PremiumPopup",Zj,nF,DF);function EF(a,b,c){zF.call(this,a,b,c)}n(EF,zF);EF.prototype.yh=function(){};EF.prototype.hide=function(a,b){b&&EF.l.hide.call(this,a,b);return!1};I.j().register("wnd.ui.WaitingPopup",Zj,nF,EF);function FF(a,b){qB.call(this,a,b)}n(FF,qB);FF.prototype.da=function(){Qr(this.B(),Zt)};function GF(a,b,c){RB.call(this,a,b,c)}n(GF,RB);GF.prototype.Wa=function(){this.Aa();var a=Bg.j().get("server_projects"),b=m(this.g,this);a.c("",{"server_projects.private_access_type":"MEMBER_LOGIN"},null,b,void 0)};GF.prototype.g=function(){this.Fa();this.notify("onActivateMemberLogin")};GF.prototype.fa=function(){};I.j().register("wnd.ui.PrivateAccessActivationArea",sv,FF,GF);function HF(a,b,c){tC.call(this,a,b,c);this.o.Continue=m(this.g,this);this.o.TryForFree=m(this.g,this)}n(HF,tC);HF.prototype.g=function(){this.notify("onContinue");return!0};I.j().register("wnd.ui.PrivateAccessActivationBar",Oj,xB,HF);function IF(a,b,c){NB.call(this,a,b,c)}n(IF,NB);
IF.prototype.fa=function(){this.o=this.K(this.C()+"_activation-area","wnd.ui.PrivateAccessActivationArea",this.ua(),{properties:{initRenderFlag:!0}});this.o.observe("onActivateMemberLogin",this.D,this);var a=["Continue"];vo.j().hasFeature("approve_members_enabled")||(a=["TryForFree"]);this.g=this.K(this.C()+"_control_bar","wnd.ui.PrivateAccessActivationBar",this.ua(),{properties:{initRenderFlag:!0,extendCssClass:"wnd-info-controls",controls:{left:a,right:["Cancel"]}}});this.g.observe("onContinue",
this.v,this)};IF.prototype.D=function(){this.g.show();this.notify("onActivatePrivateAccess","MEMBER_LOGIN");this.hide()};IF.prototype.v=function(){!0===P(this.f,"withActivation")?(this.o.Wa(),this.g.hide()):(this.notify("onActivatePrivateAccess","MEMBER_LOGIN"),this.hide())};I.j().register("wnd.ui.PrivateAccessActivationPopup",Zj,nF,IF);function JF(a,b){rB.call(this,a,b)}n(JF,rB);function KF(a,b,c){if(null==a.m){var d="#";null!=t.usersManagementUrl&&(d=t.usersManagementUrl);a.m=gs($t,{href:d,type:P(a.f,"dataType")})}c&&rp(a.m,b.querySelector("label"));R.aa(a.m,c)};function LF(a,b){pF.call(this,a,b);this.re=!1;this.h={"class":"wnd-base wnd-toolbox-base"};this.W={};this.qa=null;this.Nc=new S(0,0);this.$e=!0;this.La=!1;this.M=this.bd=this.v=null;this.ic=!1;this.R=this.G=null}n(LF,pF);f=LF.prototype;f.da=function(){null==this.Va&&(this.Va=Tr(qu),this.setZIndex(r.Toolbox.zIndex),this.m=Tr(ru),this.v=Tr(su),this.bd=Tr(tu),this.M=Tr(vu),this.Va.appendChild(this.m),this.Va.appendChild(this.v),this.Va.appendChild(this.bd),this.Va.appendChild(this.M),this.B().appendChild(this.Va))};
function MF(a,b,c){R.setStyle(a.m,"visibility",b?"visible":"hidden");!0===b&&qF(a,{x:parseInt(a.Va.offsetWidth/2-r.Toolbox.arrowCorrectPosition,10),y:c||"bottom"});a.$e=b}f.el=function(){};f.le=function(a){return this.W[a]||null};function NF(a){var b=parseInt(r.Toolbox.topOffset,10);a.ic&&(b-=r.Toolbox.largeBoxDifference);return b}function OF(){return r.Toolbox.arrowOffset}function PF(){return r.Toolbox.offset}function QF(){return r.Toolbox.leftSideOffset}
function RF(){return r.Toolbox.rightSideOffset}f.setStyle=function(a){Hl(this.Va,"white",a===SF)};function TF(a,b){null!=a.v&&(a.v.style.height=b?"calc(100% + "+b+"px)":"")}function UF(a){!0===(null!=a.qa)&&(sp(a.qa),a.qa=null)}f.getBounds=function(){null===this.G&&(this.G=R.getBounds(this.B()));var a=this.G.clone();if(this.f.Nd()){var b=R.Zb(document);a.top-=b.y;a.left-=b.x}return a};function VF(a,b){Hl(a.Va,"wnd-tbx-large",b===xi);a.ic=b===xi}
f.Lm=function(a){this.B()&&(this.B().style.position=a?"fixed":"")};function WF(a,b,c){wr.call(this,a,b,c);this.I=!1;this.Na=null;this.o=!1;this.D={};this.g={};this.v={};this.Gb=[XF,YF,ZF,$F,aG,bG];this.yc=[cG,dG,eG];this.Ca=this.G=!1;this.U=null}n(WF,wr);var UE="remove",XF="edit-text",YE="edit-image",cG="change-style",dG="change-font",eG="change-listing-variant",bG="logo-edit-text",YF="format-bold",ZF="format-italic",$F="format-font-decrease",aG="format-font-increase",SF="light",xi="large";f=WF.prototype;f.pd=function(){return"toolbox"};
f.ka=function(a){WF.l.ka.call(this,a);this.hide(null,!0)};function bg(a,b,c,d,e,g){D(b)?a.hide(null,!0):a.Ya()?(fG(a),gG(a)):(g=!!g,a.f.xh=g,a.view.Lm(g),a.show(),a.view.show(),hG(a,b,c,a.view.bd,!0,e)?(a.O(),a.I=!0,b=!!P(a.f,"arrow"),c&&(b=!1),MF(a.view,b),gG(a),d&&la(d)&&a.view.setZIndex(r.Toolbox.zIndex+d)):a.hide())}f.Ya=function(){return this.I};f.Ra=function(){return!1};
f.jd=function(a,b){var c=b||this.Ya()&&!iG(this,a,!0);$f(Zf.j(),this.C())&&a&&a.type===T&&(c=!1);c&&(c=WF.l.jd.call(this,a,b));return c};f.hide=function(a,b){if(!1===WF.l.hide.call(this,a,b))return!1;fG(this);jG(this);this.Za();this.view.setZIndex(r.Toolbox.zIndex);VF(this.view,"normal");this.view.hide();this.I=!1;return!0};function iG(a,b,c){var d=!1;a.Da()&&b&&(d=a.Da(),d=R.getBounds(d.view.B()),b=pr(kr.j(),b),d=d.contains(b)||!0===c&&kG(a.Da()));return d}
function hG(a,b,c,d,e,g){var h=!1,k=b.length;a.f.fd=c;u(b,function(a){if(F(this.yc,a.c)){if(l(this.g[a.c]))this.g[a.c].Qd(a.A,a.m,!0);else{var b=I.j().create(this.C()+"_dropdown_"+a.c,"wnd.ui.DropdownSwitcher",d,this,{properties:{initRenderFlag:!0,title:a.wg,items:a.A,selected:a.m,maxHeight:a.F}});b.observe("selectItem",a.Bo.call(a),this);b.observe("titleChanged",m(this.Yw,this),this);b.observe("onOpen",m(this.qw,this),this);b.observe("onClose",m(this.dv,this),this);this.g[a.c]=b}h=!0}else{var c;
c=this.view;b=[];b.push(r.Toolbox.buttonClassName);b.push(a.c);a.dj&&b.push(r.Toolbox.disabledButtonClassName);b={className:b.join(" "),icon:a.zq,name:a.wg,title:a.Rn};switch(a.c){case UE:case "remove-confirm":case "remove-form-confirm":1===k&&!1===c.f.fd&&(b.name="Delete");break;case "add-link":b.name="Add link";break;case "field-properties":Qg(a.wg)&&(b.name="Properties");break;case "edit-link":case "edit-or-remove-link":Qg(a.wg)&&(b.name="Edit link");break;case "edit":case YE:case "edit-map":case "edit-video":b.name=
"Edit";break;case XF:b.name="Edit text";break;case "edit-select-options":b.name="Edit options";break;case "edit-email-notification":Qg(a.wg)&&(b.name="Contact email");break;case "list-add":b.name="Add item";break;case "list-manager":b.name="Manage Item";break;case "list-layout":b.name="Layout";break;case "blog-add":b.name="Add a Blog Post";break;case "blog-manager":b.name="Manage Posts";break;case cG:b.icon=1===k;b.name="Style";break;case "change-image":b.name="Change image";break;case dG:b.name=
"Font";break;case eG:b.name="Listing variant";break;case "go-to":b.name="Go to";break;case "form-submit-action":b.name="Action after submitting";break;case "form-action-after-login":b.name="Action after login"}null!=c.W[a.c]?c=null:(a.Zp&&delete b.name,b=Tr(uu,b),d.appendChild(b),e&&(c.W[a.c]=b),R.aa(b,!0),c=b);if(null!=c){var b=c,g=null;switch(a.c){case "remove-confirm":g=m(this.al,this,a,null);break;case "remove-form-confirm":g=m(this.al,this,a,"remove-form-confirm");break;case "add-link":case "edit-link":case "field-properties":case "edit-or-remove-link":case "edit-map":case "edit-video":case "image-edit":case "form-submit-action":case "form-action-after-login":case "edit-select-options":case "edit-email-notification":g=
m(this.Gs,this,a);break;case "go-to":g=m(this.Ft,this,a);break;default:l(a.Fi)&&(g=a.Fi)}a.h&&(g=m(this.Ms,this,a));this.c.H(b,T,m(this.fB,this,g,a));h=!0;e&&(this.f.buttons.push(a),this.f.Ca.push(a.c))}else{b=nh(this.f.Ca,a.c);if(-1===b)return;ha(this.f.buttons[b])||(this.f.buttons[b]=[this.f.buttons[b]]);this.f.buttons[b].push(a)}}a.observe("onChangeDisabledState",m(this.Gu,this,c),this)},a);Hl(a.view.Va,"inside",c);!1===a.getParent()instanceof lG&&(a.f.Eh=c?SF:"dark",a.view.setStyle(a.f.Eh));null!=
g&&VF(a.view,g);return h}f.Gu=function(a,b,c){Hl(a,r.Toolbox.disabledButtonClassName,c.dj)};f.fB=function(a,b,c){c.stopPropagation();b.dj||(mG(this),!F(this.Gb,b.c)&&this.Da()&&this.Da().$i(),null!=a?a.call(this,c):F(this.f.Ca,b.c)&&(a=this.f.buttons[nh(this.f.Ca,b.c)],ha(a)?(th(a,function(a){return kG(a.Da())?(b=a,!0):!1},this),b.Fi.call(b,c)):a.Fi.call(b,c)))};
f.O=function(){WF.l.O.call(this);this.c.H(window,"scroll",m(this.jB,this));this.c.H(this.B(),"mouseover",m(this.iB,this));this.c.H(this.B(),gq,m(this.hB,this));this.c.H(this.B(),T,m(this.gB,this));this.c.H(this.view.M,T,m(this.bv,this),!1)};f.jB=function(a){if(this.G)return a.stopPropagation(),a.preventDefault(),!1;gG(this,!0);return!0};f.iB=function(a){this.notify("overToolbox",a)};f.hB=function(a){this.notify("outToolbox",a)};f.gB=function(a){var b=new iq(a);(iG(this,a)||WE(this,b,!0))&&a.stopPropagation()};
f.bv=function(a){a.stopPropagation();nG(this)};function jG(a){D(a.f.Ca)||(u(a.f.Ca,function(a){var c=this.view,d=c.le(a);!0!==(null===d)&&(sp(d),delete c.W[a])},a),a.f.buttons=[],a.f.Ca=[]);a.f.fd=!1;Xe(a.g)||(z(a.g,function(a){a.dispose()},a),a.g={});Xe(a.v)||(z(a.v,function(a){R.aa(a,!1)},a),a.v={});null!=a.U&&(TF(a.view),a.U=null)}
function gG(a,b){var c;(c=!a.Ya()||a.ub||cq)||(c=$f(Zf.j(),a.C())&&b);if(c)return!1;c=a.f.fd;a.f.fd=c&&!a.o;var d=a.view;P(d.f,"expandWidth")&&R.setWidth(d.B(),d.f.qd.width);var e=P(d.f,"buttonPosition");e&&Dl(d.B(),e);var d=a.view,g=a.getParent()instanceof RB,e=a.o;if(na(d.f.qd)){var h=!0,k;k=d.f.qd;var p=k.left+k.width-d.getBounds().width,w=k.top;if(!0===d.f.fd){k=p;var p=PF(),v;aq||bq?(null===d.R&&(d.R=R.Mh()),v=d.R+5):v=0;p=k-(p+v);w+=PF()}else switch(w-=d.getBounds().height+PF()+OF(),P(d.f,"position")){case "left":p=
k.left;break;case "right":break;default:p-=k.width/2-d.getBounds().width/2}k=new S(p,w);p=w=k.y;v=b||!1;if(null===P(d.f,"noScroll")||!1===P(d.f,"noScroll")){var C=NF(d),G=d.f.qd;if(!1===d.f.Nd()&&document.body===d.ab()){var J=p-C,G=G.top+G.height-d.getBounds().height-C-OF(),V=fp(document);V.y>J&&V.y<=G?p=V.y+C:V.y>G&&!1===g&&(!1===v&&window.scrollTo(V.x,G-C),p=G+C)}v=NF(d);var C=d.f.qd,J=fp(document),G=R.ff(Dx()),V=C.height+C.top,Va=d.getBounds().height+PF()+OF(),J=C.top-Va<v&&G.bottom-G.top>V+Va-
J.y,G="bottom";!g&&(C.top<=v||J)&&(p=C.top+C.height+PF()+OF(),G="top");MF(d,d.$e,G)}k=k.x;v=P(d.f,"withoutSideCorrection");if(null===v||!1===v)v=ep(window),C=k,k+d.getBounds().width+RF()>v.width?k=v.width-d.getBounds().width-RF():k<QF()&&(k=QF()),C!==k&&qF(d,{x:parseInt(d.Va.offsetWidth/2-5+C-k,10),y:null});v=p;k===d.getBounds().left&&v===d.getBounds().top?d=!1:(d.La!==(w==p)&&(d.La=w==p,Hl(d.Va,"expanded",d.La)),g&&(g=k,h=p,w=null,k=d.f.qd,k.top+k.height<d.getBounds().height&&(e?(h+=OF(),w="top"):
h=k.top-k.height),e=P(d.f,"viewportSize"),l(e)&&g+d.getBounds().width>e.width&&(g=k.left+k.width-d.getBounds().width+QF()),qF(d,{x:parseInt(k.left+k.width/2-g-r.Toolbox.arrowCorrectPosition,10),y:w}),e=new S(g,h),k=e.x,p=e.y,h=!1),d.Nc=(new S(k,p)).round(),R.setPosition(d.B(),d.Nc),d=h)}else d=!1;a.f.fd=c;return d}f.le=function(a){return this.view.le(a)};
function oG(a,b){D(a.f.Ca)||(R.aa(a.view.bd,b),a.f.fd&&!1===a.getParent()instanceof lG&&(a.f.Eh=b?SF:"dark",a.view.setStyle(a.f.Eh)),Hl(a.view.Va,"inside",a.f.fd))}function fG(a){null!=a.view.qa&&(a.o=!1,UF(a.view),a.notify("removeCancelled"));pG(a);oG(a,!0);MF(a.view,!a.f.fd);a=a.view;a.R=null;a.G=null}function qG(a){a.Ya()&&(VF(a.view,"normal"),fG(a),gG(a))}function nG(a){var b=a.view;b.R=null;b.G=null;gG(a)&&!a.view.$e&&MF(a.view,!0,void 0)}f.mb=function(){this.hide();this.Da()&&this.Da().sb()};
f.Da=function(){var a=null;null!=this.getParent()&&l(this.getParent().Da)&&(a=this.getParent().Da());return a};function WE(a,b,c){var d=!1;c?(a=a.view.getBounds(),b=pr(kr.j(),b.c),d=a.contains(b)):d=-1<a.B().outerHTML.indexOf(b.target.outerHTML);return d}f.bc=function(){var a=this.getZIndex()-1,a=nA.j().get("Transparent",this.ab(),"toolbox_form",a,m(this.ip,this));this.Na=a.C();return a};f.ip=function(){N(this.f,"withOverlay")&&this.bc().hide()};
f.al=function(a,b,c){c&&c.stopPropagation();pG(this);oG(this,!1);this.o=!0;c=this.view;b=b?b:"remove";UF(c);c.qa=Tr(wu,{Bs:b});b=c.qa.querySelector("a");c.M.appendChild(c.qa);this.c.H(b,T,a.Bo.call(a));a=this.f.fd;SF===this.f.Eh&&this.view.setStyle("dark");this.f.fd&&(this.f.fd=!1,Hl(this.view.Va,"inside",!1));nG(this);this.f.fd=a;this.notify("removeConfirm")};
f.Ft=function(a,b){b.stopPropagation();if(a.Hj){var c=new H("saveAndDeactivateContentItems",this);this.ba(c);a.aq?window.open(a.Hj):window.location.href=a.Hj}};f.Gs=function(a,b){b.stopPropagation();pG(this);oG(this,!1);this.o=!0;if(l(this.D[a.c])){var c=a.g?a.g.call():a.Da().C();this.D[a.c].Ha(c);this.D[a.c].show()}else c=a.o.call(a,this,a),c.observe("onChangeItemsVisibility",this.Lu,this),this.D[a.c]=c;nG(this);"image-edit"===a.c&&this.bc().show()};f.Lu=function(){nG(this)};
function pG(a){UF(a.view);z(a.D,function(a,c){c===dG?(a.dispose(),delete this.D[c]):a.hide()},a);z(a.v,function(a){R.aa(a,!1)},a);a.ip();a.o=!1}f.qw=function(a,b){mG(this,b);this.G=!0};f.dv=function(){this.G=!1};function mG(a,b){Xe(a.g)||z(a.g,function(a){l(b)&&a===b||a.Re(!1)},a)}f.Yw=function(){gG(this)};
f.Ms=function(a,b){b.stopPropagation();pG(this);oG(this,!1);this.o=!0;if(l(this.v[a.c]))R.aa(this.v[a.c],!0);else{var c=this.view,d=Tr(xu);c.M.appendChild(d);hG(this,a.h,this.f.fd,d,!1);this.v[a.c]=d}VF(this.view,a.L||"normal");nG(this)};f.getBounds=function(){return this.view.getBounds()};I.j().register("wnd.ui.Toolbox",ck,LF,WF);function rG(a,b){ly.call(this,a,b);this.h={"class":P(this.f,"css").base};this.G=this.wa=this.W=this.v=null;this.R=!0}n(rG,nB);f=rG.prototype;f.hd=function(){};f.da=function(){if(null===P(this.f,"soyTemplate"))throw new Oa("Missing SOY template.");};
f.Am=function(){null==this.wd()&&(this.v=gs(Bt,{css:P(this.f,"css")["search-form"],value:"",placeholder:"Search...",maxLength:255}),this.W=this.v.querySelector("input"),this.wa=gs(P(this.f,"soyTemplate").Kq,{css:P(this.f,"css")["found-items"]}),this.G=gs(P(this.f,"soyTemplate").Kq,{css:P(this.f,"css")["tree-items"]}),this.B().appendChild(this.v),this.B().appendChild(this.wa),this.B().appendChild(this.G))};f.wd=function(){return this.G};f.yd=function(){return this.v};f.nc=function(){return this.W};
f.Ok=function(){Dl(this.yd(),P(this.f,"css")["search-inuse"])};f.Pf=function(){Fl(this.yd(),P(this.f,"css")["search-inuse"])};f.Im=function(){Dl(this.nc(),P(this.f,"css")["search-not-empty"])};f.Hm=function(){Fl(this.nc(),P(this.f,"css")["search-not-empty"])};f.pl=function(){Dl(this.B(),P(this.f,"css")["menu-with-search"]);this.nc().value&&(this.nc().value="",this.Pf());R.aa(this.yd(),!0)};f.ml=function(){this.Pf();Fl(this.B(),P(this.f,"css")["menu-with-search"]);R.aa(this.yd(),!1)};
f.hi=function(a,b){this.wa.innerHTML="";if(this.R===a&&!b)return!1;R.aa(this.wd(),!a);R.aa(this.wa,a);this.R=a;return!0};function sG(a,b,c){LB.call(this,a,b,c);this.ea=!0;this.g={};this.G={};this.o={};this.xa={};this.U={};this.V=this.T=null;this.D=[];this.la=!1;this.v=null;this.qa=new Er;this.I=[];null===P(this.f,"soyTemplate")&&O(this.f,"soyTemplate",yu)}n(sG,LB);f=sG.prototype;f.Mq="wnd.ui.TreeMenuItem";f.Lq="wnd.ui.TreeMenuGroup";f.ka=function(a){sG.l.ka.call(this,a);this.view.Am();this.Aa();this.f.Ea(this.nf,null,this)};
function tG(a){a.Aa();uG(a,[]);a.ea=!0;a.g={};a.G={};a.o={};a.xa={};a.U={};a.T=null;a.D=[];a.v=null;a.I=[];var b=a.f;b.g={};b.M=[];b.xa=[];b.we=null;a.f.Ea(a.nf,null,a)}f.Mk=function(){vG(this,this.f.we)};
f.nf=function(a,b,c,d){this.Fa();this.view.hi(!1,!0);a=this.f.Dn(b,d.order);this.f.we=a.rootId;this.f.xa=[];this.G={};b={};var e;d=[];var g=a.items.length;r.TreeMenu.minCountForSearch<g?this.view.pl():this.view.ml();for(var h=0;h<g;h++){c=a.items[h];e=P(this.f,"css")["item-id-prefix"]+c.id;this.G[e]=c.id;this.f.xa.push(c.id);this.f.g[c.id]=c;d.push(c.id);var k=e,p=c,w=a.firstLevel,v=b;e=!0;var C=this;l(this.o[p.parent_id])?C=this.o[p.parent_id]:p.x==w&&l(this.g[p.parent_id])&&(C=this.g[p.parent_id]);
if(Mg(I.j(),k))this.g[p.id].Zh(p,C);else{var G=this.wd();l(v[p.parent_id])&&(G=v[p.parent_id],e=!1);this.g[p.id]=I.j().create(k,this.Mq,G,C,{id:p.id,create:{data:p},properties:{soyTemplate:P(this.f,"soyTemplate"),css:P(this.f,"css"),firstLevel:w,isRoot:this.f.we===p.id}})}k=this.g[p.id];k.D=e;k.view.xg();(g<=r.TreeMenu.minCountForReduced||-1<this.D.indexOf(c.id)&&!this.g[c.id].hf())&&hB(this.g[c.id],!0);this.U[this.g[c.id].Ke().id]=c.id;if(c.x>=a.firstLevel&&l(a.items[h+1])&&a.items[h+1].x>c.x||P(this.f,
"enabledDragDrop")&&c.x>=a.firstLevel)e=P(this.f,"css")["group-id-prefix"]+c.id,this.xa[e]=c.id,k=c,Mg(I.j(),e)?this.o[k.id].Zh(k):(p=this.g[k.id].B(),this.o[k.id]=I.j().create(e,this.Lq,p,this.g[k.id],{id:k.id,create:{data:k},properties:{soyTemplate:P(this.f,"soyTemplate"),css:P(this.f,"css")}})),b[c.id]=this.o[c.id].B();c.id==this.v&&vG(this,c.id)}null===this.v&&this.Mk();uG(this,d);this.f.M=this.f.xa;P(this.f,"enabledDragDrop")&&(null===this.V&&(this.V=new SA(this),this.V.observe("onDragstart",
this.pB,this),this.V.observe("onDragend",this.nB,this),this.V.observe("onDragover",this.oB,this),this.V.observe("onDrop",this.Gr,this)),this.V.init(),this.V.reset(),this.V.init());this.ea&&(wG(this),this.ea=!1);this.notify("treeRendered")};
f.O=function(){sG.l.O.call(this);null!=this.view.yd()&&this.c.H(this.view.yd(),T,m(this.mB,this));null!=this.view.nc()&&(Fr(this.qa,this.view.nc()),this.c.H(this.qa,"key",m(this.qB,this)),this.c.H(this.view.nc(),"blur",m(this.lB,this)));null!=this.view.wa&&this.c.H(this.view.wa,T,m(this.Jv,this))};f.mB=function(a){this.view.Ok();this.view.nc()!==a.target&&this.view.nc().focus()};f.qB=function(a){13===a.keyCode&&(a.stopPropagation(),a.preventDefault());requestAnimationFrame(m(this.kB,this,a,a.target.value))};
f.kB=function(a,b){var c=a.target.value;c?(this.view.hi(!0),this.I=[],z(this.g,m(this.Jx,this,c),this),b||this.view.Im()):(this.view.hi(!1),this.view.Hm())};f.Jx=function(a,b){var c=b.ql(a);if(null!==c){var d=this.view;iy(c,r.TreeMenu.clonedItemAttrIndex,""+this.I.length);d.wa.appendChild(c);this.I.push(b)}};f.Jv=function(a){a=xG(this,a);null!==a&&(a=jy(a,r.TreeMenu.clonedItemAttrIndex),null!==a&&l(this.I[Number(a)])&&this.I[Number(a)].Wa())};
function xG(a,b){return Fp(b.target,m(function(a){return Cl(a,P(this.f,"css")["item-text"])},a))}f.lB=function(a){a.target.value||this.view.Pf()};function uG(a,b){z(a.g,function(a){a=a.getId();F(b,a)||(this.g[a].dispose(),delete this.g[a],this.o[a]&&(this.o[a].dispose(),delete this.o[a]))},a)}
f.na=function(a){"treeItemActivate"===a.getType()?(this.T!==a.c&&(null!==this.T&&this.T.pb(),this.T=a.c,this.notify("treeItemActivate",a.c.getId(),a.c)),this.v=a.c.getId(),a.stopPropagation()):"treeItemRefresh"===a.getType()?a.stopPropagation():"treeGroupOpen"===a.getType()?(-1===this.D.indexOf(a.c.getId())&&this.D.push(a.c.getId()),a.stopPropagation()):"treeGroupClose"===a.getType()&&(-1<this.D.indexOf(a.c.getId())&&this.D.splice(this.D.indexOf(a.c.getId()),1),a.stopPropagation())};
function UA(a){z(a.g,function(a){var c=this.V;P(a.f,"isRoot")?a.hh("top"):(c.Ka(a.B()),Rz(c,a.Ke()))},a)}f.pB=function(a,b){this.la=!1;var c=this.g[this.G[b.Bb.id]];c.He(!0);var d=this.f.xa.indexOf(c.getId()),c=this.f.g[c.getId()].x;this.f.M=[];for(var e,g=!0,h=0,k=this.f.xa.length;h<k;h++)e=this.f.g[this.f.xa[h]],g&&h>d&&e.x<=c&&(g=!1),h===d||g&&h>d&&e.x>c||this.f.M.push(this.f.xa[h])};
f.oB=function(a,b,c,d,e){if(!l(c))throw new Oa("Unable to find MVC target items.");if("parent"===e)try{yG(this,c);var g=kB(c).B(),h=b.B();g.appendChild(h)}catch(k){throw new Oa("Cannot change DOM: goog.dom.appendChild("+kB(c).getId()+", "+b.getId()+") - ["+a+", "+d+", "+e+"]");}else if("top"===d)try{yG(this,c.getParent()),qp(b.B(),c.B())}catch(k){throw new Oa("Cannot change DOM: goog.dom.insertSiblingBefore("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}else if("bottom"===d)try{yG(this,
c.getParent()),rp(b.B(),c.B())}catch(k){throw new Oa("Cannot change DOM: goog.dom.insertSiblingAfter("+b.getId()+", "+c.getId()+") - ["+a+", "+d+", "+e+"]");}};function yG(a,b){var c;if(c=b!=a&&!b.hf())c=b.getId(),c=null!=a.o[c];c&&(c=b.getId(),c=a.o[c],hB(c.getParent(),!0),iB(c,!0))}f.Gr=function(a,b,c,d,e){this.la||(b.He(!1),null!==c&&(this.la=!0,zG(this,b,c,d,e)))};
f.nB=function(){var a;a=this.V;a={mvcDragging:a.P,mvcDropped:a.G,position:a.ea,changeType:a.A};null===a.mvcDragging&&null===a.mvcDropped||this.Gr(0,a.mvcDragging,a.mvcDropped,a.position,a.changeType)};
function zG(a,b,c,d,e){var g=b.getId(),h=[],k=m(a.Tp,a);"parent"===e?(h.push({parentId:c.getId()}),bB(a,c)&&h.push({before:cB(a,c).getId()})):(aB(b)!==aB(c)&&h.push({parentId:aB(c)}),b={before:c.getId()},"bottom"===d&&(b.parentId=aB(c)),h.push(b));c=h.length;d=new gi("moveTreeItem",c);gr(Ph.j(),d);a=Bg.j().get(a.f.J());for(b=0;b<c;b++)a.c(g,null,h[b],b+1===c?k:void 0,d)}
f.Tp=function(a,b,c){a=c.getData();a=new yg("dataUpdate","parent_propagation",this.f.J(),this,a.id);this.ba(a);this.f.update("data_updated");this.f.Ea(this.nf,null,this)};f.wd=function(){return this.view.wd()};function $A(a,b){return a.g[b]}function AG(a){return null!=a.g[a.v]?a.g[a.v]:null}function ZA(a,b){return b.getId()===a.f.we}function dB(a,b,c,d){b=b.getId();var e=c.getId(),e=a.f.g[e].x;"parent"===d&&(e+=1);a.f.g[b].temporaryX=e;a.f.g[b].temporaryParentId=aB(c)}
f.Dj=function(a){a=fB(this,a.getId());a=this.f.M[a-1];return l(a)?this.g[a]:null};function YA(a,b){var c=fB(a,b.getId());return a.g[a.f.M[c+1]]}function bB(a,b){var c=a.f.g[b.getId()],d=fB(a,c.id),d=a.f.g[a.f.M[d+1]];return null!=d&&d.x===c.x+1&&BG(d)===c.id}function cB(a,b){var c=a.f.g[b.getId()],d=fB(a,c.id),d=a.f.g[a.f.M[d+1]];return null!=d&&d.x===c.x+1&&BG(d)===c.id?a.g[d.id]:null}function XA(a,b,c){c=a.f.g[c.getId()];for(b=b.getId();b=a.f.g[b];){if(c.id===BG(b))return!0;b=BG(b)}return!1}
f.Pj=function(){return!1};function BG(a){return a.temporaryParentId||a.parent_id}function fB(a,b){var c=a.f.M.indexOf(b);-1===c&&(c=a.f.xa.indexOf(b));return c}function WA(a,b,c,d){var e=null,g=null,h=a.Dj(b);null!=d&&"parent"===d&&(h=b);null!=h&&(e=h.getId(),a=YA(a,h),null!=a&&(g=a.getId()));g===b.getId()&&"bottom"===c&&(e=b.getId(),g=null);return{before:e,after:g}}function wG(a){var b=a.g[a.v];l(b)&&(b=R.zl(b.B(),a.view.wd(),!0),a.view.wd().scrollTop=b.y)}
function vG(a,b){null!=a.g[b]&&(a.g[b].Wa(),a.T=a.g[b])};function CG(a,b){K.call(this);this.D=parseInt(r.StyleSwitcher.maxItems,10);this.v=this.o=0;this.F=[];this.m=[];this.h={};this.P=[];this.I={};this.c={};this.A={};this.T=["solidColors","patterns",Tj,"publicImages",fr,"videos"];this.R=[fr,"videos"];this.S=this.G=this.ha=this.L=this.g=null;a=a||{};if(null!=a.id){var c=a;null!=c.dataType&&"filesystem_files"===c.dataType&&(c.id=parseInt(c.id,10));c=(new XD).Sd(c);c.tb&&c.tb.getParent()?(this.L=af(c),c=DG(c.tb.getParent())):c.ke&&(c=DG(c.ke.getParent()));
0==c.bb&&"publicImages"==c.ja&&NC(c,c.ya());this.G=c.getId();EG(this,c)}else null!=b&&(this.G=b);this.M={}}n(CG,K);
function FG(a,b){a.v=0;a.F=[];a.m=[];a.h={};a.h.solidColors=[];a.h.solidColorSchemes=[];a.h[Tj]=[];a.h[fr]=[];a.h.publicImages=[];a.h.patterns=[];a.h.videos=[];a.o=parseInt(a.D,10);l(b)&&l(b.solidColorSchemes)&&l(b.solidColorSchemes.colors)&&u(b.solidColorSchemes.colors,a.wx,a);0===a.v&&(a.D-=r.StyleSwitcher.countItemsByType.solidColorSchemes,a.o=a.D);if(0>=a.o)GG(a);else{if(null!==a.g&&a.g.J()&&"solidColorSchemes"!==a.g.J()){var c={},d;"filesystem_files"===a.g.J()?(d=Tj,c=af(r.MediaListFilesystem[d].collectionSettings),
c.filter.push({key:"filesystem_files.id",operator:"=",value:a.Md(),suffix:"",prefix:"AND"})):"my_videos"===a.g.J()?(d=fr,c=af(r.MediaListVideos[d].collectionSettings),c.filter=[{key:"my_videos.id",operator:"=",value:a.Md(),suffix:"",prefix:""}]):(d=a.g.ja,c.id=a.Md());a.P.push({type:d,request:L.j().get(a.g.J(),c)})}HG(a,"publicImages",a.o,b);HG(a,"patterns",a.o,b);b&&b.videos&&HG(a,"videos",a.o,b);D(rv())||a.P.push({type:"solidColors",request:L.j().get(r.MediaListSolidColors.solidColors.dataType,
b.solidColors)});c=a.P.length;d=new gi("loadBackgroundImages",c);d.observe("complete",a.hv,a);gr(Ph.j(),d);for(var e,g=!1,h=0;h<c;h++)e=a.P[h].request,e.Ea(m(a.oA,a,a.P[h].type,a.o),d,a),e.Cd()&&(g=!0);g||d.notify("complete")}}f=CG.prototype;
f.wx=function(a){this.I[a.getId()]=a;this.Md()===a.getId()&&EG(this,a);0<this.o&&this.v<r.StyleSwitcher.countItemsByType.solidColorSchemes?(this.F.push(a),this.m.push(a.getId()),this.h.solidColorSchemes.push(a.getId()),this.v++,this.o--):this.Md()===a.getId()&&(this.F.pop(),this.m.pop(),this.h.solidColorSchemes.pop(),this.F.push(a),this.m.push(a.getId()),this.h.solidColorSchemes.push(a.getId()))};
function HG(a,b,c,d){var e=af(r.MediaListStaticServer[b].collectionSettings);d&&l(d[b])&&cf(e,d[b]);e.limit={count:c,from:0};null!=t.licenceLevel&&e.filter.push({prefix:"AND",key:"licence_level",operator:"IN",value:ro()});a.P.push({type:b,request:L.j().get(r.MediaListStaticServer[b].dataType,e)})}
f.oA=function(a,b,c,d,e,g){if(l(d)&&l(g)&&l(g.order)){l(this.c[a])||(this.c[a]={});l(this.c[a].data)||(this.c[a].data={});switch(a){case "solidColors":this.Bx.apply(this,arguments);break;default:this.zx.apply(this,arguments)}l(this.A.qk)||(this.A.qk=[]);F(this.A.qk,a)||this.A.qk.push(a);l(this.A.ni)||(this.A.ni=[]);l(this.A.Xh)||(this.A.Xh={});l(this.A.Xh[a])||(this.A.Xh[a]=0);this.A.Xh[a]=Re(this.c[a].data);b>this.A.Xh[a]?F(this.A.ni,a)||this.A.ni.push(a):F(this.A.ni,a)&&cg(this.A.ni,a)}};
f.zx=function(a,b,c,d,e,g){z(d,function(b,c){if(l(this.c[a].data[c]))cg(g.order,c);else{var d;d=b;!0===(null!=d["filesystem_files.id"])?d={id:parseInt(d["filesystem_files.id"],10),src:d["filesystem_files.src"],dataType:"filesystem_files",width:d["filesystem_files.width"],height:d["filesystem_files.height"],mime:d["filesystem_types.mime_type"]}:!0===(null!=d["my_videos.id"])?d={id:parseInt(d["my_videos.id"],10),src:d["my_videos.url"],dataType:"my_videos",poster:d["my_videos.thumbnail"],width:d["my_videos.width"],
height:d["my_videos.height"],type:qD,mime:""}:(d.dataType="static_server",d.id=d.hash,d.src=d.path);var e=OC(JC(YD(MC((new XD).Ha(d.id),d.src).Ab(d.dataType),kE),a),d.mime);if(d.type===qD||d.type===rD||d.type===sD){var v=d,C=e.ja,G=po(v.poster,v.dataType,q.FilesystemPreviewSize.small);NC(OC(LC(e,G),v.mime),v.poster).setWidth(v.width).setHeight(v.height);"patterns"===C?PC(e,"wnd-switcher-pattern"):"videos"!==C&&C!==fr||PC(e,"wnd-switcher-video")}else v=d,C=po(v.src,v.dataType,q.FilesystemPreviewSize.small),
OC(LC(e,C).setWidth(v.width),v.mime).setHeight(v.height);this.Md()===d.id&&EG(this,e);this.c[a].data[c]=e}},this);l(this.c[a].Zd)?F(g.order,this.Md())?this.c[a].Zd=zh(af(g.order),this.c[a].Zd):this.c[a].Zd=zh(this.c[a].Zd,g.order):this.c[a].Zd=af(g.order)};
f.Bx=function(a,b,c,d){this.c[a].Zd=[];z(d,function(b,c){u(b.colors,function(b){var d=c+"-"+b.rgb;b=JC(YD(SC(KC((new XD).Ha(d),b.rgb),b.brightness),jE),"solidColors");this.c[a].data[d]=b;this.Md()===d?(EG(this,b),Ch(this.c[a].Zd,void 0,0,d)):this.c[a].Zd.push(d)},this)},this)};
f.hv=function(){l(this.A.qk)&&u(this.T,function(a){if(l(this.c[a])){var b=r.StyleSwitcher.countItemsByType[a];"patterns"===a&&(b=r.StyleSwitcher.maxItems/2-this.v);var c=0;"publicImages"===a&&l(this.c[Tj])&&!1===Xe(this.c[Tj].data)&&c++;"videos"===a&&l(this.c[fr])&&!1===Xe(this.c[fr].data)&&c++;var d,e;for(e in this.c[a].Zd)if(this.c[a].Zd.hasOwnProperty(e)){d=this.c[a].Zd[e];0===b&&d===this.Md()&&b++;if(0===b)break;this.F.push(this.c[a].data[d]);this.m.push(d);this.h[a].push(d);this.o--;"solidColors"===
a&&this.v++;c++;if(c===b)break}}},this);GG(this)};function GG(a){a.notify("onDataChanged",a.F,a.Md())}function EG(a,b){null!=a.L&&a.L.tb&&a.L.tb.getParent()&&b.getId()!=a.L.tb.getParent().getId()&&(a.L=null,null!=a.S&&O(a.S.f,"selectedItem",b));a.g=b}function IG(a){return null!=a.L?a.L:a.g}function DG(a){var b=po(a.ya(),a.J(),q.FilesystemPreviewSize.small),b=LC(OC(JC(MC((new XD).Ha(a.getId()),a.ya()).Ab(a.J()),a.ja).setWidth(a.Ma()).setHeight(a.getHeight()),a.Rc),b);a.bb&&NC(b,a.bb);return b}
f.Md=function(){return null!=this.g?this.g.getId():null!=this.G?this.G:null};
f.nA=function(a,b){if(!D(b)){var c=b[0],d=JC((new XD).Ha(c.getId()),c.ja);"solidColors"===c.ja||"solidColorSchemes"===c.ja?SC(KC(d,c.Ee),c.Kf):OC(NC(MC(d.Ab(c.J()),c.ya()).setWidth(c.Ma()).setHeight(c.getHeight()),c.bb),c.Rc);"patterns"!==d.ja||d.df?F(this.R,d.ja)&&!d.df&&PC(d,"wnd-switcher-video"):PC(d,"wnd-switcher-pattern");c=d;EG(this,c);d=c.getId();if(JG(this,c)){var e=KG(this,c);e&&(c=e)}else switch(e=c,e.ja){case Tj:case "publicImages":case "patterns":case "videos":case fr:var g="",g=e.ja===
fr?TC(e):po(TC(e),e.J(),q.FilesystemPreviewSize.small);YD(LC(e,g),kE);l(this.c[e.ja])||(this.c[e.ja]={},this.c[e.ja].data={});this.c[e.ja].data[e.getId()]=e;break;case "solidColors":case "solidColorSchemes":YD(e,jE),this.I[e.getId()]=e}e=c;if(!e.getId()||!F(this.m,e.getId())){g=c;e=null;if(D(this.h[g.ja])){switch(g.ja){case Tj:e=LG(this,g,"publicImages");break;case "solidColors":e=LG(this,g,"patterns");break;case fr:e=LG(this,g,"videos")}if(null!=e&&l(this.F[e])){var h=this.F[e];cg(this.h[h.ja],h.getId())}}else h=
g.ja,"publicImages"===g.ja&&!D(this.h[Tj])&&F(this.m,this.h[Tj][0])&&(h=Tj),"videos"===g.ja&&!D(this.h[fr])&&F(this.m,this.h[fr][0])&&(h=fr),e=nh(this.m,this.h[h][0]),-1===e&&g.ja===Tj&&(e=LG(this,g,"publicImages")),-1===e&&g.ja===fr&&(e=LG(this,g,"videos")),yh(this.h[h],0);h=g.getId();Ch(this.h[g.ja],0,0,h);null!=e&&-1<e&&(yh(this.F,e),yh(this.m,e),h=KG(this,g),Ch(this.F,e,0,h),g=g.getId(),Ch(this.m,e,0,g))}GG(this);this.notify("onInsert",d,c);this.notify("onFinish")}};
function JG(a,b){if(!b.ja||!b.getId())return!1;var c;switch(b.ja){case Tj:case "publicImages":case "patterns":case "videos":case fr:c=l(a.c[b.ja])&&na(a.c[b.ja].data[b.getId()]);break;case "solidColors":case "solidColorSchemes":c=na(a.I[b.getId()]);break;default:c=!1}return c}
function KG(a,b){if(!JG(a,b))return null;var c;switch(b.ja){case Tj:case "publicImages":case "patterns":case "videos":case fr:c=a.c[b.ja].data[b.getId()];break;case "solidColors":case "solidColorSchemes":c=a.I[b.getId()];break;default:c=!1}return c}
function LG(a,b,c){var d=0;D(a.h[c])?D(a.h.solidColorSchemes)?(d=0,a.D>a.o&&(c=KG(a,b),Ch(a.F,d,0,c),c=b.getId(),Ch(a.m,d,0,c),c=b.getId(),Ch(a.h[b.ja],0,0,c))):d=1+nh(a.m,mh(a.h.solidColorSchemes)):(d=nh(a.m,a.h[c][0]),yh(a.h[c],0),b=b.getId(),Ch(a.h[c],0,0,b));return d}
f.Pw=function(){var a=this.g;null!=this.L&&(a=this.L);this.S=E.j().create("wnd.ui.CropImagePopup",r.CropImagePopup.mvcId,document.body,ag.j().get("wnd.pc"),{},{selectedItem:a,extendCssClass:"wnd-crop-image"});eC(this.S,"onCropImage",this.mv,this)};f.mv=function(a,b,c){a=new XD;YD(OC(MC(JC(a.Ha(b.getId()),Tj).Ab(b.J()),b.ya()),b.Rc).setWidth(b.Ma()).setHeight(b.getHeight()),kE);c&&(a.tb=c);this.L=a;this.notify("onInsert",a.getId(),a)};
f.Uu=function(a,b){var c=af(this.g);fr==c.ja&&(c.si=b,this.notify("onInsert",c.getId(),c))};f.Vw=function(a,b){var c=[Tj,"publicImages","patterns"];b&&b.videos&&(c.push("videos"),Ka(t.visibleRelease,"my_videos")&&c.push(fr));Xe(this.I)&&D(rv())||c.push("solidColors");this.ha=MG(E.j(),{showTypes:c,activeType:"publicImages",collectionSettings:b,checkLowResolution:Ka(t.visibleRelease,"contextHelp")});eC(this.ha,"onInsert",this.nA,this)};
function NG(a,b,c,d,e){var g={},g=null!=d?hv(d,"background",b):bv("background",b);if(Xe(g))return null;b="";if("effect"===c||"overlay"===c||"position"===c)d=a.g,null!=d&&d.ya()&&d.J()&&(b=po(TC(d),d.J(),q.FilesystemPreviewSize.small));"overlay"===c&&(d={none:{type:"overlay"}},cf(d,g),g=d);d=[];var h,k,p;for(p in g)if(g.hasOwnProperty(p)&&(h=g[p],!(h.type!==c||e&&(!h.system||h.system&&!1===h.system)))){k=(new XD).Ha(p);switch(h.type){case "effect":case "position":a:{var w=a,v=k,C=b;if(l(h.system)&&
!0===h.system){if(YD(v,mE),h=w.g){h.ke&&(h=h.ke.getParent());var G=v.getId(),J=Ve(dr);if(C)if(F(J,G)){C=h.getId();C=w.M[C]&&w.M[C][G]?w.M[C][G]:null;if(!C){var V=TC(h),J=q.FilesystemPreviewSize.small;if(!Vq(Tq.j(),V,h.J(),J))break a;V=new br(h.getId(),V,h.J());try{C=ir(V,G,h.Rc,J)}catch(zc){new Oa(zc.message);break a}var J=w,V=h.getId(),Va=G,Zb=C;J.M[V]||(J.M[V]={});J.M[V][Va]=Zb}w=mD(lD(new kD,G),w.g);G=v;G.mj=C;$D(G,w)}else w=v,w.nj=C,PC(w,G);else PC(v,"wnd-bgr-fx wnd-preview-"+G);v.setWidth(h.Ma()).setHeight(h.getHeight())}}else YD(LC(v,
t.staticFiles+h.preview.image),kE)}break;case "overlay":v=a,w=h,h=k,G=b,C={},l(w.color)&&(C=wm(w.color),C.push(w.alpha||.5),C={color:Km(C[0],C[1],C[2],C[3])}),w=LC(h,G),w.h=C,YD(w,kE),(v=v.g)&&h.setWidth(v.Ma()).setHeight(v.getHeight())}d.push(k);if(l(void 0)&&void 0===d.length)break}return D(d)?null:d}function OG(){return"Custom"}
function PG(a,b){var c=a.ud();if(c&&"patterns"===c.mediaType)return b;var d=c=null,e=a.Fc("effects"),g=a.Fc("overlays");g?(e=a instanceof QG?hv(RG(a),"background","overlays"):bv("background","overlays"),l(e[g])&&(c=wm(e[g].color),d=e[g].alpha||1)):e&&l(r.BackgroundStyle.effectsBrightness[e])&&(c=r.BackgroundStyle.effectsBrightness[e].color,d=r.BackgroundStyle.effectsBrightness[e].alpha);if(null===c||null===d)return b;for(var e=g=0,h=c.length;e<h;e++)g+=1-d+d*c[e];g=Math.floor(g/3);b=(b+parseFloat((g/
255).toFixed(2)))/2;return b=parseFloat(b.toFixed(2))}function SG(a){var b=[];if("videos"===a)b=["effects","overlays"];else if(a===fr)b=["overlays","video_settings"];else if(a===Tj||"publicImages"===a)b=["effects","overlays","position","attachment","transform"];return b}function TG(a){var b=null,c=["videos","patterns","publicImages",fr];a.bb&&a.bb!=a.ya()&&F(c,a.ja)&&(b={id:a.getId(),src:a.bb,dataType:a.J(),width:a.Ma()||null,height:a.getHeight()||null});return b}
function UG(a){var b={selection:a.getSelection(),previewSize:a.ea()};a=a.getParent();null!=a&&(b.parent={id:a.getId(),src:a.ya(),dataType:a.J(),mime:a.Rc,mediaType:a.ja,width:a.Ma(),height:a.getHeight()},a.bb&&a.bb!=a.ya()&&"publicImages"==a.ja&&(b.poster={id:a.getId(),src:a.bb,dataType:"static_server",width:a.Ma()||null,height:a.getHeight()||null}));return b}
function VG(a){a=a.getParent();var b=null;null!=a&&(b={id:a.getId(),src:a.ya(),mime:a.Rc,dataType:a.J(),mediaType:a.ja||null,width:a.Ma()||null,height:a.getHeight()||null},a.bb&&a.bb!=a.ya()&&(b.poster={id:a.getId(),src:a.bb,dataType:a.J(),width:a.Ma()||null,height:a.getHeight()||null}));return b}function WG(a){var b=Tj;null!=a.c[b]&&delete a.c[b]};function XG(a,b){ly.call(this,a,b);this.re=!1;this.ac=!0;this.h={"class":"wnd-base wnd-add-content-stripe"}}n(XG,ly);XG.prototype.da=function(){Qr(this.c,Bs,this.N())};XG.prototype.N=function(){return{id:this.f.C()+"_btn",border:this.f.C()+"_border"}};function YG(a){a.v||(a.v=Um(a.f.C()+"_btn"));return a.v}function ZG(a){a.m||(a.m=Um(a.f.C()+"_border"));return a.m}XG.prototype.Df=function(a){R.setWidth(this.B(),Math.floor(a.width));R.setPosition(this.B(),Math.floor(a.left),Math.floor(a.top))};
function $G(a){Hl(a.B(),"inner",a.f.la)}XG.prototype.setZIndex=function(a){this.B().style.zIndex=a};function aH(a,b){XG.call(this,a,b);this.h={"class":"wnd-base wnd-add-content-container-stripe"}}n(aH,XG);aH.prototype.da=function(){Qr(this.c,As,this.N());this.show()};aH.prototype.Df=function(a){a.width&&(R.setWidth(this.B(),Math.floor(a.width)),R.setWidth(ZG(this),Math.floor(a.width)));a.height&&R.setHeight(this.B(),Math.floor(a.height));R.setPosition(this.B(),Math.floor(a.left),Math.floor(a.top))};function bH(a,b,c){sz.call(this,a,b,c);this.o=!1}n(bH,sz);var cH=null;f=bH.prototype;f.Wa=function(a,b,c){this.g=a;this.f.position=c;this.v=b;this.f.la=this.Pq();this.jk(this);this.show();this.view.Df(b);$G(this.view);a=this.view;Hl(a.B(),"vertical",a.f.Od());this.view.setZIndex(this.getZIndex())};
f.Pq=function(){var a=ky(this.g,x.ContentBlock.separableParts.typeIsSeparable),b=this.f.position,c=!1,d=dH(),e=this.v.clone(),g=x.AddContentManager.stripeOffset;"left"==b||"right"==b?(e.left-=g,e.width+=2*g):(e.top-=g,e.height+=2*g);for(var h in d)if(b=R.getBounds(d[h].B()),!0===Zm(b,e)&&b.width>g){c=!0;break}this.f.hu=a||c;return this.f.hu};f.getZIndex=function(){return x.AddContentManager.zIndex};f.pb=function(a){this.pj()&&this.C()===this.pj().C()&&this.jk(null);a||this.hide()};
f.O=function(){bH.l.O.call(this);var a=YG(this.view);this.c.H(a,"mouseover",this.Tq);this.c.H(a,gq,this.dn);this.c.H(a,T,this.xk)};f.Tq=function(){this.f.Ef=!0;Dl(this.view.B(),"active")};f.dn=function(){!0!==this.o&&(this.f.Ef=!1,Fl(this.view.B(),"active"))};
f.xk=function(a){a.stopPropagation();a=E.j().create("wnd.pc.InsertContentPopup",x.InsertContentPopup.mvcId,Dx(),tz(this),{destroyAfterClose:!1,centered:!1});this.o=!0;eC(a,"onClose",this.Tv,this);eH(a,fH);this.g&&(z(dH(),function(a){a.sb()},this),gH(a,this.g,this.f.position),hH(a,R.getBounds(YG(this.view))));this.f.la&&(this.f.la=!1,$G(this.view));Dl(this.view.B(),"active")};f.Tv=function(){this.o=!1;this.dn()};f.pj=function(){return cH};f.jk=function(a){null==a&&(this.f.Ef=!1);cH=a};
f.show=function(){this.B()||(this.view.render(),this.view.hide());if(this.B()&&!this.view.Ya()){var a=0;this.$b&&1==this.$b.ec&&(ow(this.$b),a=this.$b.h);this.$b=new xw(this.B(),a,1,this.f.Af());this.$b.H("begin",m(this.Lp,this));this.$b.play()}};f.hide=function(){this.view.Ya()&&!0===(this.$b&&1==this.$b.ec)?this.$b.H("end",m(this.vo,this)):this.vo();return!0};function iH(a){1==a.$b.ec&&ow(a.$b);a.view.hide()}
f.vo=function(){if(this.B()&&this.view.Ya()){var a=1;this.$b&&1==this.$b.ec&&(ow(this.$b),a=this.$b.h);this.$b=new xw(this.B(),a,0,this.f.Bf(),this.Io());this.$b.H("begin",m(this.Lp,this));this.$b.H("end",m(this.Dv,this));this.$b.play()}};f.Io=function(){return ce};f.Lp=function(){this.view.show()};f.Dv=function(){this.view.hide()};f.X=function(){this.pb();bH.l.X.call(this)};I.j().register("wnd.pc.AddContentStripe",ek,XG,bH);function jH(a,b,c){bH.call(this,a,b,c)}n(jH,bH);var kH=null;jH.prototype.Pq=function(){return!this.f.Od()};jH.prototype.xk=function(a){a.stopPropagation();a=I.j().get(this.g.id);a.Yb();var b=this.f.position;"left"==b?b="top":"right"==b&&(b="bottom");a.Z.Sq(a,b,R.getBounds(YG(this.view)))};jH.prototype.pj=function(){return kH};jH.prototype.jk=function(a){kH=a};I.j().register("wnd.pc.AddContentContainerStripe",fk,aH,jH);function lH(a){K.call(this);this.h={};this.F=[];this.c=a?a:null;this.m={};this.o="wnd.pc.AddContentStripe";this.A=null;this.gg=x.AddContentManager.priority}n(lH,K);var Hn=new Fn;f=lH.prototype;f.init=function(){this.Yi(this.c.I);mH(this)};function mH(a){z(a.h,function(a){kr.j().Ka(a.c,"addContent","mouseover",m(this.ox,this,a),this.gg);kr.j().Ka(a.c,"addContent",gq,m(this.um,this,a),this.gg);kr.j().Ka(a.c,"addContent",hq,m(this.bm,this,a),this.gg)},a)}
f.Yi=function(a){for(var b=null,c=0,d=a.length;c<d;c++){var e=this.c.g[a[c]],g="undefined"!=typeof this.c.la[e.getId()],h=nH(this,e,g),e=new an(new pm(h.left+x.AddContentManager.horizontalBoxOffset,Z(e).top,h.width,Z(e).height),h,e.getPosition(),e.ld().id,g,g&&b?b:null),b=g?e:null;this.h[a[c]]=e;g=30*Math.round(h.top/30);this.F[g]||(this.F[g]=[]);this.F[g].push(a[c])}};
f.ox=function(a){if(null!=Pz)return oH(),!1;var b=a.B(),c=!1;if(b&&this.kl(a)){var d,e=1,g;for(g in this.m){if((c=this.m[g])&&!0!==(c.$b&&1==c.$b.ec)&&!c.Ya()){d=c;break}e++}d||(g="wnd_pc_AddContentStripe_"+Math.random().toString(36).substring(7),d=I.j().create(g,this.o,Dx(),null),this.m[g]=d);a.A=d;this.Wa(d,b,a.h.clone(),a.getPosition());c=!0}return c};f.um=function(a){var b=!1,c=a.A;c&&!c.f.Ef&&(c.pb(!1),a.A=null,b=!0);!0===b&&this.A&&(Fl(this.A,"intersection-right"),this.A=null);return b};
f.bm=function(a){var b=a.getPosition(),c=a.c,d=Ig.j();if(!this.A&&!pH(d)&&a.A){a=d.c;for(var e in a)if(d=a[e],d.Jc()&&(d=qH(d),d instanceof rH&&("top"==b||"bottom"==b))){var d=d.view.g.top,g=R.getBounds(d),h=2*x.AddContentManager.stripeOffset;if(Zm(g,c)&&g.width<h){this.A=d;Dl(this.A,"intersection-right");break}}}};function nH(a,b,c){var d=yA(b).x,e=b.f.o.x-yA(b).x;c&&(d=sH(a.c,b),a=tH(a.c,d.getId(),b.getPosition()),d=yA(a).x,e=a.f.o.x-yA(a).x);return new pm(d,yA(b).y,e,b.f.o.y-yA(b).y)}
f.kl=function(a){var b=a.B();if(uH(b)){var b=!1,c=a.B();a=a.getPosition();var d=dH();if(!Xe(d)){var e=uH(c);if(e){var g=jy(c,x.ContentBlock.separableParts.typeSeparableId);g&&(c=I.j().get(g).B())}for(var h in d){var g=d[h],k=g.Ib?g.Ib.B():null;if(1==(g.B()==c||k==c&&"top"==a&&!e)){b=!0;break}}}if(!b)return!1}else vH.j().h();return!0};f.Wa=function(a,b,c,d){var e=x.AddContentManager.maxAnimatedStripes-1;if(Hn.vd()>=e)for(var e=Hn.vd()-e,g=Hn.oc(),h=0;h<e;h++)Gn(),iH(g[h]);Hn.h.push(a);a.Wa(b,c,d)};
function oH(){if(!Hn.isEmpty())for(var a=Hn.oc(),b=0;b<Hn.vd();b++)Gn(),iH(a[b])}f.reset=function(){Hn.clear();wH(this);xH(this)};function xH(a){for(var b in a.h)a.h[b].dispose();a.h={};a.F={}}function wH(a){for(var b in a.m)a.m[b].dispose();a.m={}}function uH(a){return ky(a,x.ContentBlock.separableParts.typeIsSeparable)}f.X=function(){xH(this);wH(this);lH.l.X.call(this)};function yH(a){lH.call(this,a);this.o="wnd.pc.AddContentContainerStripe";this.g=null;this.gg=x.AddContentContainerManager.priority}n(yH,lH);f=yH.prototype;f.init=function(){var a=this.c.I,b=this.c.ha;D(a)?D(b)||this.Yi(b):this.Yi(a);mH(this)};f.Yi=function(a){u(a,function(a){var c=this.c.g[a],d=nH(this,c),e=Z(c);c.Ic()&&(e.left+=x.AddContentManager.horizontalBoxOffset);this.h[a]=new dn(e,d,c.getPosition(),c.ld().id)},this)};f.kl=function(){vH.j().h();return!0};
f.bm=function(a){var b=a.getPosition(),c=a.c;if(!this.g&&!pH(Ig.j())&&null!==a.A){a=dH();for(var d in a){var e=a[d];if(e.Jc()){var g=qH(e);if(g instanceof rH){var h=R.getBounds(e.B()),e=null;if("left"==b||"right"==b){var k=h.clone();k.width/=2;h=h.clone();h.width/=2;h.left+=h.width;Zm(k,c)?e="left":Zm(h,c)&&(e="right")}else k=h.clone(),k.height/=2,h=h.clone(),h.height/=2,h.top+=h.height,Zm(k,c)?e="top":Zm(h,c)&&(e="bottom");if(e){this.g=g.view.g[e];this.g.style.opacity=0;break}}}}}};
f.um=function(a){a=yH.l.um.call(this,a);!0===a&&this.g&&(this.g.style.opacity=1,R.aa(this.g,!0),this.g=null);return a};function zH(a,b,c){Iq.call(this,a,b,c);AH(this);this.Xa=x.ImageBlock.minWidth;this.Gi=!1;this.af=""}n(zH,Iq);f=zH.prototype;f.Jm=function(a){this.v=a};f.Lg=function(){return this.v};function BH(a){return new Ce(N(a,"image").size.width,N(a,"image").size.height)}f.kk=function(a){this.ic=a};
function CH(a,b,c,d,e){b=b?b:0;c=c?c:0;var g=BH(a).width,h=BH(a).height;b||c||(b=g,c=h);if(!b&&!c)return!1;if(d){d=Jq(a);var k=a.wa.width*x.ResizableBlock.maxWidth/100;k<b&&(b=k,c=k*h/g);c>d&&(b=d*g/h,c=d)}d=a.Ah(b,c,e);g=N(a,"style");e||(c=d*a.v.height/g.paddingBottom);DH(a,b,c);a.Lf(b);return!0}
function DH(a,b,c){var d=BH(a).width,e=BH(a).height,g=0,h=0,k=0,p=0,g=d/e,d=e/d,e=b/c,h=c/b;(1>d?d>=h:1<d?g<=e:b>c)?(b=0,a.S.lb&&(b=100*(e*d-1),p=-(b/a.S.lb)),g=100,h=g+b):(b=0,a.S.Qa&&(b=100*(h*g-1),k=-(b/a.S.Qa)),h=100,g=h+b);a.Na=new pm(EH(k),EH(p),g,h)}f.Ah=function(a,b,c){a="number"==typeof a?a:BH(this).width;b="number"==typeof b?b:BH(this).height;c=c?b/a*100:N(this,"style").paddingBottom*b/this.v.height;c<this.ce&&(c=this.ce);this.T=EH(c);return c};
f.Lf=function(a,b,c,d){var e=N(this,"image").style.left,g=BH(this).width;b=BH(this).height*this.v.width/this.v.height;this.S.Qa?b=g/(1+-1*e*this.S.Qa/100):(e=g*this.v.height/this.v.width*this.v.width/this.v.height,b>e&&(b=e));a="number"==typeof a?a:b;e=this.sh;b=this.wa.width+e.left+e.right;e=this.v.width+e.left+e.right;c&&(c=Jq(this)*this.v.width/this.v.height,c>b*x.ResizableBlock.maxWidth/100&&(c=b*x.ResizableBlock.maxWidth/100),c<a||d)&&(a=c);this.Xa>a&&(a=this.Xa);d=a<e?(e-a)/2/b*100:0;this.L=
{left:EH(d),right:EH(d)};return!0};function FH(a,b){a.L={left:0,right:0};var c=b;null==c&&(a.fb=r.FloatDropStripe.defaultContentWidth,c=a.wc/100*a.fb);a.wc<c&&(c=a.wc);c<a.Xa&&(c=a.Xa);a.wc<c&&(c=a.wc);a.fb=EH(100*c/a.wc)}function AH(a){var b=N(a,"image");a.S={lb:b.ratio?b.ratio.vertical:2,Qa:b.ratio?b.ratio.horizontal:2}}
f.vi=function(){var a=af(this.getData()),b=this.L;null!=b&&(a.style.margin={left:b.left,right:b.right});null!=this.T&&(a.style.paddingBottom=this.T);null!=this.ic&&(a.style["float"]=this.ic);null!=this.fb&&(a.style.width=this.fb);null!=this.S&&(a.image.ratio={vertical:this.S.lb,horizontal:this.S.Qa});null!=this.Na&&(a.image.style={height:this.Na.height,width:this.Na.width,top:this.Na.top,left:this.Na.left});Xi(this,a,!0)};
f.getImageData=function(a,b){var c=L.j().get("filesystem_files",{filter:[{prefix:"",key:"filesystem_files.file_group",operator:"=",value:"image",suffix:""}]});N(this,"image").id||c.jg();c.Ea(a,null,b)};f.Mj=function(){var a=N(this,"image").id;return null!=a&&"=imageId"!=a};function EH(a){return parseFloat(a.toFixed(2))}f.ya=function(){return N(this,"image").src};f.Fl=function(){var a=N(this,"image").size;return jr(parseInt(a.width,10),parseInt(a.height,10))};
function GH(a){a=N(a,"image");return qo(a.src)?"icon":"image"}f.Le=function(){var a=N(this,"image"),b=a.src,a=po(b,a.dataType,q.FilesystemPreviewSize.small);qo(b)&&this.af&&(a+=(0>a.indexOf("?")?"?":"&")+this.af);return a};f.qf=function(a){this.af=a};
f.hk=function(a){var b=this.getData(),c=af(b);c.image.id=a.getId();c.image.src=a.ya();c.image.dataType=a.J();c.image.size.width=a.Ma();c.image.size.height=a.getHeight();c.image.id!=b.image.id&&(a={"=imageId":c.image.id,"=dataType":c.image.dataType},b=I.j().get(this.getId()),Zk(c,b.ca(),a));Xi(this,c,!0)};function HH(a,b){XG.call(this,a,b);this.h={"class":"wnd-base wnd-add-section-stripe"}}n(HH,XG);HH.prototype.da=function(){Qr(this.c,Ds,this.N());this.show()};HH.prototype.Df=function(a){R.setPosition(this.B(),Math.floor(a.left),Math.floor(a.top));R.setSize(this.B(),Math.floor(a.width),Math.floor(a.height))};function IH(a,b,c){bH.call(this,a,b,c)}n(IH,bH);var JH=null;f=IH.prototype;f.O=function(){IH.l.O.call(this);var a=this.B();this.c.H(a,"mouseover",this.Tq);this.c.H(a,gq,this.dn);this.c.H(a,T,this.xk)};
f.xk=function(a){a.stopPropagation();var b=I.j().get(this.g.id),c=a=null;b.Yb();KH(b)?(a=b,c=a.Z):c=b;b=c;c=a;a=this.f.position;var d=R.getBounds(YG(this.view));b.o||(kr.j().pause(),c?(b.U=a,b.o=c,b.o.getStyle("colorScheme"),c=b.o,b=m(b.Aq,b,d),vH.j().h(),LH=!0,MH(c)?b():(d=c.B(),c.animate=new rw(d,[x.Section.animation.start],[x.Section.animation.end],x.Section.animation.expandTime,de),c.animate.H("animate",m(c.jr,c,a)),c.animate.H("end",b),c.animate.play())):b.Aq(d))};f.pj=function(){return JH};
f.jk=function(a){JH=a};f.Io=function(){return this.Xs};f.Xs=function(a){return Math.pow(a,x.AddSectionManager.fadeOutExp)};I.j().register("wnd.pc.AddSectionStripe",gk,HH,IH);function NH(a,b){lH.call(this,a);this.g=b;this.o="wnd.pc.AddSectionStripe"}n(NH,lH);NH.prototype.init=function(){for(var a=this.g(),b=0,c=a.length;b<c;b++){var d=a[b];this.h[d.Dq+d.position]=new en(d.gs,d.$x,d.position,d.Dq)}mH(this)};NH.prototype.kl=function(){vH.j().h();return!0};NH.prototype.bm=function(){};function OH(a){HA.call(this,null,m(a.as,a),Dx())}n(OH,HA);OH.prototype.Ui=function(){};function PH(a,b,c){$k.call(this,a,b,c)}n(PH,Aq);f=PH.prototype;f.or=!0;f.Rj=function(){return this.or};f.Om=function(a){this.or=a};
f.getStyle=function(a,b){var c=af(N(this,"style"));"backgroundStyles"===a&&null!=c.backgroundSettings&&z(c.backgroundSettings,function(a,b){z(a,function(a,d){if(null!=a)if("solidColors"===a.mediaType)c.backgroundStyles[b][d]=Lu({backgroundColor:a.color});else if("videos"!==a.mediaType&&a.mediaType!==fr){var e=null;"patterns"!=a.mediaType&&(e=q.FilesystemPreviewSize.normal);e=po(a.src,a.dataType,e);null!=c.backgroundStyles||(c.backgroundStyles={});null!=c.backgroundStyles[b]||(c.backgroundStyles[b]=
{});null!=c.backgroundStyles[b][d]||(c.backgroundStyles[b][d]="");c.backgroundStyles[b][d]=Lu({backgroundImage:"url('"+e+"')"})}})});var d=na(c)&&l(c[a])?c[a]:{};b&&(d=l(d[b])?d[b]:{});return!Xe(d)&&l(d["default"])?d["default"]:""};
f.yo=function(a){var b={},c=N(this,"style");if(!1===(null!=c)||!1===(null!=c.backgroundSettings)||!1===(null!=c.backgroundSettings["default"])||!1===(null!=c.backgroundSettings["default"]["default"])||""===c.backgroundSettings["default"]["default"])return b;var d=c.backgroundSettings["default"]["default"];if("solidColors"===d.mediaType)return b["default"]=Lu({backgroundColor:d.color}),b;if("videos"===d.mediaType)return b;var c=d.src,e=d.dataType;"patterns"==d.mediaType?d=po(c,e):(d=Yq(Tq.j(),c,e),
null===d&&(d=po(c,e,a)));b["default"]=Lu({backgroundImage:"url('"+d+"')"});return b};function QH(a){var b=null;a.Kd()?b=a.Kd().bb:b=a.getStyle("backgroundSettings","default");return null!=b.src&&null!=b.dataType?po(b.src,b.dataType,void 0):null}f.Kd=function(){var a=this.getStyle("backgroundSettings","default"),b=["videos",fr];return na(a)&&F(b,a.mediaType)?(new XD).Sd(a):null};f.isEmpty=function(){var a=this.Kd(),b=this.getStyle("backgroundStyles","default");return null==a&&null==(""===b?null:b)};function RH(a,b,c){$k.call(this,a,b,c);this.ha=SH(this);this.Hf=0}n(RH,Aq);RH.prototype.oa=function(){RH.l.oa.call(this);this.options.editable=!0;this.options.Ec=!0;this.options.Fd=!1;this.options.Gg=Bq(this,"autoSize");this.options.lj=Bq(this,"changeFont")};RH.prototype.En=0;function SH(a){a=a.getData();return l(a.style)&&l(a.style.cssClasses)&&l(a.style.cssClasses.fontSize)?a.style.cssClasses.fontSize:""}
function TH(a){var b=[];if(!ev())return b;var c=bv("font");z(c,function(a){var c=YD(ZD(new XD,a.name).Ha(a["class"]),vE);if(a.preview.image){var g=po(a.preview.image,"static_server");MC(YD(c,wE),g).setHeight(a.preview.height).setWidth(a.preview.width)}b.push(c)},a);return b};function UH(a,b,c){RH.call(this,a,b,c)}n(UH,RH);function VH(a,b,c){RH.call(this,a,b,c)}n(VH,UH);VH.prototype.oa=function(){VH.l.oa.call(this);this.options.Fd=!0};function WH(a,b,c){RH.call(this,a,b,c)}n(WH,UH);WH.prototype.oa=function(){WH.l.oa.call(this);this.options.Fd=!0};function XH(a,b,c){RH.call(this,a,b,c)}n(XH,UH);XH.prototype.Fb="";XH.prototype.Uc=function(){var a=Vi(this).getData(this.Fb);return l(a.variant)?a.variant:"default"};XH.prototype.oa=function(){XH.l.oa.call(this);this.options.Fd=!0;this.options.Pc=!0;this.options.gc=!1;this.options.Ed=!1;this.options.Ec=!0};function YH(a,b,c){RH.call(this,a,b,c)}n(YH,UH);function ZH(a,b,c){RH.call(this,a,b,c);this.te="";this.Pn=new Nf("fe")}n(ZH,YH);ZH.prototype.v=function(){this.notify("onUpdate","data_updated")};ZH.prototype.Wt=function(a,b,c){var d=this.getData();L.j().get(d.refDataType).Ea(function(b,g,h,k){a.call(c,b,{value:g[d.refDataId][d.refDataKey]},h,k)},b,c)};
function $H(a){var b=a.getData(),c=new hf;a=b.refDataType;b=b.refDataKey;if("undefined"==typeof c.c[a])throw new Oa("Datatype `"+a+"` doesn't exist in metadata");c=c.c[a];if("undefined"==typeof c[b]){var d=b.split(".");"undefined"!=typeof d[1]&&(b=d[1])}if("undefined"==typeof c[b])throw new Oa("Column `"+b+"` definition doesn't exist in datatype `"+a+"`");return c[b].type}function aI(a,b){switch($H(a)){case "DATE_TIME":b=Pf(a.Pn,b)}return b}ZH.prototype.dataType=x.ContentBlock.DataType;function bI(a,b,c){ZH.call(this,a,b,c);this.wh=!0}n(bI,ZH);function cI(a,b,c){RH.call(this,a,b,c);this.qh=Ti(Qi.j());this.v=""}n(cI,UH);cI.prototype.oa=function(){cI.l.oa.call(this);this.options.Fd=!0};cI.prototype.ya=function(){return N(this,"image").src};cI.prototype.Le=function(){var a=N(this,"image"),b=a.src,a=po(b,a.dataType,q.FilesystemPreviewSize.small);qo(b)&&this.v&&(a+=(0>a.indexOf("?")?"?":"&")+this.v);return a};cI.prototype.qf=function(a){this.v=a};
function dI(a,b){var c=a.getData();return l(c.style)&&l(c.style.cssClasses)&&l(c.style.cssClasses[b])?c.style.cssClasses[b]:""};function eI(a,b,c){RH.call(this,a,b,c)}n(eI,YH);f=eI.prototype;f.rl="";f.cr=!1;f.oa=function(){eI.l.oa.call(this);this.options.editable=!0};f.ti=function(){return eI.l.ti.call(this,{"=text":Ga("wnd.pc.Option.defaultText")})};f.Xd=function(){return this.cr};function fI(a,b,c){RH.call(this,a,b,c)}n(fI,eI);function gI(a,b,c){RH.call(this,a,b,c)}n(gI,eI);function hI(a,b,c){RH.call(this,a,b,c)}n(hI,YH);hI.prototype.oa=function(){hI.l.oa.call(this);this.options.Fd=!0};function iI(a,b,c){RH.call(this,a,b,c)}n(iI,UH);iI.prototype.Uc=function(){var a;a=x.SystemFooterBlock.DataType;a=L.j().get(a).getData();var b="default";-1!=x.SystemFooterBlock.packages.available.indexOf(a.package_identifier)&&(b=a.package_identifier);return b};function jI(a,b,c){RH.call(this,a,b,c);this.zn=N(this,"code")}n(jI,RH);function kI(a,b){ly.call(this,a,b);this.ac=!0;this.B()&&(this.re=!1)}n(kI,mB);f=kI.prototype;f.move=function(a,b,c){b&&c?"left"==c||"top"==c?qp(this.B(),b):rp(this.B(),b):(b=this.B(),a.appendChild(b));this.tg=a};f.Uo=function(){return x.PageZoneModel.topOffset};f.wi=function(){if(this.B()){var a=this.Uo(),b=R.Kg(this.B()),c=R.pa(this.B()),d=ep(window),e=R.Zb(document);b.y<a?window.scrollTo(0,parseInt(e.y+b.y-a,10)):b.y+c.height>d.height&&window.scrollTo(0,parseInt(e.y+b.y+c.height+a-d.height,10))}};
f.da=function(){lI(this,this.N())};function lI(a,b){a.ug();a.B().outerHTML=Gu(a.f.Xe(),b);a.Oc()}f.fk=function(a,b,c,d){var e=this;kI.l.fk.call(this,function(b,d,k){lI(e,d);a.call(c,b,d,k)},b,c,d)};f.ug=function(){};f.Oc=function(){this.c=null;this.B()&&qv("wnd-redraw",this.B())};f.Ce=function(){var a=new xw(this.B(),x.AddContentItem.startOpacity,x.AddContentItem.endOpacity,x.AddContentItem.fxDuration);Vm(a,"end",m(this.notify,this,"onCreateBlock"));a.play()};
f.N=function(){var a={"contentElement.attributes":{id:this.f.C()},variant:this.f.Uc()};a["contentElement.attributes"]["data-"+Ea.View.contentElementTypeAttr]=this.f.ca();return a};f.Al=function(){var a=kI.l.Al.call(this);null!=a.id===!1&&(a.id=this.f.C());return a};f.B=function(){this.c||(this.c=document.getElementById(this.f.C()));return this.c};function mI(a,b){kI.call(this,a,b)}n(mI,kI);mI.prototype.cc=function(){return R.cc(this.B())};mI.prototype.Sa=function(){return document.getElementById(this.f.C()+"_container")};mI.prototype.N=function(){var a=this.f.getData(),b={};if(this.f.options.Fd&&l(a.style)&&l(a.style.cssClasses)){var c=[];z(a.style.cssClasses,function(a){a&&c.push(a)},this);D(c)||(b["style.class"]=c.join(" "))}return ff(mI.l.N.call(this),b)};function nI(a,b){kI.call(this,a,b)}n(nI,mI);function oI(a,b){kI.call(this,a,b)}n(oI,mI);oI.prototype.N=function(){var a=oI.l.N.call(this),b=this.f.Gf;z(b.gt,function(a){a["link.attributes"]={href:a.link}});return ff(a,{structure:b.my})};function pI(a,b){kI.call(this,a,b)}n(pI,mI);var qI=[];pI.prototype.render=function(){this.f.Rj()&&pI.l.render.call(this)};pI.prototype.fc=function(){this.f.Rj()&&pI.l.fc.call(this)};pI.prototype.N=function(){var a=pI.l.N.call(this),b=N(this.f,"text"),c;c=this.f;c.Bk?(c=Vi(c).getData(c.Bk),c=l(c.variant)?c.variant:"default"):c="default";F(qI,c)&&(b=b.replace(/(<([^>]+)>)/ig,""));return ff(a,{perex:b})};pI.prototype.Ce=function(){};function rI(a,b){kI.call(this,a,b)}n(rI,mI);rI.prototype.Kh=function(){return R.pa(this.Sa()).round()};function sI(a,b){a.B().style.marginLeft=b.left?b.left+"%":"0";a.B().style.marginRight=b.right?b.right+"%":"0"};function tI(a,b){kI.call(this,a,b);this.m=null;this.G=!1}n(tI,rI);tI.prototype.N=function(){return ff(tI.l.N.call(this),{code:this.v()})};function uI(a){sp(a.m);a.m=null;a.G=!1}tI.prototype.ug=function(){tI.l.ug.call(this);uI(this)};function vI(a,b){tI.call(this,a,b)}n(vI,tI);vI.prototype.v=function(){return Tr(jt).outerHTML};function wI(a,b){kI.call(this,a,b);this.R=this.G=this.v=null}n(wI,rI);f=wI.prototype;f.Sa=function(){this.Ud||(this.Ud=document.getElementById(this.f.C()+"_container"));return this.Ud};
f.N=function(){var a=this.f.getData(),b=qo(a.image.src),c={href:a.link};if(0===a.link.indexOf("http://")||0===a.link.indexOf("https://")||0===a.link.indexOf("ftp://"))c.target="_blank";b&&(this.f.qf(Dv(xI(this),this.Oa())),c.type="image/svg+xml");var d=ff,e=wI.l.N.call(this),g=[];g.push("wnd-orientation-"+this.f.Fl());var h=N(this.f,"style")["float"];"left"!=h&&"right"!=h||g.push("wnd-float-"+h);g.push("wnd-type-"+GH(this.f));h=N(this.f,"image");"static_server"!=h.dataType||h.id!=Ea.StaticContent.staticImagePlaceholder||
this.f.Gi||g.push("wnd-image-placeholder");var g=g.join(" "),h={},k=N(this.f,"style");k.margin.left&&(h.marginLeft=k.margin.left+"%");k.margin.right&&(h.marginRight=k.margin.right+"%");var p=k["float"];"left"!=p&&"right"!=p||cf(h,{"float":p,clear:"both",width:k.width+"%"});var h={style:Lu(h)},k={id:this.f.C()+"_container",style:Lu({paddingBottom:a.style.paddingBottom+"%",textAlign:"center"})},p=this.f.getData(),w=p.image.style,p={id:this.f.C()+"_img",src:this.f.Le(),alt:p.description,style:Lu({top:w.top+
"%",left:w.left+"%",width:w.width?w.width+"%":"auto",height:w.height?w.height+"%":"auto",position:w.position?w.position:"absolute"})};b&&(p.type="image/svg+xml");return d(e,{"contentElement.class":g,"contentElement.attributes":h,"containerElement.class":"wnd-image-container","containerElement.attributes":k,"img.attributes":p,title:a.description,"detail.src":this.f.Le(),"detail.width":a.image.size.width,"detail.height":a.image.size.height,"link.attributes":c,showImage:!b,showEmbed:b,embedScript:""})};
f.Ce=function(){if(!0===(null!=this.Sa())){var a=new xw(this.Sa(),x.AddContentItem.startOpacity,x.AddContentItem.endOpacity,x.AddContentItem.fxDuration);Vm(a,"end",m(this.notify,this,"onCreateBlock"));a.play()}};f.Oa=function(){this.m||(this.m=document.getElementById(this.f.C()+"_img"));return this.m};function yI(a,b){var c=a.Oa();c.style.left=b.left?b.left+"%":0;c.style.top=b.top?b.top+"%":0;c.style.width=b.width?b.width+"%":"";c.style.height=b.height?b.height+"%":""}
f.Kh=function(){var a=R.pa(this.Sa()),b=R.Rf(this.Sa());return(new Ce(a.width-b.left-b.right,a.height-b.top-b.bottom)).round()};f.kk=function(a){var b=a?"both":"none";R.setStyle(this.B(),{"float":a,clear:b})};function zI(a){a.v||(a.v=ip("div",{"class":"wnd-range-area",style:"z-index:"+x.ImageBlock.rangeAreaZindex+";"}),Dx().appendChild(a.v));return a.v}function AI(a){a.G||(a.G=ip("div",{"class":"wnd-range-slider"}),zI(a).appendChild(a.G));return a.G}f.Oc=function(){this.m=this.Ud=this.c=null;wI.l.Oc.call(this)};
function xI(a){a.R||(a.R=new Cv);return a.R}f.Qe=function(){this.f.qf(Dv(xI(this),this.Oa()));return xI(this).Qe(this.f.Le(),this.Oa())?(this.m=null,!0):!1};f.Cm=function(){var a=this.Oa(),b=this.Oa();a.outerHTML=b.outerHTML;this.m=null};f.pf=function(a){var b=this.Oa();b&&(bq||aq)&&(b.style.visibility=a?"":"hidden")};function BI(a,b){tI.call(this,a,b)}n(BI,tI);BI.prototype.N=function(){var a=this.f.getData().style;return ff(BI.l.N.call(this),{"contentElement.attributes":{style:Lu({marginLeft:a.margin.left+"%",marginRight:a.margin.right+"%"})},"containerElement.attributes":{id:this.f.C()+"_container",style:Lu({position:"relative",paddingBottom:a.paddingBottom+"%"})}})};
BI.prototype.v=function(){var a=this.f.getData().style,b=this.f.zf(),c=N(this.f,"style");l(c.cssClasses)&&l(c.cssClasses.color)?(c=c.cssClasses.color,c=l(Pe.mapStyles[c])?Pe.mapStyles[c]:""):c="";var d={z:15,a:b,s:c},b=Jn(d);if("undefined"==typeof b)throw Error("Keys are undefined");for(var c=new Yn(null,0,void 0),d=In(d),e=0;e<b.length;e++){var g=b[e],h=d[e];ha(h)?lo(c,g,h):c.add(g,h)}return Pu("iframe",{src:t.googleMapsUrl+"?"+c.toString(),style:Lu({position:a.position,top:a.top+"%",left:a.left+
"%",width:a.width+"%",height:a.height+"%"})},"")};function CI(a,b){kI.call(this,a,b)}n(CI,mI);CI.prototype.N=function(){var a=CI.l.N.call(this),b=[];z(Qi.j().c,function(a){b.push({name:a.getName(),code:a.$c(),"link.attributes":{href:"/"+(a.pp()?"home":a.$c())+"/"},showLink:t.page.langId!=a.getId()})},this);return ff(a,{items:b,show:1<b.length})};function DI(a,b){kI.call(this,a,b)}n(DI,mI);function EI(a,b){kI.call(this,a,b)}n(EI,mI);EI.prototype.render=function(){this.f.Rj()&&EI.l.render.call(this)};
EI.prototype.N=function(){var a=EI.l.N.call(this),b="",c=this.f.Kd();null!=c&&(b=iD(hD.j(),c,!0));return ff(a,{"styles.backgroundClasses":{"default":this.f.getStyle("background","default"),effects:"",attachment:"",position:"",overlays:""},"styles.backgroundStyles":{"default":this.f.getStyle("backgroundStyles","default"),effects:"",attachment:"",position:"",overlays:""},"backgroundVideo.show":""!=b,"backgroundVideo.code":b,"img.show":null!==QH(this.f),"img.attributes":{src:QH(this.f),alt:""}})};
EI.prototype.Ce=function(){};function FI(a,b){tI.call(this,a,b)}n(FI,tI);FI.prototype.N=function(){var a=this.f.getData().style;return ff(FI.l.N.call(this),{"contentElement.attributes":{style:Lu({marginLeft:a.margin.left+"%",marginRight:a.margin.right+"%"})},"containerElement.attributes":{id:this.f.C()+"_container",style:Lu({position:"relative",paddingBottom:a.paddingBottom+"%"})}})};
FI.prototype.v=function(){var a=this.f.getData().style,b="";N(this.f,"url")&&(b=Pu("iframe",{src:N(this.f,"url")+"?wmode=opaque",style:Lu({position:a.position,top:a.top+"%",left:a.left+"%",width:a.width+"%",height:a.height+"%","pointer-events":"none"}),allowfullscreen:"1"},""));return b};function GI(a,b){kI.call(this,a,b);this.La={};this.Ef=!0;this.de=100;this.v=null;this.G=1;HI(this);this.W=null;this.zf=!0;this.Nc=0;this.f.Hf=II(this).length}n(GI,mI);function JI(a){a.ic||(a.ic=document.getElementById(a.f.C()+"_wsw"));return a.ic}f=GI.prototype;f.da=function(){GI.l.da.call(this)};f.Pg=function(){return JI(this)};
f.Vf=function(a){a=a||!1;a=KI(this,this.Pg(),a,!0);if(0===a.length||1===a.length)return[];for(var b=0,c=a.length;b<c;b++)a[b].id=this.f.getId()+"_inner_"+b,iy(a[b],x.ContentBlock.separableParts.typeIsSeparable,"1"),iy(a[b],x.ContentBlock.separableParts.typeSeparableIndex,b.toString()),iy(a[b],x.ContentBlock.separableParts.typeSeparableId,this.f.getId());return a};
function KI(a,b,c,d){if(!1===c&&"undefined"!==typeof a.La[b.id]&&0<a.La[b.id].length)return a.La[b.id];c=[];var e=[];Bh(e,b.querySelectorAll(x.ContentBlock.separableParts.tagNames.join(",")));for(var g=0,h=e.length;g<h;g++){var k;a:{k=b;for(var p=e[g],w=e,v=x.ContentBlock.separableParts.tagNames,p=p.parentNode;p!==k&&null!==p;){if(-1<v.indexOf(p.nodeName.toLowerCase())&&-1<w.indexOf(p)){k=!0;break a}p=p.parentNode}k=!1}k||c.push(e[g])}!0===d&&(a.La[b.id]=c);return c}
f.N=function(){var a=GI.l.N.call(this);this.f.getData();var b={"wysiwygElement.attributes":{id:this.f.C()+"_wsw"},"containerElement.attributes":{id:this.f.C()+"_wsw_container"},text:N(this.f,"code"),"wysiwygElement.class":this.f.options.editable?LI():""};this.Ef&&(b["wysiwygElement.attributes"]["data-wnd_placeholder"]="Click here to edit...",b["containerElement.attributes"]["data-wnd_placeholder"]="Click here to edit...");return ff(a,b)};
function II(a){if(null!=JI(a)){a=JI(a);if(Vo&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Ep(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Vo||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}else a="";return a}function MI(a){return""===II(a)}function NI(a){return R.pa(JI(a))}
function OI(a,b,c){if(a.f.options.Gg){null===a.W&&PI(a);b=b||"";var d=a.de,e=QI(a),g=JI(a).innerHTML;"<br>"==g&&(g="");e.innerHTML=g+b;c&&(d=100,RI(a,d),a.G=1,a.v=null);null!==a.v&&0!==a.v||SI(a,e,a.G);b=e.offsetHeight;c=a.G-1;g=a.G+1;a.zf&&0<a.Nc?a.v=a.Nc:l(a.W[g])&&a.W[g]>a.v&&(a.v=a.W[g]);if(b>a.v){do{if(d<x.InlineTextBlock.fontSizePercentageMinimal){d=x.InlineTextBlock.fontSizePercentageMinimal;break}RI(a,d);l(x.InlineTextBlock.wrapLimits[c])&&d<=x.InlineTextBlock.wrapLimits[c]&&(SI(a,e,a.G+1),
c=a.G-1);b=e.offsetHeight;g=parseInt(window.getComputedStyle(e,null).getPropertyValue("font-size"),10);if(a.v>=b||l(g)&&x.InlineTextBlock.fontSizePxMinimal>=g)break}while(d-=x.InlineTextBlock.fontChangeStep)}sp(e);100===d&&(a.f.ha="");a.de=d;a.f.Hf=II(a).length;requestAnimationFrame(m(a.Qs,a,II(a).length))}}f.Qs=function(a){a>II(this).length&&OI(this,"",!0)};
function QI(a){var b=JI(a).cloneNode(!1);b.removeAttribute("id");b.removeAttribute("data-wnd_placeholder");b.removeAttribute("spellcheck");b.removeAttribute("autocapitalize");b.removeAttribute("autocorrect");b.removeAttribute("autocomplete");b.style.transition="none";qp(b,JI(a));return b}function SI(a,b,c){for(var d=b.innerHTML,e="M",g=1;g<c;g++)e+="<br>M";b.innerHTML=e;a.v=parseInt(b.offsetHeight,10);b.innerHTML=d;a.G=c}
function PI(a){var b=null;a.f.ha&&Cl(a.B(),a.f.ha)&&(Fl(a.B(),a.f.ha),b=a.f.ha);for(var c=QI(a),d=x.InlineTextBlock.wrapLimits.length,e=0,g=0,h=0,k=[],p=1,w,v="",C={},G=!1,J=250;J--;){c.innerHTML+="M ";g=parseInt(c.offsetHeight,10);h=a.B().offsetHeight;0===e&&(e=g);if(!l(C[p])||l(C[p-1])&&C[p]<C[p-1])C[p]=g,k.push(h);e*p<g&&(w=p-1,l(x.InlineTextBlock.wrapLimits[w])&&(v&&Fl(a.B(),v),v=x.InlineTextBlock.fontSizePrefix+x.InlineTextBlock.wrapLimits[w],Dl(a.B(),v),p++));if(g>e*d){if(G)break;G=!0}}v&&Fl(a.B(),
v);u(k,function(a){a!==h&&(this.zf=!1)},a);a.zf&&(a.Nc=h);a.W=C;sp(c);null!=b&&Dl(a.B(),b)}function RI(a,b){a.f.ha&&Cl(a.B(),a.f.ha)&&Fl(a.B(),a.f.ha);if(100>b){var c=x.InlineTextBlock.fontSizePrefix+b;Dl(a.B(),c);a.f.ha=c}else a.f.ha=""}
function HI(a){var b;b=(b=SH(a.f))?(b=b.replace(x.InlineTextBlock.fontSizePrefix,""))?parseInt(b,10):null:null;if(null!==b&&null!==JI(a)){a.de=b;var c=x.InlineTextBlock.wrapLimits.length;if(b<x.InlineTextBlock.wrapLimits[c-1])a.G=c;else for(var d=0;d<c;d++)if(b>=x.InlineTextBlock.wrapLimits[d]){a.G=d+1;break}a.v=parseInt(JI(a).offsetHeight,10)}}f.Oc=function(){GI.l.Oc.call(this);this.ic=null;HI(this)};f.Uo=function(){return x.WysiwygBlock.topOffset};function LI(){return x.WysiwygBlock.className};function TI(a,b){GI.call(this,a,b)}n(TI,GI);function UI(a,b){GI.call(this,a,b)}n(UI,TI);UI.prototype.N=function(){var a=UI.l.N.call(this);this.R=null;var b={href:N(this.f,"link")};1===N(this.f,"open_in_new_window")&&(b.target="_blank");return ff(a,{"link.attributes":b})};function VI(a,b){GI.call(this,a,b)}n(VI,TI);VI.prototype.Sa=function(){this.Ud||(this.Ud=document.getElementById(this.f.C()+"_container"));return this.Ud};VI.prototype.N=function(){var a=VI.l.N.call(this),b=this.f.getData(),b=po(b.file.src,"filesystem_files");return ff(a,{"link.attributes":{href:b}})};function WI(a,b){GI.call(this,a,b);this.R=this.m=this.kb=null}n(WI,TI);WI.prototype.N=function(){var a={type:"submit",name:"send",value:this.f.Fb,readonly:!0};return ff(WI.l.N.call(this),{"submit.attributes":a})};WI.prototype.Oc=function(){WI.l.Oc.call(this);this.R=this.m=this.kb=null};function XI(a){a.kb||(a.kb=a.B().getElementsByTagName("button")[0]);return a.kb}
function YI(a){var b=JI(a),c=a.B();a.R=b.cloneNode(!0);a.m=mp("div");a.R.removeAttribute("id");a.R.style.visibility="hidden";var d=a.B(),e=XI(a);R.setStyle(a.m,{position:"absolute",display:R.getComputedStyle(e,"display"),paddingLeft:R.getComputedStyle(e,"paddingLeft"),paddingRight:R.getComputedStyle(e,"paddingRight"),background:"transparent"});d.style.position="relative";d=R.Me(e,d);e=R.pa(e);R.setPosition(a.m,d);R.setSize(a.m,e);e=JI(a);d=R.pa(XI(a));R.setStyle(e,{display:R.getComputedStyle(e,"display"),
verticalAlign:R.getComputedStyle(e,"verticalAlign"),padding:ZI(a,e,"padding"),margin:ZI(a,e,"margin"),color:R.getComputedStyle(e,"color"),background:"transparent",lineHeight:d.height+"px"});rp(a.R,b);a.m.appendChild(b);c.appendChild(a.m)}
function $I(a){if(a.R&&a.m){var b=JI(a).innerHTML;a.R.innerHTML=b.replace(/ /g,"&nbsp;");b=R.pa(XI(a));b.width+=10;var c=R.getPosition(XI(a));R.setSize(a.m,b);R.setPosition(a.m,c);a.m.style.paddingLeft=R.getComputedStyle(XI(a),"paddingLeft");a.m.style.paddingRight=R.getComputedStyle(XI(a),"paddingRight")}}function ZI(a,b,c){var d=[];z(Ra,function(a){d.push(R.getComputedStyle(b,c+kh(a)))},a);return d.join(" ")};function aJ(a,b){GI.call(this,a,b)}n(aJ,TI);function bJ(a,b){GI.call(this,a,b);this.f.observe("onRefUpdate",this.hd,this)}n(bJ,aJ);bJ.prototype.da=function(){var a=this;this.fk(function(){a.ic=null;cJ()&&(a.wi(),a.Ce())},null,this,this.f.Wt)};bJ.prototype.Hb=function(a){var b=this.N();return ff(b,{text:a.value})};function dJ(a){var b="";a.B()&&("DATE_TIME"==$H(a.f)?b=a.B().innerText:b=a.Pg().innerHTML);return b.trim()};function eJ(a,b){bJ.call(this,a,b)}n(eJ,bJ);eJ.prototype.Hb=function(a){var b="wnd-touchwysiwyg";a=a.value;this.f.wh&&"listing_items.name"===N(this.f,"refDataKey")&&(a=a.replace(RegExp("<(?!/?(b|strong|i|em)( .*?>|>)).*?>","g"),""),b="wnd-wswplaceholder");"DATE_TIME"==$H(this.f)&&(b="");var c=this.N();return ff(c,{"wysiwygElement.class":b,text:a})};function fJ(a,b){GI.call(this,a,b);this.R=null}n(fJ,TI);f=fJ.prototype;f.N=function(){var a=this.f.getData(),b,c=!1,d={};null!=a.image&&l(a.image.src)?(b=!0,c=qo(a.image.src),d={id:this.f.C()+"_img"},c?d.type="image/svg+xml":this.Ef=!1,this.f.qf(Dv(gJ(this),this.Oa())),d.src=this.f.Le()):this.Ef=!0;a=fJ.l.N.call(this);return ff(a,{"img.attributes":d,"link.attributes":{href:Xf(this.f.qh)},showLink:!t.page.isHomepage,showText:!0,showImage:b&&!c,showEmbed:b&&c,embedScript:""})};
f.Oa=function(){this.m||(this.m=document.getElementById(this.f.C()+"_img"));return this.m};f.Mg=function(){if(!this.kb||!this.m){var a=this.Oa();this.kb=a?a.parentNode:null}return this.kb};f.Km=function(a){var b=this.Mg();b&&R.setStyle(b,"position",a)};f.Oc=function(){this.kb=this.m=null;fJ.l.Oc.call(this)};function gJ(a){a.R||(a.R=new Cv);return a.R}f.Qe=function(){this.f.qf(Dv(gJ(this),this.Oa()));gJ(this).Qe(this.f.Le(),this.Oa())&&(this.m=null)};
f.pf=function(a){var b=this.Oa();b&&(bq||aq)&&(b.style.visibility=a?"":"hidden")};function hJ(a,b){u(["text","icon"],function(a){if(b[a]!==dI(this.f,a)){var d=dI(this.f,a);d&&Fl(this.B(),d);b[a]&&Dl(this.B(),b[a])}},a)};function iJ(a,b){GI.call(this,a,b);this.ea=this.m=null}n(iJ,aJ);iJ.prototype.N=function(){var a={name:this.f.rl,value:this.f.getId(),id:"option-"+this.f.getId(),disabled:t.isCms};this.m&&(a.type=this.m);var b={"for":"option-"+this.f.getId()};return ff(iJ.l.N.call(this),{"label.attributes":b,"input.attributes":a})};function jJ(a,b){iJ.call(this,a,b);this.m="checkbox"}n(jJ,iJ);jJ.prototype.N=function(){var a={name:this.f.rl+"[]","data-required":this.f.Xd()};return ff(jJ.l.N.call(this),{"input.attributes":a})};function kJ(a,b){iJ.call(this,a,b);this.m="radio"}n(kJ,iJ);kJ.prototype.N=function(){var a={required:this.f.Xd()};return ff(kJ.l.N.call(this),{"input.attributes":a})};function lJ(a,b){GI.call(this,a,b)}n(lJ,aJ);function mJ(a,b){GI.call(this,a,b)}n(mJ,TI);mJ.prototype.N=function(){var a=mJ.l.N.call(this);return ff(a,{variant:this.f.Uc()})};function nJ(a,b){GI.call(this,a,b)}n(nJ,GI);function oJ(a,b){ly.call(this,a,b);this.re=!1;this.ac=!0}n(oJ,ly);f=oJ.prototype;f.Vk=null;f.Of=function(){if(null!=this.c)throw Error('Popup "'+this.f.C()+'" already exists.');this.c=ip("div",{id:this.f.C(),"class":x.ContentResizeStripe.className,style:"z-index: "+x.ContentResizeStripe.zIndex});this.Vk=ip("div",{"class":x.ContentResizeStripe.borderClassName});this.c.appendChild(this.Vk);Dx().appendChild(this.c)};
f.show=function(){if(this.B()&&!this.v){var a=0,b=x.ContentResizeStripe.fadeInTime;this.m&&1==this.m.ec&&(ow(this.m),a=this.m.h);this.v=!0;this.m=new xw(this.B(),a,1,b);this.m.play();this.Vk.style.visibility="visible"}};f.hide=function(){if(this.B()&&this.v){var a=1,b=x.ContentResizeStripe.fadeOutTime;this.m&&1==this.m.ec&&(ow(this.m),a=this.m.h);this.v=!1;this.m=new xw(this.B(),a,0,b);this.m.play()}};f.da=function(){};function pJ(a,b,c){sz.call(this,a,b,c);"undefined"==typeof this.f.F&&(this.f.F=c);this.T=m(this.My,this);this.G=m(this.Ly,this);this.S=m(this.Ky,this);this.I=m(this.Jy,this);this.D=m(this.Iy,this);this.V=new Nz;this.V.T=!1;this.g={va:null,step:0};this.v=!1}n(pJ,sz);f=pJ.prototype;f.Ga=function(){return this.f.active};f.init=function(){this.f.F.Ib?(this.Ga()||this.create(),qJ(this)):this.remove()};f.di=function(a){this.v=a};
f.O=function(){pJ.l.O.call(this);this.c.H(this.B(),"mouseover",this.T);this.c.H(this.B(),gq,this.G)};
f.My=function(){if(null!=Pz)this.view.c.style.cursor="default";else{this.view.c.style.cursor="";var a=!0,b=rJ(this.f.F,!0),c;!1===!this.f.F.Ib&&(c=rJ(this.f.F.Ib,!0));var d=dH(),e;for(e in d){var g=d[e],h=!1,k=!1,p=null;u(b,function(a){g.C()===a.C()&&(p=this.f.F.C(),h=!0)},this);!h&&c&&u(c,function(a){g.C()===a.C()&&(p=this.f.F.Ib.C(),k=!0)},this);if(p&&(a=!sJ(this,p,tJ(g),h,k),!a))break}a&&this.view.show();vH.j().h()}};
function sJ(a,b,c,d,e){var g=!1;if(b!==c.C()){if(d&&!c.Ib||e&&!c.jb)g=sJ(a,b,tJ(c),d,e)}else g=d||e;return g}function tJ(a){for(a=a.Z;!uJ(a);)a=a.Z;return a}f.Ly=function(a){if((a=document.elementFromPoint(a.clientX,a.clientY))&&Cl(a,"wnd-resize-stripe-border")||a==this.B())return!1;this.v||this.view.hide();return!0};f.Jy=function(){var a=dH(),b;for(b in a)a[b].sb();pH(Ig.j())&&(this.di(!0),this.view.show());vJ("HorizontalResize").show();this.Za()};
f.Iy=function(){this.di(!1);vJ("HorizontalResize").hide();this.view.hide();qJ(this);this.O();this.g={va:null,step:0};var a=this.f.F,b=new H("contentChange",a);a.ba(b);b=new H("contentChange",a);b.h="children_propagation";a.ba(b);b=new H("columnResize",a);b.h="children_propagation";a.ba(b)};
f.Ky=function(){if(pH(Ig.j())){var a=this.V.Yc(),b=Math.floor(a.Qa.difference/x.ContentResizeStripe.minDifference);null===this.g.va||this.g.va===a.Qa.va&&this.g.step===b?(this.g.va=a.Qa.va,this.g.step=b,null===this.g.va&&(a=this.f.F,a.zg=wJ(a))):(this.g.va=a.Qa.va,this.g.step=b,xJ(this.f.F,a.Qa.va,b),qJ(this))}};
f.create=function(){this.f.active=!0;this.view.render();this.O();Rz(this.V,this.f.F.ab());this.V.Ka(this.B());this.V.observe("onDragstart",this.I,this);this.V.observe("onDragend",this.D,this);this.V.observe("onMouseMove",this.S,this);this.V.init()};f.remove=function(){this.B()&&(this.f.active=!1,this.dispose())};f.getBounds=function(){return this.f.bounds};function yJ(a){if(!a.o)for(var b=rJ(a.f.F,!0),c=b.length,d,e=0;e<c;e++)if(d=b[e],nm(d)){a.o=d.cc();break}return a.o}
function qJ(a){var b=R.Me(a.view.f.F.B(),Dx()),c,d=a.view,e=R.getPosition(d.f.F.B());c=R.pa(d.f.F.B());d=R.pa(d.f.F.getParent().B());c=new pm(e.x,e.y,c.width,d.height);var d=R.cc(a.view.f.F.B()),g=R.getPosition(a.view.f.F.Ib.B()),h=R.cc(a.view.f.F.Ib.B()),e=yJ(a)?yJ(a).right:0,k=yJ(a)?yJ(a).left:0,e=c.width-d.right-e,g=g.x-h.left+k-(c.left+e);g<x.ContentResizeStripe.width&&(g=x.ContentResizeStripe.width,e=c.width-(d.right+g)/2);d=c.height;a.f.vC=new pm(b.x+e,b.y,g,d);a.f.bounds=new pm(c.left+e,c.top,
g,d);c=a.view;d=new Ce(g,d);R.setPosition(c.c,new S(b.x+e,b.y));R.setSize(c.c,d);R.aa(a.B(),!0)}I.j().register("wnd.pc.ContentResizeStripe",lk,oJ,pJ);function zJ(a,b,c){sz.call(this,a,b,c)}n(zJ,xA);zJ.prototype.tj=function(){return x.ContainerDropStripe.DDBoxHorizMaxInnerPos};I.j().register("wnd.pc.ContainerDropStripe",mm,lz,zJ);function AJ(a,b){Jy.call(this,a,b)}n(AJ,Jy);AJ.prototype.da=function(){AJ.l.da.call(this);var a=P(this.f,"parentContainer");if(!0===(null!=P(this.f,"limitingBlock"))&&!0===(null!=a)){var a=BJ(a),b=this.v,c=b.top,d=b.right,e=b.bottom,b=b.left;"x"===a?b=d=-1:"y"===a&&(e=c=-1);this.v=new Ym(c,d,e,b)}};function CJ(a,b,c){sz.call(this,a,b,c)}n(CJ,Mz);I.j().register("wnd.pc.DragDropContainerPlaceholder",M,AJ,CJ);function DJ(a){HA.call(this,null,m(a.$r,a),Dx())}n(DJ,HA);DJ.prototype.Qo=function(){return"wnd.pc.DragDropContainerPlaceholder"};DJ.prototype.Ui=function(){};DJ.prototype.Wi=function(a,b){var c=!1,d=b.tc;d instanceof rH&&(d=d.Da());d&&(c=a.ld().id,c=I.j().get(c),c=d.Z.C()!==c.Z.C());return c};
DJ.prototype.Tn=function(){var a,b=null,c,d={x:[],y:[]},e;for(e in this.g)c=this.g[e],c.Od()&&(a=10*Math.round(yA(c).x/10),c=10*Math.round(yA(c).y/10),b||(b={x:{},y:{}}),b.x[a.toString()]||(b.x[a.toString()]=[]),b.y[c.toString()]||(b.y[c.toString()]=[]),b.x[a.toString()].push(e),b.y[c.toString()].push(e),xh(d.x,a),xh(d.y,c));b&&(b.order=PA(d));if(a=b){var g,h,b=a.y;a=a.order.y;for(d=0;d<a.length;d++){h=a[d];e=[];c=null;for(var k=0,p=0;p<b[h].length;p++)g=b[h][p],e.push(g),g=this.g[g],k<Z(g).height&&
(c=g,k=Z(g).height);for(h=0;h<e.length;h++)g=this.g[e[h]],Z(g).height!==k&&(p=c,g.f.o.y=Z(p).top+Z(p).height,g.f.h.height=Z(p).height)}}};function EJ(a,b){uB.call(this,a,b);this.h={"class":"wnd-listing-add-item"}}n(EJ,uB);function FJ(a,b,c){Fz.call(this,a,b,c);this.D=this.g=null}n(FJ,Fz);f=FJ.prototype;
f.fa=function(){this.D=this.K(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Go to page after login",css:"wnd-form-submit-radio-set"}});var a=N(this.f,"action");this.g=this.K(this.C()+"_redirect","wnd.ui.LinkFormItem",null,{properties:{id:dC(this),name:"target",defaultValue:a.target,required:!1,placeholder:"Select page",initRenderFlag:!0,canWrite:!0,validateContinuous:!0,canBeEmpty:!0,dataSettings:{filter:[{prefix:"",key:"gui_pages.sys_page",operator:"=",value:0,
suffix:""}]}}});this.g.observe("onChangeState",m(this.Py,this),this)};f.Py=function(a,b){this.D.setState(b)};f.Ek=function(a){return N(this.f,"action")[a.getName()]};f.zc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&FJ.l.zc.call(this,a)};f.ra=function(){var a=this.Gc();if(!1===GJ(this))return this.g.setState(Ny),!1;var b=af(this.f.getData());b.action=a;this.f.ra(!0,b);return!0};
function GJ(a){var b=a.g.kd().trim(),c=a.g.getValue().trim(),c=Qg(b)||r.ValidatorRegex.isLink.onlyUrl.test(c);!1===c&&(c=Qe(a.g.oc(),function(a){return a==b},a));return c}I.j().register("wnd.pc.EditDefaultPageForm",nk,uB,FJ);function HJ(a,b,c){Fz.call(this,a,b,c)}n(HJ,Fz);HJ.prototype.fa=function(){var a="Notify me about new registrations:";null!=P(this.f,"legend")&&(a=P(this.f,"legend"));this.K(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:a,css:"wnd-form-select-options-set"}}).K(this.C()+"_email-notification","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),name:"email",defaultValue:N(this.f,"email"),validateType:"validateEmail",validateContinuous:!0,initRenderFlag:!0,required:!0}})};
HJ.prototype.zc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&HJ.l.zc.call(this,a)};I.j().register("wnd.pc.EditEmailNotificationForm",ok,uB,HJ);function IJ(a,b,c){Fz.call(this,a,b,c)}n(IJ,Fz);IJ.prototype.fa=function(){var a=this.K(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Properties",css:"wnd-form-fieldset"}}),b=N(this.f,"required")&1;a.K(this.C()+"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Required field",name:"required",defaultValue:b,initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}})};
IJ.prototype.zc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&IJ.l.zc.call(this,a)};I.j().register("wnd.pc.EditFieldSettingsForm",pk,uB,IJ);function JJ(a,b,c){Fz.call(this,a,b,c);this.I=this.D=this.g=null}n(JJ,Fz);f=JJ.prototype;
f.fa=function(){this.I=this.K(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"After form submission:",css:"wnd-form-submit-radio-set"}});KJ(this,this.I,LJ,"Show message").observe("onChange",m(this.Bp,this,[{mvcId:this.C()+"_message",show:!0},{mvcId:this.C()+"_redirect",show:!1}]),this);KJ(this,this.I,MJ,"Go to page").observe("onChange",m(this.Bp,this,[{mvcId:this.C()+"_message",show:!1},{mvcId:this.C()+"_redirect",show:!0}]),this);var a=N(this.f,"action");this.D=
this.K(this.C()+"_message","wnd.ui.LongTextFormItem",null,{properties:{id:dC(this),name:"message",required:!1,defaultValue:a.message,initRenderFlag:!0,display:m(this.kn,this,LJ)}});this.g=this.K(this.C()+"_redirect","wnd.ui.LinkFormItem",null,{properties:{id:dC(this),name:"target",defaultValue:a.target,required:!1,placeholder:"Select page",initRenderFlag:!0,canWrite:!0,validateContinuous:!0,display:m(this.kn,this,MJ)}});this.g.observe("onChangeState",m(this.Qy,this),this)};
function KJ(a,b,c,d){return b.K(a.C()+"_type_"+c,"wnd.ui.RadioButtonFormItem",null,{properties:{id:dC(a),name:"type",checked:m(a.kn,a,c),defaultValue:c,label:d,initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}})}f.Bp=function(a){u(a,function(a){this.lk(a.mvcId,a.show)},this);gG(this.getParent());a=this.Gc();if(a.type==LJ){var b=this.D.getValue().trim();!1===Qg(b)&&this.ra()}a.type==MJ&&NJ(this)&&this.ra()};f.Qy=function(a,b){this.I.setState(b)};f.Ek=function(a){return N(this.f,"action")[a.getName()]};
f.zc=function(a){a.stopPropagation();a.preventDefault();this.ra()&&JJ.l.zc.call(this,a)};f.ra=function(){var a=this.Gc();if(a.type==LJ){var b=this.D.getValue().trim();if(Qg(b))return this.D.setState(Ny),!1}else if(a.type==MJ){if(!1===NJ(this))return this.g.setState(Ny),!1}else return!1;b=af(this.f.getData());b.action=a;this.f.ra(!0,b);return!0};
function NJ(a){var b=a.g.kd().trim(),c=a.g.getValue().trim(),c=!Qg(b)&&r.ValidatorRegex.isLink.urlMailPhone.test(c);!1===c&&(c=Qe(a.g.oc(),function(a){return a==b},a));return c}f.kn=function(a){return N(this.f,"action").type==a};I.j().register("wnd.pc.EditFormActionForm",qk,uB,JJ);function OJ(a,b){uB.call(this,a,b)}n(OJ,uB);function PJ(a,b,c){Fz.call(this,a,b,c)}n(PJ,Fz);PJ.prototype.fa=function(){this.g=this.K(this.C()+"LongTextFormItem","wnd.ui.LongTextFormItem",null,{properties:{id:dC(this),label:"Enter your HTML code:",name:"htmlCode",defaultValue:N(this.f,"htmlCode"),required:!0,initRenderFlag:!0}});this.g.focus(!0)};
PJ.prototype.Zc=function(){PJ.l.Zc.call(this);var a=this.g.getValue(),a=String(a).replace(/<noscript>/g,"<div>\x3c!-- NOSCRIPT_START --\x3e"),a=String(a).replace(/<\/noscript>/g,"\x3c!-- NOSCRIPT_END --\x3e</div>"),b=document.createElement("div");b.innerHTML=a;a=b.innerHTML;a=String(a).replace(/<div>\x3c!-- NOSCRIPT_START --\x3e/g,"<noscript>");a=String(a).replace(/\x3c!-- NOSCRIPT_END --\x3e<\/div>/g,"</noscript>");this.g.lc("value",a);return this.v};I.j().register("wnd.pc.EditHtmlForm",yo,OJ,PJ);function QJ(a,b){uB.call(this,a,b);this.h={"class":"wnd-right-box"}}n(QJ,uB);function RJ(a,b,c){Fz.call(this,a,b,c)}n(RJ,Fz);
RJ.prototype.fa=function(){this.K(this.C()+"_description","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),label:"Description",name:"description",defaultValue:N(this.f,"description"),initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:65535}}});var a=this.K(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Link to:",css:"wnd-form-radio-set"}}),b=this.C()+"_link";a.K(this.C()+"_nolink","wnd.ui.RadioButtonFormItem",null,{properties:{id:dC(this),
name:"variant",checked:m(this.g,this,"default"),defaultValue:"default",label:"None",initRenderFlag:!0}}).observe("onChange",m(this.lk,this,b,!1),this);a.K(this.C()+"_lightbox","wnd.ui.RadioButtonFormItem",null,{properties:{id:dC(this),name:"variant",checked:m(this.g,this,"lightbox"),defaultValue:"lightbox",label:"Original image",initRenderFlag:!0}}).observe("onChange",m(this.lk,this,b,!1),this);a.K(this.C()+"_url","wnd.ui.RadioButtonFormItem",null,{properties:{id:dC(this),name:"variant",checked:m(this.g,
this,"link"),defaultValue:"link",label:"Website address",initRenderFlag:!0}}).observe("onChange",m(this.lk,this,b,!0),this);a.K(b,"wnd.ui.LinkFormItem",null,{properties:{id:dC(this),name:"link",initRenderFlag:!0,label:"Website address",hideLabel:!0,display:m(this.g,this,"link"),defaultValue:N(this.f,"link"),placeholder:"e.g. www.google.com",required:!0,canWrite:!0,validateContinuous:!0,extendCssClass:"wnd-url-between-radio"}})};
RJ.prototype.g=function(a){return N(this.f,"variant")==a||"default"==a&&!l(N(this.f,"variant"))};I.j().register("wnd.pc.EditImageForm",rk,QJ,RJ);function SJ(a,b,c){Fz.call(this,a,b,c);this.D=null}n(SJ,Fz);f=SJ.prototype;f.ka=function(a){SJ.l.ka.call(this,a);!0===P(this.f,"isNew")&&window.setTimeout(m(function(){aq||this.g.focus();this.g.close()},this),500)};
f.fa=function(){this.g=this.K(this.C()+"LinkFormItem","wnd.ui.LinkFormItem",null,{properties:{id:dC(this),label:!0===P(this.f,"isNew")?"Choose page or insert website address":"Link to:",name:"link",defaultValue:N(this.f,"link"),required:!0,initRenderFlag:!0,placeholder:"e.g. www.google.com",canWrite:!0,validateContinuous:!0,canBeEmpty:P(this.f,"canBeEmpty")}});this.D=this.K(this.C()+"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Open in a new window",name:"open_in_new_window",
defaultValue:N(this.f,"open_in_new_window"),initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}});this.g.observe("onKeyEvent",this.Wy,this)};f.Gc=function(){var a=SJ.l.Gc.call(this);if(P(this.f,"isNew"))if(this.g.me())a.code=this.g.me();else{if(this.g.If){var b=uA(this.g);b.indexOf("/")===b.lastIndexOf("/")&&b.indexOf("/")===b.length-1&&(b=b.substr(0,b.indexOf("/")));a.code=b}}else(Mg(I.j(),this.f.getId())?I.j().get(this.f.getId()):null)instanceof TJ&&""===this.g.kd()&&(a={link:""});return a};
f.Wy=function(){r.ValidatorRegex.isLink.onlyUrl.test(this.g.getValue())&&!this.D.Bd()?this.D.Rd(!0):!this.g.getValue()&&this.D.Bd()&&this.D.Rd(!1)};f.zc=function(a){a.stopPropagation();a.preventDefault();this.getParent()instanceof UJ?this.getParent().mb():this.ra()&&SJ.l.zc.call(this,a)};
f.ra=function(a){var b=this.g.kd().trim(),c=this.g.getValue().trim(),d=!Qg(b)&&r.ValidatorRegex.isLink.urlMailPhone.test(c);!d&&Qg(b)&&null!=P(this.f,"canBeEmpty")&&P(this.f,"canBeEmpty")&&(d=!0);!1===d&&Qe(this.g.oc(),function(a){return a.trim()==b?d=!0:!1},this);!1===d?this.g.setState(Ny):d=SJ.l.ra.call(this,a);return d};I.j().register("wnd.pc.EditLinkForm",sk,uB,SJ);function VJ(a,b){uB.call(this,a,b)}n(VJ,uB);function WJ(a,b,c){Fz.call(this,a,b,c)}n(WJ,Fz);f=WJ.prototype;f.fa=function(){this.g=this.K(this.C()+"ShortFormItem","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),label:"Enter your address:",name:"address",defaultValue:this.f.zf(),required:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},hint:"e.g. 707 Murray St, New York, NY 10282"}});this.g.focus(!0,!0)};f.zc=function(a){if(cC(this)){var b=Yz(this);XJ(this,m(b.mb,b))}a.stopPropagation();a.preventDefault()};
f.ra=function(){cC(this)&&XJ(this,m(this.Ye,this));return!1};function XJ(a,b){var c=a.g.getValue();Nk("https://maps.googleapis.com/maps/api/geocode/json?address="+c,m(a.ns,a,b))}f.ns=function(a,b){var c=b.target,d=!0;Pw(c)&&(c=Qk(c),d=na(c)&&c.hasOwnProperty("status")&&"ZERO_RESULTS"!==c.status);d?a():(this.g.setState(Ny),this.g.focus())};f.show=function(){WJ.l.show.call(this);this.g.focus(!0,!0)};I.j().register("wnd.pc.EditMapForm",tk,VJ,WJ);function YJ(a,b){uB.call(this,a,b)}n(YJ,uB);function ZJ(a,b,c){Fz.call(this,a,b,c);this.g=null}n(ZJ,Fz);ZJ.prototype.fa=function(){this.g=this.K(this.C()+"_filedset","wnd.ui.Fieldset",null,{properties:{initRenderFlag:!0,legend:"Options",css:"wnd-form-select-options-set"}});this.g.K(this.C()+"_items","wnd.ui.LongTextFormItem",null,{properties:{id:dC(this),name:"items",required:!0,defaultValue:$J(this),initRenderFlag:!0}});var a=this.view;a.m=Tr(Rs);a.B().appendChild(a.m)};
function $J(a){a=N(a.f,"items");!1===ha(a)&&(a=[]);return a.join("\n").trim()}ZJ.prototype.Ek=function(){return $J(this)};ZJ.prototype.Ye=function(){var a=af(this.f.getData());a.items=[];var b=this.Gc(),c=[];l(b.items)&&ja(b.items)&&(c=b.items.trim().split("\n"));u(c,function(b){!1===Qg(b.trim())&&a.items.push(b.trim())},this);this.f.ra(!0,a)};I.j().register("wnd.pc.EditSelectboxFieldOptionsForm",uk,YJ,ZJ);function aK(a,b){uB.call(this,a,b)}n(aK,uB);function bK(a,b,c){Fz.call(this,a,b,c);this.D=this.g=null}n(bK,Fz);f=bK.prototype;f.fa=function(){this.D=this.K(this.C()+"ShortTextFormItem","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),label:"Enter your Youtube or Vimeo link:",name:"originalUrl",defaultValue:Ao(this.f),placeholder:"e.g. https://www.youtube.com/watch?v=bLXsPGAyYC0",required:!0,initRenderFlag:!0,validateType:"validateVideo",css:"wnd-video-edit"}});this.D.focus(!0,!0)};
f.show=function(){bK.l.show.call(this);this.D.focus(!0,!0)};f.zc=function(a){a.stopPropagation();a.preventDefault();this.getParent()instanceof cK?this.getParent().mb():this.ra()&&bK.l.zc.call(this,a)};f.Ye=function(){dK(this,m(this.Lx,this))};f.Lx=function(a){this.fb=a;this.f.ra(!0,a)};
function dK(a,b){var c=a.Gc();new Wk;var d=c.originalUrl,e=Sk(d.trim()),g=null;switch(e.g){case "www.youtube.com":case "youtube.com":case "youtu.be":g=new Tk(e);break;case "www.vimeo.com":case "vimeo.com":g=new Mk(e);break;default:throw new Ha("Video from url "+d+" is not supported");}a.g=g;a.g.h?a.g.observe("onDataReady",m(a.Kp,a,c,b),a):a.Kp(c,b)}f.Kp=function(a,b){var c=ff(a,this.g.getData());b(c)};f.tk=function(a){"my_videos"===this.J()?a.lc("value",""):bK.l.tk.call(this,a)};
I.j().register("wnd.pc.EditVideoForm",zo,aK,bK);function eK(a,b){uB.call(this,a,b)}n(eK,uB);function fK(a,b,c){Fz.call(this,a,b,c);this.g=null}n(fK,Fz);f=fK.prototype;f.fa=function(){this.g=this.K(this.C()+"_description","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),label:"Description",name:"description",placeholder:"Enter text...",defaultValue:N(this.f,"description"),initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:65535}}})};f.O=function(){fK.l.O.call(this);this.c.H(this.ab(),T,m(this.cz,this))};f.cz=function(a){a.stopPropagation()};
f.pi=function(){fK.l.pi.call(this);this.g.focus(!0)};f.Ci=function(){fK.l.Ci.call(this);this.getParent().bc().hide()};I.j().register("wnd.pc.GalleryImageEditForm",vk,eK,fK);function gK(a,b,c){Fz.call(this,a,b,c);O(this.f,"extendCssClass","wnd-right-box")}n(gK,Fz);
gK.prototype.fa=function(){this.K(this.C()+"_form_text","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),name:"title",label:"Description",placeholder:"Enter text...",defaultValue:N(this.f,"title"),initRenderFlag:!0}});this.K(this.C()+"_form_link","wnd.ui.ShortTextFormItem",null,{create:{data:{value:N(this.f,"link")}},properties:{id:dC(this),name:"link",label:"Website address",placeholder:"e.g. www.facebook.com",defaultValue:N(this.f,"link"),required:!0,initRenderFlag:!0,validateType:"validateUri",
validateArgs:{max:255}}})};gK.prototype.Ye=function(){var a=this.Gc();!0===(null!=a.link)&&-1===a.link.indexOf("http")&&0!==a.link.indexOf("/")&&(a.link="http://"+a.link);Xi(this.f,a)};I.j().register("wnd.pc.SocialIconsEditForm",wk,uB,gK);function hK(a,b,c){Fz.call(this,a,b,c);this.D=this.g=null}n(hK,Fz);hK.prototype.fa=function(){var a=iK(this),b=!1,c=0;a&&(b=a.c,c=a.h);this.g=this.K(this.C()+"_sound","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Sound",name:"sound",defaultValue:b,initRenderFlag:!0,extendCssClass:"wnd-switch"}});this.D=this.K(this.C()+"_start_at","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),label:"Start video from",name:"start",defaultValue:jK(c),placeholder:jK(0),initRenderFlag:!0,extendCssClass:"wnd-video-start-at"}})};
function iK(a){a=Yz(a).h.ud();return(new XD).Sd(a).si}hK.prototype.Ye=function(a){var b=a||this.Gc();a=b.sound;var c;if(l(b.start))a:{c=0;for(var b=b.start.split(":").reverse(),d=b.length,e=0;e<d;e++){var g=Math.pow(60,e),h=parseInt(b[e],10),h=la(h)?Math.abs(h):0;if(60>h)c+=h*g;else{c=0;break a}}}else c=0;a=new hi(a,c);this.notify("onChangeSettings",a)};hK.prototype.Ci=function(){};
hK.prototype.Cc=function(){var a=iK(this),b=!1,c=0;a&&(b=a.c,c=a.h);this.g&&this.g.lc("value",b);this.D&&this.D.lc("value",jK(c))};function jK(a){a=new Al(0,0,0,0,0,a);var b="",c=a.getMinutes();a.getHours()&&(b=a.getHours()+":",c=gh(c,2));return b+=c+":"+gh(a.getSeconds(),2)}I.j().register("wnd.pc.VideoSettingsForm",Nj,uB,hK);function kK(a,b,c){Fz.call(this,a,b,c);this.g=this.D=null}n(kK,Fz);f=kK.prototype;f.ka=function(a){kK.l.ka.call(this,a);window.setTimeout(m(function(){aq||this.g.focus();this.g.close()},this),500)};
f.fa=function(){var a;null!=P(this.f,"attributes")&&null!=P(this.f,"attributes").href&&(a=P(this.f,"attributes").href);this.g=this.K(this.ca()+"name","wnd.ui.LinkFormItem",null,{properties:{id:dC(this),label:"Link to:",name:"href",defaultValue:a,placeholder:"e.g. www.google.com",required:!0,initRenderFlag:!0,canWrite:!0,validateContinuous:!0,canBeEmpty:!0}});a=0;null!=P(this.f,"attributes")&&null!=P(this.f,"attributes").target&&(a="_blank"==P(this.f,"attributes").target?1:0);this.D=this.K(this.C()+
"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Open in a new window",name:"target",defaultValue:a,initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}});this.g.observe("processUpdate",this.xw,this);this.g.observe("onKeyEvent",this.Sz,this)};f.xw=function(){Yz(this).mb()};f.Sz=function(){r.ValidatorRegex.isLink.onlyUrl.test(this.g.getValue())&&!this.D.Bd()?this.D.Rd(!0):!this.g.getValue()&&this.D.Bd()&&this.D.Rd(!1)};
f.Gc=function(){var a=kK.l.Gc.call(this);Qg(this.g.kd())&&(a={link:""});return a};I.j().register("wnd.pc.WysiwygLinkForm",Nj,uB,kK);function lK(a,b){ly.call(this,a,b)}n(lK,ly);lK.prototype.da=function(){this.c=Um(this.f.getId())};lK.prototype.getBounds=function(){return R.getBounds(this.B())};function mK(a,b,c){sz.call(this,a,b,c);this.g=!0;this.o=[]}n(mK,sz);mK.prototype.ka=function(a){mK.l.ka.call(this,a);this.B()||(this.g=!1);this.g&&nK(this)};function nK(a){var b=a.view.getBounds(),c=kr.j();c.Ka(b,"sectionToolbox","mouseover",m(a.I,a),0,!1);c.Ka(b,"sectionToolbox",gq,m(a.v,a),0,!1)}
mK.prototype.I=function(){if(!Zf.j().Ra(oK(this))&&Zf.j().show(oK(this),this.o,!1)){var a=Zf.j().get(oK(this)),b=this.view.getBounds(),c=a.getBounds();b.top=b.height<=3*c.height?b.top+(b.height/2-c.height/2):b.top+x.Section.topOffset;a.f.qd=b;gG(a)}};mK.prototype.v=function(){Zf.j().hide(oK(this))};function oK(a){return a.C()+"_toolbox"}mK.prototype.na=function(a){mK.l.na.call(this,a);"contentChangeFinished"===a.getType()&&"children_propagation"===a.h&&nK(this)};function pK(a,b){ly.call(this,a,b)}n(pK,ly);pK.prototype.da=function(){};function qK(a){var b=R.getBounds(a.B());a.Nd()&&(a=R.Zb(document),b.top-=a.y,b.left-=a.x);return b.round()}pK.prototype.xi=function(){};function rK(a,b){ly.call(this,a,b)}n(rK,pK);f=rK.prototype;
f.da=function(){if(null==this.g){var a=this.ab(),b=x.Hover.className,c=ip("div",{"class":b+" left",style:"display:none;"}),d=ip("div",{"class":b+" top",style:"display:none;"}),e=ip("div",{"class":b+" right",style:"display:none;"}),b=ip("div",{"class":b+" bottom",style:"display:none;"}),g=ip("div",{"class":"border"}),h=ip("div",{"class":"border"}),k=ip("div",{"class":"border"}),p=ip("div",{"class":"border"});c.appendChild(g);e.appendChild(h);d.appendChild(k);b.appendChild(p);a.appendChild(c);a.appendChild(e);
a.appendChild(d);a.appendChild(b);this.g={left:c,top:d,right:e,bottom:b,border:{left:g,right:h,top:k,bottom:p}};this.Ln()}};f.getZIndex=function(a,b){return x.Hover.activeZIndex[b]+sK(a)};function tK(a,b){var c,d;for(d in Ra)c=Ra[d],c=a.g[c],b?R.aa(c,!1):c.style.opacity=0}function uK(a,b,c,d){R.setPosition(a.g[b],c);R.setSize(a.g[b],d)}f.Ln=function(){};f.eb=function(a){for(var b in Ra)Hl(this.g[Ra[b]],"active",a)};
f.xi=function(a){rK.l.xi.call(this,a);Hl(this.g.top,x.Hover.classNameRemove,a);Hl(this.g.right,x.Hover.classNameRemove,a);Hl(this.g.bottom,x.Hover.classNameRemove,a);Hl(this.g.left,x.Hover.classNameRemove,a)};f.Lm=function(a){var b,c;for(c in Ra)b=Ra[c],b=this.g[b],b.style.position=a?"fixed":""};function vK(a,b){ly.call(this,a,b)}n(vK,rK);vK.prototype.Ln=function(){this.g.resize={};this.g.resize.left=wK(this.g.left,"left");this.g.resize.right=wK(this.g.right,"right");this.g.resize.bottom=wK(this.g.bottom,"bottom")};function xK(a,b){z(a.g.resize,function(a){R.aa(a,b)},a)}
function wK(a,b){var c=ip("div",{"class":"wnd-resize-box "+b,style:"display:none;","data-wnd_resize_type":b}),d=ip("div",{"class":"wnd-resize-handle"}),e=ip("div",{"class":"wnd-resize-handle-border"});d.appendChild(e);c.appendChild(d);a.appendChild(c);return c}vK.prototype.xi=function(a){vK.l.xi.call(this,a);xK(this,!a)};vK.prototype.eb=function(a){var b;z(Ra,function(c){b=this.g[c];Hl(b,"active",a);a&&this.f.selected!==a&&(b.style.zIndex=parseInt(b.style.zIndex,10)+x.Hover.zIndexOffset)},this)};function yK(){A.call(this);"undefined"==typeof zK&&(zK=new Sa);this.c=af(x.PageWysiwyg.editorSettings)}var zK;n(yK,A);var AK="";f=yK.prototype;
f.Wa=function(a,b){var c=af(this.c);b&&cf(c,b);if(AK!=a.getId()){AK&&I.j().get(AK).ra();AK=a.getId();zK.destroy();c.toolbar.spacing={top:a.cc().top,right:a.cc().right,bottom:a.cc().bottom,left:a.cc().left};var d=BK(a);null!=d&&cf(c,d);d=CK(this,a);null!=d&&(c.allowedFormats=d);d=DK(this,d);Xe(d)||(c.moduleLocales=d);c.isDisabledScroll=m(function(){return cq},this);a.Z instanceof TJ||(c.customBlocks={basic:{modules:[["Wnd2Delete"]]}});c.useCssTextAlign=!0;c.useCssMargin=!0;c.useCssFontSize=!0;ob(zK,
JI(a.view),c);a.Pd();Jb(zK,["keydown","keyup","keypress","paste","resize"],m(a.Pd,a));Jb(zK,["mouseoverPopup","selectBoxOpen"],m(this.uz,this,a));Jb(zK,["mouseoutPopup","selectBoxClose"],m(this.sz,this));Jb(zK,"onClickGoTo",m(a.Rz,a));Jb(zK,"onClickOutsideToolbar",m(a.sb,a));Jb(zK,"wnd2Delete",m(a.As,a));Jb(zK,"moduleLink",m(a.Ls,a,a));Jb(zK,"reActivate",m(a.hp,a))}};
f.getContent=function(){var a=Hb(zK),b="",c=!1;a&&(u(a.querySelectorAll("[data-wnd_text_container]"),function(a){b+=a.innerHTML;c=!0},this),!1===c&&(b=zK.getData()));return b};f.remove=function(a){AK==a.getId()&&(zK.destroy(),AK="",rF()||tr(kr.j()))};f.Ga=function(a){a=JI(a.view);return null!=a&&1==zK.Ga(a)};function BK(a){var b=iv(a,"wysiwygColors");if(null===b||!na(b))return null;var c={};c.frontColors=[b];a=iv(a,"colorItemsPerRow");null!=a&&(c.colorItemsPerRow=a);return c}
function CK(a,b){for(var c=null,d=b.getParent();d instanceof EK&&null===c;){var e=RG(d),g=null;"microtemplate"==d.kc()&&(g="microTemplate");KH(d)&&(g="section");g&&(c=bv("wysiwyg","allowedFormat",g,e));d=d.getParent()}null===c&&(c=bv("wysiwyg","allowedFormat"));if(c){var h=[];u(x.PageWysiwyg.allowedFormats,function(a){F(c,a)&&h.push(a)},a);c=h}null===c&&(c=x.PageWysiwyg.allowedFormats);return FK(a,c)}function FK(a,b){var c=[];u(b,function(a){c.push(x.PageWysiwyg.replaceTags[a])},a);return c}
function DK(a,b){var c=["Title","Subtitle","Heading"],d={},e=0;u(b,function(a){-1!=a.indexOf("Heading")&&l(c[e])&&(d[a]=c[e],e++)},a);return d}f.nk=function(a){zK.nk(a)};f.Wm=function(){return zK.Wm()};f.uz=function(a){kr.j().pause("addContent",!0);kr.j().pause("sectionToolbox",!0);GK(qH(a))};f.sz=function(){tr(kr.j())};f.Em=function(a){zK.Em(a)};function HK(a,b,c){tC.call(this,a,b,c);this.o.Create=m(this.g,this)}n(HK,tC);HK.prototype.g=function(){this.getParent().mb();return!0};I.j().register("wnd.pc.AddListingItemControlBar",Oj,xB,HK);function IK(a,b,c){Fz.call(this,a,b,c);this.I=this.g=null;this.D=!1}n(IK,oC);f=IK.prototype;
f.fa=function(){this.g=this.K(this.ca()+"name","wnd.ui.ShortTextFormItem",null,{create:{data:{value:""}},properties:{id:dC(this),label:"Title",name:Q(this.f,"name"),placeholder:"e.g. What's cooking? Read our latest news!",defaultValue:"",required:!0,hideLabel:!1,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},validateContinuous:!0}});this.g.focus(!0);this.I=this.getParent().K(this.C()+"_control_bar","wnd.pc.AddListingItemControlBar",this.ua(),{properties:{controls:{left:["Cancel"],
right:["Create"]},initRenderFlag:!0}})};f.jd=function(a,b){return!this.D&&IK.l.jd.call(this,a,b)};f.zc=function(a){null!=a&&(a.stopPropagation(),a.preventDefault());this.ra()};f.ra=function(a){if(this.D)return!1;this.D=!0;return IK.l.ra.call(this,a)};f.nh=function(a){a=IK.l.nh.call(this,a);a||(this.D=!1);return a};
f.Ye=function(){this.Aa();this.I.hide();var a=new Date,b=[a.getFullYear(),("0"+(a.getMonth()+1)).substr(-2,2),("0"+a.getDate()).substr(-2,2),("0"+a.getHours()).substr(-2,2),("0"+a.getMinutes()).substr(-2,2),("0"+a.getSeconds()).substr(-2,2)].join(""),a={};a[Q(this.f,"name")]=this.g.getValue();a[Q(this.f,"listing_page_id")]=P(this.f,"listingPageId");a[Q(this.f,"date")]=parseInt(b,10);b=new gi("createNewItem",1);gr(Ph.j(),b);var c=Bg.j().get(this.f.J()),d=m(this.kv,this);Ki(c,a,{},d,b)};
f.kv=function(a,b){"success"===a&&"undefined"!==typeof b.id&&this.Ha(b.id);this.D=!1};f.$j=function(){var a=this;this.f.Ea(function(b,c){window.location.href=t.listingsPrefix+c[Q(a.f,"identifier")]+"/"},null,this)};f.Ci=function(){};I.j().register("wnd.pc.AddListingItemForm",mk,EJ,IK);function JK(a,b){xB.call(this,a,b)}n(JK,xB);JK.prototype.N=function(){return{controls:P(this.f,"controls")}};function KK(a,b,c){tC.call(this,a,b,c)}n(KK,tC);KK.prototype.Ii=function(){Yz(this).qb()&&this.notify("onUploadCancel");this.Kk();return!0};I.j().register("wnd.pc.AddPhotoGalleryControlBar",Bk,JK,KK);function LK(a,b){zB.call(this,a,b);this.m=this.xa=null}n(LK,zB);LK.prototype.da=function(){LK.l.da.call(this);this.xa=this.c.querySelector("b.wnd-type-button");this.m=this.c.querySelector("b.wnd-loading.upload")};LK.prototype.Qc=function(a){R.aa(this.m,a)};LK.prototype.N=function(){var a=LK.l.N.call(this);a.Aa=!0;return a};function MK(a,b,c){RB.call(this,a,b,c)}n(MK,yC);f=MK.prototype;f.O=function(){MK.l.O.call(this);null===this.view.xa||this.c.H(this.view.xa,T,m(this.Ey,this))};f.Xf=function(){};f.Ey=function(a){a.stopPropagation();this.notify("onUploadClick")};f.Aa=function(){this.view.Qc(!0)};f.Fa=function(){this.view.Qc(!1)};I.j().register("wnd.pc.AddPhotoIntoGallery",Ck,LK,MK);function NK(a,b){qB.call(this,a,b);this.ac=!0}n(NK,qB);function OK(a,b,c){RB.call(this,a,b,c);O(this.f,"extendCssClass","wnd-popup-content wnd-clearfix")}n(OK,RB);OK.prototype.fa=function(){};I.j().register("wnd.pc.EditImagePopupContent",Dk,NK,OK);function PK(a,b,c){M.call(this,a,b,c)}n(PK,Lj);PK.prototype.dataType="content_items";PK.prototype.hk=function(a){var b=this.getData(),c=af(b);c.image.id=a.getId();c.image.src=a.ya();c.image.dataType=a.J();c.image.size.width=a.Ma();c.image.size.height=a.getHeight();c.image.id!=b.image.id&&(c.image.ratio={vertical:2,horizontal:2},a={"=imageId":c.image.id,"=dataType":c.image.dataType},b=I.j().get(this.getId()),Zk(c,b.ca(),a));Xi(this,c,!0)};
PK.prototype.Mj=function(){var a=N(this,"image").id;return null!=a&&"=imageId"!=a};function QK(a,b){qB.call(this,a,b);this.h={"class":"wnd-left-box"}}n(QK,qB);QK.prototype.da=function(){Qr(this.c,kt,this.N())};
QK.prototype.N=function(){var a=this.f.getData(),b="",c=af(N(this.f,"image")),d=qo(c.src),b="static_server"==c.dataType&&c.id==Ea.StaticContent.staticImagePlaceholder;this.f.Mj()?(b&&(c.id=Ea.StaticContent.staticImagePlaceholderDetail,c.src=Ea.StaticContent.staticImagePlaceholderDetailPath),b=po(c.src,c.dataType,q.FilesystemPreviewSize.small)):b=no(a.placeholder);a="";d||(a=hr(c.size.width,c.size.height));return{au:c.id,link:b,description:"",Sn:P(this.f,"buttonType"),Vh:d,sd:a}};function RK(a,b,c){RB.call(this,a,b,c);this.o={Edit:m(this.Gn,this)};this.g=!1}n(RK,RB);f=RK.prototype;f.Ua=function(a){this.D=$o("wnd-image-list-cell",this.view.B());this.v=$o("wnd-ctrl-type-submit",this.view.B());RK.l.Ua.call(this,a)};f.fa=function(){};f.O=function(){RK.l.O.call(this);u(this.v,function(a){this.c.H(a,T,this.Yq)},this);u(this.D,function(a){this.c.H(a,T,this.Yq)},this)};
f.Yq=function(a){a.stopPropagation();a=jy(a.currentTarget,"wnd_content_button");return"function"!==typeof this.o[a]?!1:this.o[a].call(this,a)};
f.Gn=function(){var a=N(this.f,"image"),b=L.j().get("project_info").getData(),c={key:"category",value:"",order:"DESC"},b={key:"category",value:[Ea.StaticServerCategory.templates,b.uikit_name,b.template_name,b.template_branch_id],optional:[b.uikit_name,b.template_name,b.template_branch_id]},d=I.j().get(this.getId());SK(d)?(d=RG(SK(d)),d=dv(d),d=Ea.StaticServerCategory.microtemplatePrefix+d.type,b.value.push(Ea.StaticServerCategory.microtemplate),b.value.push(d),b.optional.push(d),b.optional.push(Ea.StaticServerCategory.microtemplate),
c.value=Ea.StaticServerCategory.microtemplate):(b.value.push(Ea.StaticServerCategory.content),b.optional.push(Ea.StaticServerCategory.content),c.value=Ea.StaticServerCategory.content);c={filterMN:[b],orderMN:c};b={};b.publicImages=c;b.publicIcons=c;a=MG(E.j(),{showTypes:[Tj,"publicImages","publicIcons"],activeType:HC(a.dataType,a.src),collectionSettings:b,checkLowResolution:!1});eC(a,"onInsert",this.Zq,this);eC(a,"onClose",this.kz,this);return!0};f.Zq=function(a,b){this.f.hk(b[0])};
f.Jb=function(a,b,c,d){RK.l.Jb.call(this,a,b,c,d);this.g=!0};f.kz=function(){this.g&&(this.g=!1,Yz(this).mb())};I.j().register("wnd.pc.ImageDetailPopupContent",PK,QK,RK);function TK(a,b,c){pD.call(this,a,b,c);this.v=0;this.Qc=null}n(TK,pD);f=TK.prototype;f.dataType="content_items";f.Cd=function(){return!1};f.cn=function(){var a=this.getData();return l(a)?a.content:null};f.Ad=function(){return!!D(UK(this))&&0<this.Aj()};f.Aj=function(){var a=this.cn();return null===a?0:a.length};f.Yf=function(){return!0};f.Nm=function(){this.Yf()&&(this.v+=r.MediaList.collectionLimit)};
function UK(a){if(null===a.Qc){var b=N(a,"content");a.Qc=[];u(b,function(a){a=VK(Ig.j(),a);"static_server"==N(a.f,"image").dataType&&this.Qc.push(a)},a)}return a.Qc};function WK(a,b){MD.call(this,a,b)}n(WK,MD);WK.prototype.Nc=function(a){this.I.appendChild(a)};function lG(a,b,c){TE.call(this,a,b,c);this.v={};this.Na="";this.Ca=!1}n(lG,TE);f=lG.prototype;
f.ng=function(a,b){var c=this.f,d=c.getData();if(l(d)){var e=d.content.length;c.Xa=d.content;c.I={};c.S=[];c.W={};var g=0,h=0;a?(h=parseInt(c.v,10),g=h+r.MediaList.collectionLimit,c.v=0):g=c.v+r.MediaList.collectionLimit;if(b||!c.Yf())g=e-c.v;for(var d=d.content,k=Vi(c),p=0;p<e;p++){var w=d[p],v=k.getData(w),C=po(v.image.src,v.image.dataType,q.FilesystemPreviewSize.small);C&&(c.I[w]=MC(oD(LC((new nD).Ha(w),C),sD).Ab(v.image.dataType),v.image.src).setWidth(v.image.width).setHeight(v.image.height),
p>=c.v&&p<g&&(c.S.push(w),c.W[w]=c.I[w]))}a&&(c.v=h);if(b||!c.Yf())c.v=e-e%r.MediaList.collectionLimit}this.kh()};f.Gk=function(a){a.stopPropagation()};f.gf=function(a){!1===this.Ca&&(lG.l.gf.call(this,a),VE(this,a))};f.Ua=function(a){null!=this.ga&&this.ga.Ya()&&!this.isEmpty()&&SB(this.ga);!D(UK(this.f))&&ME(this);lG.l.Ua.call(this,a)};f.bh=function(){lG.l.bh.call(this);D(UK(this.f))&&(this.T=!0,this.ng(!1,!0))};
f.Ze=function(a){!D(UK(this.f))&&XK(this);this.v={};this.Na="";this.view.T(!1);this.qa=r.MediaList.itemsOnPage-this.f.Aj()%5;lG.l.Ze.call(this,a)};f.un=function(a,b){this.Na=b.c;if(Re(this.v)<this.qa){var c=this.view.B();c.scrollTop=c.scrollHeight}this.v[b.c]={};lG.l.un.call(this,a,b)};f.Di=function(a,b,c){if(this.ga.qb()){var d=po(b.ya(),b.J(),q.FilesystemPreviewSize.small);GD(this.view,c.c,d);this.v[c.c]=b}lG.l.Di.call(this,a,b,c)};f.rm=function(a,b,c,d){lG.l.rm.call(this,a,b,c,d);"error"==b&&delete this.v[d.c]};
f.tn=function(a,b){this.ga.Ya()||!this.f.Ad()&&Xe(this.v)&&this.ga.view.show();RE(this,b);for(var c=0;c<b.length;c++)delete this.v[b[c]];Th(L.j(),"filesystem_files");this.notify("onFinishUpload",this.v);this.view.T(!1);KD(this.view)};
f.xm=function(a){var b,c,d="";c="";for(var e=Ma(a),g=0;g<e.length;g++)c=po(this.v[e[g]].ya(),this.v[e[g]].J(),q.FilesystemPreviewSize.small),c=LC(oD(MC(RC((new nD).Ha(a[e[g]].C()).Ab(this.v[e[g]].J()),this.v[e[g]].Fg),this.v[e[g]].ya()).setWidth(this.v[e[g]].Ma()).setHeight(this.v[e[g]].getHeight()),sD),c),b=ID(this.view,e[g],c,c.getId()),this.c.H(b,"mouseover",this.hb),this.c.H(b,gq,this.W),this.D.push(b),e[g]==this.Na&&(d=c.getId()+"_item");null!=this.G&&(a=this.view.ad(this.G.getId()),this.move(b,
a,"right"),rp(b,a),this.G=null);this.V.init(d);this.ng(!1,!0)};f.Ai=function(){var a=ki(new ji,"image-edit"),b=m(this.kt,this);a.g=b;a=[ti(pi(a,!0),m(this.Hs,this))];b=XE(this,!0);null!=b&&a.push(b);return zh(a,lG.l.Ai.call(this))};f.Hs=function(a){return I.j().create(this.C()+"_edit_gallery_image","wnd.pc.GalleryImageEditForm",a.view.M,a,{id:this.g,properties:{initRenderFlag:!0,updateBeforeShow:!0,width:x.GalleryImageEditForm.width}})};
f.Bi=function(a){var b;a&&Mg(I.j(),a)?b=I.j().get(a):a&&(b=I.j().get(this.getId()),b=Ig.j().Ka(a,"wnd.pc.PhotoImageBlock",b));b.dispose();this.f.Ad()||(this.notify("onFinishUpload"),ME(this));lG.l.Bi.call(this,a)};f.move=function(a,b,c){a=jy(a,"wnd_media_file");b=jy(b,"wnd_media_file");var d=I.j().get(this.getId()),e;Mg(I.j(),a)?e=I.j().get(a):e=Ig.j().Ka(a,"wnd.pc.PhotoImageBlock",d);var g;Mg(I.j(),b)?g=I.j().get(b):g=Ig.j().Ka(b,"wnd.pc.PhotoImageBlock",d);e.move(d,g,c)};
f.resize=function(a,b){la(a)&&(a+="px");la(b)&&(b+="px");this.view.setSize(a,b)};f.zo=function(){return"wnd.pc.PhotoImageBlock"};f.isEmpty=function(){return!this.f.Ad()&&!!D(UK(this.f))};function XK(a){a.Ca=!0;var b=UK(a.f);u(b,function(a){a.dispose();sp(this.view.F[a.C()])},a);a.f.Qc=[];a.V.reset();a.V.init();a.Ca=!1}f.mp=function(){this.T=!0;requestAnimationFrame(m(function(){this.f.Nm();this.Aa();this.ng()},this))};I.j().register("wnd.pc.PhotoGalleryListContent",TK,WK,lG);function YK(a,b){qB.call(this,a,b);this.m=null}n(YK,qB);function ZK(a,b,c){RB.call(this,a,b,c);this.ga=null}n(ZK,RB);f=ZK.prototype;
f.fa=function(){this.ga=this.K(this.C()+"_media_upload","wnd.ui.UploadFilePopupContent",null,{properties:{initRenderFlag:!0,multipleUpload:P(this.f,"multipleUpload"),closeAfterUpload:!1,fileGroup:P(this.f,"fileGroup"),width:r.UploadFilePopupContent.width,height:r.UploadFilePopupContent.height}});this.ga.observe("onInitUpload",m(this.Fz,this),this);this.ga.observe("onStartUpload",m(this.Jz,this),this);this.ga.observe("onLoadingUpload",m(this.Gz,this),this);this.ga.observe("onPreviewUpload",m(this.Hz,
this),this);this.ga.observe("onProgressUpload",m(this.Iz,this),this);this.ga.observe("onCompleteUpload",m(this.Dz,this),this);this.ga.observe("onFinishUpload",m(this.Ez,this),this)};f.Fz=function(){SB(this.ga);this.notify("onInit")};f.Jz=function(a,b){var c=this.view;if(null==c.m){var d=Tr(cu,{filename:b.h.name}),e=Tr(du);c.m=e.querySelector("i");d.appendChild(e);c.B().appendChild(d)}};f.Gz=function(){this.Aa()};f.Hz=function(){this.Fa();SB(this.ga)};
f.Iz=function(a,b,c){a=this.view;null!=a.m&&R.setWidth(a.m,Math.round(c.loaded/c.total*100)+"%")};f.Dz=function(a,b){var c=new yg("dataUpdate","parent_propagation",b.dataType,this,b.id);this.ba(c);this.notify("onInsert",b)};f.Ez=function(a,b,c){!0===(null!=this.ga)&&this.ga.view.show();this.notify("onFinish",c)};f.Hu=function(){this.ah()};f.ah=function(){!0===(null!=this.ga)&&(this.ga.cancel(),this.ga.view.show())};I.j().register("wnd.pc.SelectMediaContent",Lj,YK,ZK);function $K(a,b,c){M.call(this,a,b,c)}n($K,PK);$K.prototype.hk=function(a){var b=this.getData(),c=af(b);!0===(null===c.image)&&(c.image={});c.image.id=a.getId();c.image.src=a.ya();c.image.dataType=a.J();c.image.width=a.Ma();c.image.height=a.getHeight();if(!0===(null===b.image)||c.image.id!==b.image.id)a={"=imageId":c.image.id,"=dataType":c.image.dataType},b=I.j().get(this.getId()),Zk(c,b.ca(),a);Xi(this,c,!0)};
$K.prototype.Mj=function(){if(fa(N(this,"image")))return!1;var a=N(this,"image").id;return null!=a&&"=imageId"!=a};function aL(a,b){QK.call(this,a,b)}n(aL,QK);aL.prototype.N=function(){var a=this.f.getData(),b="",c=null;this.f.Mj()?(b=po(a.image.src,a.image.dataType,q.FilesystemPreviewSize.small),c=a.image.id):b=no(a.placeholder);return{au:c,link:b,description:"",Sn:P(this.f,"buttonType"),Vh:!1===(null===a.image)&&qo(a.image.src)}};function bL(a,b,c){RK.call(this,a,b,c)}n(bL,RK);
bL.prototype.Gn=function(){var a=N(this.f,"image"),b="publicIcons";!0===(null!=a)&&(b=HC(a.dataType,a.src));var a=L.j().get("project_info").getData(),c={};c.publicIcons={filterMN:[{key:"category",value:[Ea.StaticServerCategory.templates,a.uikit_name,a.template_name,Ea.StaticServerCategory.socialIcons],optional:[a.uikit_name,a.template_name]}],orderMN:{key:"category",value:Ea.StaticServerCategory.content,order:"DESC"}};eC(MG(E.j(),{showTypes:[Tj,"publicIcons"],activeType:b,collectionSettings:c,checkLowResolution:!1}),
"onInsert",this.Zq,this);return!0};I.j().register("wnd.pc.SocialIconsImage",$K,aL,bL);function cL(a,b){nF.call(this,a,b)}n(cL,nF);function dL(a,b,c){NB.call(this,a,b,c)}n(dL,NB);dL.prototype.fa=function(){this.K(this.C()+"_nav_bar","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Enter title of blog post",extendCssClass:"wnd-add-item"}});this.g=this.K(this.C()+"_edit","wnd.pc.AddListingItemForm",null,{properties:{initRenderFlag:!0,width:x.NewListingItemForm.width,height:x.NewListingItemForm.height,autoSave:!1,id:this.C(),listingPageId:P(this.f,"listingPageId"),method:"post",updateBeforeShow:!0}})};
dL.prototype.mb=function(){null!=this.g&&this.g.zc()};dL.prototype.jc=function(){dL.l.jc.call(this);this.g.show()};I.j().register("wnd.pc.AddListingItemPopup",Ek,cL,dL);function eL(a,b){fF.call(this,a,b);this.v=null}n(eL,fF);eL.prototype.W=function(){return"There are no published blog posts"};function fL(a,b){nF.call(this,a,b)}n(fL,nF);function gL(a,b,c){NB.call(this,a,b,c)}n(gL,NB);f=gL.prototype;f.ua=function(){return"image_setting"};
f.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Image Settings",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-upload-image"}});var a=this.K(this.C()+"_content","wnd.pc.EditImagePopupContent",this.ua(),{properties:{initRenderFlag:!0}});this.o=a.K(this.C()+"_image_detail","wnd.pc.ImageDetailPopupContent",null,{id:P(this.f,"blockId"),properties:{id:this.C()+"_image_detail_content",initRenderFlag:!0,imageId:P(this.f,"imageId"),
directoryId:x.ImageBlock.directoryId,buttonType:"Edit",width:x.ImageDetailPopupContent.width,height:x.ImageDetailPopupContent.height}});this.g=a.K(this.C()+"-form","wnd.pc.EditImageForm",null,{id:P(this.f,"blockId"),properties:{id:this.C()+"_form_content",initRenderFlag:!0}});this.K(this.C()+"-control","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{right:["Submit"]},initRenderFlag:!0}})};
f.Y=function(a){gL.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.c&&a.c.getId()==this.getParent().getId()&&this.o.Sc("data_updated")};f.show=function(){this.g&&this.g.Cc();gL.l.show.call(this)};f.mb=function(){this.g.ra()&&this.hide()};f.remove=function(){this.hide();var a=P(this.f,"onRemove");ma(a)&&a()};I.j().register("wnd.pc.EditImagePopup",Fk,fL,gL);function hL(a,b,c){NB.call(this,a,b,c)}n(hL,NB);
hL.prototype.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Edit HTML",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-html"}});this.g=this.K(this.C()+"_popup_content","wnd.pc.EditHtmlForm",this.ua(),{id:P(this.f,"blockId"),properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,updateBeforeShow:!0}});this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],
right:["Submit"]},initRenderFlag:!0}})};hL.prototype.jc=function(){this.g.Cc()};hL.prototype.mb=function(){this.g.ra()&&(Ih(this,"onClose"),this.hide())};hL.prototype.Hd=function(){this.notify("onClose")};I.j().register("wnd.pc.HtmlPopup",Zj,nF,hL);function iL(a,b){pF.call(this,a,b);this.gb=[];this.Gf=[];this.W={};this.ye=[];this.Nc=new kk;this.La=new ik;this.h={"class":"wnd-base wnd-bubble-base wnd-insert-content"};this.v=this.G=this.Ca=null}n(iL,pF);f=iL.prototype;f.fc=function(){this.gb=this.Gf=this.W=this.ye=this.Ca=this.G=this.v=null;pp(this.B());iL.l.fc.call(this)};
f.da=function(){var a=Tr(Ks);this.lq(a);this.gb=$o("wnd-insert-switcher",a);this.ye=$o("wnd-insert-block",a);this.Gf=eg(a.querySelectorAll("[data-wnd_insert_title]"));this.W={};u(this.ye,function(a){var c=jy(a,"wnd_insert_block");a=$o("wnd-insert-button",a);this.W[c]=a},this);this.m=Tr(vt);np(this.B(),a);np(this.B(),this.m)};f.lq=function(a){Qr(a,rt,this.N())};
function jL(a){if(null==a.G){a.G=[];var b=Ma(fv());F(b,"blog_recent_posts")&&!a.f.yc&&cg(b,"blog_recent_posts");u(b,function(a,b){var e=b/x.InsertContentPopup.itemsPerGroup>>0,g=cv(a).type,g={za:g,Vd:g,cf:a,Td:this.Nc.getName(g)};null!=this.G[e]||(this.G[e]=[]);this.G[e].push(g)},a)}return a.G}
function kL(a){if(null==a.v){a.v=[];var b=lL(a),c=0;z(x.InsertContentPopup.blocks,function(a,e){if(null!=b[e]){var g=c/x.InsertContentPopup.itemsPerGroup>>0,h={za:a.cssType,Vd:a.contentBlockType?a.contentBlockType:e,Td:this.La.getName(e),cf:a.contentIdentifier?a.contentIdentifier:""};null!=this.v[g]||(this.v[g]=[]);this.v[g].push(h);c++}},a)}return a.v}
f.N=function(){var a=[],b=kL(this),c=jL(this);u(b,function(b,c){a.push(mL(fH,c))},this);u(c,function(b,c){a.push(mL(nL,c))},this);return{Ue:a,Nx:c,Ni:b,Cg:[]}};function lL(a){var b=Pe.formatters;vo.j().hasFeature("forms")&&F(b,"wnd.pc.FormBlock")&&L.j().get("tpl_forms").Ea(function(a,d){z(d,function(a,c){b.push(d[c]["tpl_forms.identifier"])},this)});a.f.yc||cg(b,"wnd.pc.BlogRecentPosts");return df(b)}function mL(a,b){return{od:a,Hq:b,fy:""}}f.Jg=function(){return this.W};
function oL(a,b,c){var d,e,g=0,h=jy(b,"wnd_insert_block"),k=jy(c,"wnd_insert_block");b=R.pa(a.B());u(a.gb,function(a,b){if(R.Uh(a)){var c=jy(a,"wnd_insert_switch");c===h&&(d=b);c===k&&(e=b)}},a);return g=d>e?b.width:-b.width}
f.ey=function(a,b){R.aa(b,!0);R.aa(a,!0);var c=R.pa(a),d=R.pa(b);this.Ca=oL(this,a,b);this.Ca*=-1;R.setWidth(a,c.width);R.setStyle(a,"position","absolute");c=new rw(a,[-1*this.Ca],[0],x.InsertContentPopup.showAnimationTime,de);c.H("animate",m(this.zp,this));c.H("end",m(this.Jp,this,a,!1));c.play();R.setWidth(b,d.width);R.setStyle(b,"position","absolute");d=new rw(b,[0],[this.Ca],x.InsertContentPopup.hideAnimationTime,de);d.H("animate",m(this.zp,this));d.H("end",m(this.Jp,this,b,!0));d.play()};
f.zp=function(a){a.h.element.style.left=Math.round(a.c[0])+"px"};f.Jp=function(a,b){R.setStyle(a,"width","auto");R.setStyle(a,"position","relative");a.style.left=0;!0===b&&(a.style.display="none")};function pL(a,b,c){wr.call(this,a,b,c)}n(pL,wr);f=pL.prototype;f.fa=function(){this.K(this.C()+"_content","wnd.ui.InfoBubbleContent",null,{properties:{initRenderFlag:!0,extendCssClass:r.InfoBubble.contentClassName,type:P(this.f,"type"),title:P(this.f,"title"),text:P(this.f,"text"),linkName:P(this.f,"linkName")}})};f.show=function(){if(P(this.f,"showOnceTime")){if("showOnceTime"===Je.get(this.C()))return;He(Je,this.C(),"showOnceTime",-1,"/")}pL.l.show.call(this)};
f.O=function(){pL.l.O.call(this);this.c.H(window,"scroll",m(this.EA,this));this.c.H(this.B(),T,m(this.DA,this))};f.ak=function(){wF(this)};f.EA=function(){wF(this)};f.DA=function(){this.notify("onClick");P(this.f,"hideOnClick")&&this.hide(null,!0)};f.sg=function(){pL.l.sg.call(this);var a=this.view;R.setOpacity(a.B(),0);setTimeout(m(a.v,a),r.InfoBubble.fadeInAndSlidePause)};f.jd=function(a,b){return!!b};I.j().register("wnd.ui.InfoBubble",bk,sF,pL);function qL(a,b,c){wr.call(this,a,b,c);this.D={}}n(qL,wr);var fH="block",nL="section";f=qL.prototype;f.Ua=function(a){qL.l.Ua.call(this,a);u(this.view.ye,function(a){var c=jy(a,"wnd_insert_block");this.D[c]=a},this)};f.O=function(){qL.l.O.call(this);z(this.view.Jg(),function(a,b){u(a,function(a){this.c.H(a,T,this.$q);0==b.lastIndexOf(fH,0)&&(tz(this),I.j().get(x.PageZoneModel.ZoneId).V.Ka(a))},this)},this);u(this.view.gb,function(a){this.c.H(a,T,this.Xf)},this)};
f.jd=function(a,b){var c=!0;null!=a&&c&&(c=!oF(this.view,new S(a.clientX,a.clientY)));return c&&qL.l.jd.call(this,a,b)};f.Y=function(a){qL.l.Y.call(this,a);if("dataDelete"==a.getType()&&"children_propagation"==a.h){var b=t.page.langId;null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[b]&&t.listings.blog[b].page_id==a.g&&(this.f.yc=!1,this.D={},this.view.fc())}};f.Xf=function(a){a.stopPropagation();a=jy(a.currentTarget,"wnd_insert_switch");null!=a&&this.od!=a&&rL(this,a,!0)};
function rL(a,b,c){c||(a.view.Ca=null);c&&b!==a.od&&a.view.ey(a.D[b],a.D[a.od]);u(a.view.gb,function(a){var e=jy(a,"wnd_insert_switch"),g=e===b;c||R.aa(this.D[e],g);g?(a.classList.add("active"),this.od=b):a.classList.remove("active")},a);u(a.view.Gf,function(a){var c=jy(a,"wnd_insert_title")===b;R.aa(a,c)},a)}function eH(a,b){b&&(rL(a,b+"_0"),sL(a,b))}
function sL(a,b){var c=[];u(a.view.gb,function(a){-1!=jy(a,"wnd_insert_switch").indexOf(b)?c.push(a):R.aa(a,!1)},a);1<c.length&&u(c,function(a){R.aa(a,!0)},a)}
f.$q=function(a){a.stopPropagation();this.notify("onSelectInsertType");this.hide();if(0==this.od.lastIndexOf(nL,0)){if(this.g&&this.o){var b=jy(a.currentTarget,"wnd_insert_content_identifier");a=tL(this.g.id);var c=null,d=null;KH(a)?(d=a,d.view.gn(),c=a.Z):c=a;a=c;c=this.o;vJ("DisableContent").show();b=uL(a,b,!1,null,d,c);d=new gi("createSection",b.length);vL(Ph.j(),b,d)}}else if(this.g&&this.o){b=jy(a.currentTarget,"wnd_insert_type");ky(this.g,x.ContentBlock.separableParts.typeIsSeparable)&&(d=jy(this.g,
x.ContentBlock.separableParts.typeSeparableId))&&(this.g=wL(xL(tL(d)),this.g,this.o));var e,d=tL(this.g.id);if("top"==this.o&&d instanceof yL)for(;d.jb instanceof zL&&AL(d.jb);)d=d.jb;e=d;e.Yb();var g;BL(e)&&!1===e instanceof CL?(g=d=e,e=null):(g=e.Z,d=xL(e));c={};(a=jy(a.currentTarget,"wnd_insert_content_identifier"))&&(c.contentIdentifier=a);"wnd.pc.FormBlock"===b||"wnd.pc.UserLoginFormBlock"===b||"wnd.pc.UserRegistrationFormBlock"===b||"wnd.pc.UserRecoveryFormBlock"===b||"wnd.pc.UserChangePasswordFormBlock"===
b?DL(g,a,e,this.o):"wnd.pc.BlogRecentPosts"===b?EL(g,e,this.o):(a=m(g.rd,g,b,e,this.o),FL(GL.j(),b,a,c)||(b=a(c),HL(d,b)))}};f.show=function(){qL.l.show.call(this);var a;a=null!=this.od&&0==this.od.lastIndexOf(nL,0)?new H("inspectletInfo2",this):new H("inspectletInfo1",this);this.ba(a);kr.j().pause()};f.Hd=function(){qL.l.Hd.call(this);tr(kr.j())};function tL(a){return VK(Ig.j(),a)}function gH(a,b,c){a.g=b;a.o=c}
function hH(a,b){var c=R.ff(Dx()),d=R.pa(a.B()),e=b.top-d.height-x.InsertContentPopup.arrowHeight,g=b.top+b.height+x.InsertContentPopup.arrowHeight+d.height;if(c.top+x.PageZoneModel.topOffset>e&&c.bottom<g){var h=b.top-x.PageZoneModel.topOffset;c.top+x.PageZoneModel.topOffset-e<g-c.bottom&&(h=h-x.InsertContentPopup.arrowHeight-d.height);window.scrollTo(0,h)}var h=R.ff(Dx()),k=R.pa(a.B()),c=b.left+b.width/2-x.InsertContentPopup.arrowOffset,d=b.top+b.height+x.InsertContentPopup.arrowHeight,e="left",
g="top";c+k.width>h.right&&(c=b.left-k.width+b.width/2+x.InsertContentPopup.arrowOffset,e="right");c<h.left&&(c=h.left,e="left");d+k.height>h.bottom&&(d=b.top-k.height-x.InsertContentPopup.arrowHeight,g="bottom");d<h.top&&(d=h.top+x.PageZoneModel.topOffset+x.InsertContentPopup.arrowHeight,g="top");h=a.view;Hl(h.B(),"right","left"!==e);Hl(h.B(),"bottom","top"!==g);Hl(h.B(),"top","top"===g);c=new S(c,d);R.setPosition(a.view.B(),c)}I.j().register("wnd.pc.InsertContentPopup",Gk,iL,qL);function IL(a,b){iL.call(this,a,b);this.R=null;this.ic=new jk}n(IL,iL);IL.prototype.lq=function(a){Qr(a,wt,this.N())};function JL(a){if(null==a.R){a.R=[];var b=df(Pe.formatters),c=0;z(x.InsertFormFieldPopup.formFields,function(a,e){if(null!=b[e]){var g=c/x.InsertContentPopup.itemsPerGroup>>0,h={za:a.cssType,Vd:e,Td:this.ic.getName(e)};a.contentIdentifier&&(h.contentIdentifier=a.contentIdentifier);null!=this.R[g]||(this.R[g]=[]);this.R[g].push(h);c++}},a)}return a.R}
IL.prototype.N=function(){var a=[],b=JL(this);u(b,function(b,d){a.push(mL("form-field",d))},this);return{Ue:a,Cg:[],ht:b}};function KL(a,b,c){qL.call(this,a,b,c);this.v=null}n(KL,qL);function LL(a){a.v&&z(a.view.Jg(),function(a){u(a,function(a){this.v.Ka(a)},this)},a)}KL.prototype.$q=function(a){a.stopPropagation();this.hide();a=jy(a.currentTarget,"wnd_insert_type");if(this.g&&this.o){var b=tL(this.g.id);b.Yb();var c=b.Z;c instanceof ML&&NL(c,a,b,this.o)}};KL.prototype.Hd=function(){KL.l.Hd.call(this);this.v=null};I.j().register("wnd.pc.InsertFormFieldPopup",Hk,IL,KL);function OL(a,b,c){NB.call(this,a,b,c)}n(OL,NB);OL.prototype.Ml=function(){return{}};OL.prototype.Ho=function(a){return a};OL.prototype.Uf=function(a){var b={},c=P(this.f,"createMVCType");c&&(b=Yi(I.j(),c,this.Ml(a)),b=ff(b,this.Ho(a)));return b};I.j().register("wnd.pc.NewContentItemPopup",Zj,nF,OL);function UJ(a,b,c){NB.call(this,a,b,c)}n(UJ,OL);
UJ.prototype.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert button",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-button"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,"class":"wnd-form-new-block wnd-form-button",isNew:!0,saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.K(this.C()+"_popup_content","wnd.pc.EditLinkForm",
this.ua(),a);this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};UJ.prototype.mb=function(){if(cC(this.g)){var a=this.g.Gc();!1===F([0,1],a.open_in_new_window)&&(a.open_in_new_window=0);this.notify("onInsert",this.Uf(a));this.hide()}};UJ.prototype.Ml=function(a){a["=text"]="Call to action";return a};I.j().register("wnd.pc.NewButtonPopup",Zj,nF,UJ);function PL(a,b,c){NB.call(this,a,b,c)}n(PL,OL);
PL.prototype.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert HTML",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-html"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,isNew:!0,saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.K(this.C()+"_popup_content","wnd.pc.EditHtmlForm",this.ua(),a);this.K(this.C()+"_control_bar",
"wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};PL.prototype.mb=function(){if(cC(this.g)){var a=this.g.Gc();this.notify("onInsert",this.Uf(a));this.hide()}};I.j().register("wnd.pc.NewHtmlPopup",Zj,nF,PL);function QL(a,b,c){NB.call(this,a,b,c)}n(QL,OL);
QL.prototype.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert map",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-map"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,updateBeforeShow:!0,"class":"wnd-form-new-block",saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.K(this.C()+"_popup_content","wnd.pc.EditMapForm",
this.ua(),a);this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};QL.prototype.mb=function(){XJ(this.g,m(this.o,this))};QL.prototype.o=function(){if(cC(this.g)){var a=this.g.Gc();this.notify("onInsert",this.Uf(a));this.hide()}};I.j().register("wnd.pc.NewMapPopup",Zj,nF,QL);function cK(a,b,c){NB.call(this,a,b,c)}n(cK,OL);f=cK.prototype;
f.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Insert video",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-video"}});var a={id:this.C()+"_popup_content",properties:{width:x.NewEditForm.width,height:x.NewEditForm.height,initRenderFlag:!0,updateBeforeShow:!0,"class":"wnd-form-new-block",saveBeforeClose:!1}},b=P(this.f,"dataType");l(b)&&(a.dataType=b);this.g=this.K(this.C()+"_popup_content","wnd.pc.EditVideoForm",this.ua(),
a);this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};f.sg=function(){cK.l.sg.call(this);"my_videos"===P(this.f,"dataType")&&this.g.Cc()};f.mb=function(){cC(this.g)&&dK(this.g,m(this.ov,this))};f.ov=function(a){this.notify("onInsert",this.Uf(a));this.hide()};f.Uf=function(a){var b=cK.l.Uf.call(this,a);Xe(b)&&(b=a);return b};I.j().register("wnd.pc.NewVideoPopup",Zj,nF,cK);function RL(a,b,c){LE.call(this,a,b,c);this.o=null}n(RL,LE);var Uk="youtube",Ok="vimeo";f=RL.prototype;f.bh=function(){this.o=E.j().create("wnd.pc.NewVideoPopup",this.C()+"_addVideo",document.body,this,{},{dataType:this.J()});eC(this.o,"onInsert",this.$A,this)};f.Ze=function(){var a=this.view;a.G=vp(a.c);this.view.te=!0;JD(this.view);this.notify("onInitUpload")};
f.$A=function(a,b){this.Ze(a);var c=new gi("createNewVideo",1);gr(Ph.j(),c);var d=this.J(),e=Bg.j().get(d),g=b.video_id,h={};h[d+".source"]=b.source;h[d+".url"]=b.url;h[d+".original_url"]=b.originalUrl;h[d+".thumbnail"]=b.thumbnail;h[d+".video_id"]=g;h[d+".thumbnail_id"]=b.thumbnail_id;h[d+".width"]=b.width;h[d+".height"]=b.height;d=m(this.su,this,b);Ki(e,h,{},d,c);DD(this.view,g,"");FD(this.view,g);DD(this.view,g,b.thumbnail);CD(this.view)};
f.su=function(a,b,c){this.tn("onFinishUpload",[],!1);b=a.video_id;c=c.id;a=oD(JC(NC(LC(MC((new nD).Ha(c).Ab("my_videos"),a.url).setWidth(a.width).setHeight(a.height),a.thumbnail),a.thumbnail),fr),sD);this.f.I[a.getId()]=a;ID(this.view,b,a,c);this.f.update("data_updated")};f.kh=function(){RL.l.kh.call(this);this.f.Ad()&&CD(this.view)};f.Y=function(a){RL.l.Y.call(this,a);a.J()!=this.J()||this.f.Cd()||(this.f.update("data_updated"),PE(this),!1===this.f.Ad()&&ME(this))};
I.j().register("wnd.ui.MediaListVideos",VD,uD,RL);function SL(a,b,c){NB.call(this,a,b,c);this.Ca=this.I=this.D=null;this.o={};this.g=this.U=this.v=this.G=null}n(SL,NB);f=SL.prototype;f.jc=function(){SL.l.jc.call(this);var a=P(this.f,"activeType");null!=this.v&&F(P(this.f,"showTypes"),this.v)&&(a=this.v);var b=this.I;O(b.f,"showTypes",P(this.f,"showTypes"));JB(b.view,P(b.f,"showTypes"));GC(b,a);b.notify("onChangeMediaType",b.g);TL(this)};f.Mc=function(){};
f.fa=function(){this.D=this.K(this.C()+"_media_header","wnd.ui.MediaHeader",null,{properties:{initRenderFlag:!0,title:"Choose image",switchGroups:["mediaUploadImage","mediaUploadFile","mediaUploadFavicon","mediaUploadVideo"]}});this.D.observe("onUploadClick",this.dx,this);this.I=this.K(this.C()+"_media_types","wnd.ui.MediaTypes",null,{properties:{initRenderFlag:!0,width:r.MediaTypes.width,height:r.MediaTypes.height,showTypes:P(this.f,"showTypes"),activeType:P(this.f,"activeType")}});this.I.observe("onChangeMediaType",
this.Nu,this);TL(this);this.Ca=this.K(this.C()+"_media_list_area","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,height:r.MediaList.height,extendCssClass:"wnd-media-list-area",resize:!0}});this.g=this.K(this.C()+"_media_footer","wnd.ui.MediaFooter",null,{properties:{initRenderFlag:!0,controls:{right:["Close","Cancel"]}}});UL(this,P(this.f,"activeType"));VL(this)};
function UL(a,b){if(!F(P(a.f,"showTypes"),b))throw new Oa("Media type `"+b+"` not allowed.");var c;a:{c=0;var d="";if(r.MediaListFilesystem[b])d=P(a.f,"checkLowResolution")?"1":"0",d=JSON.stringify(r.MediaListFilesystem[b].collectionSettings)+d;else if(r.MediaListStaticServer[b])d=JSON.stringify(r.MediaListStaticServer[b].collectionSettings),l(P(a.f,"collectionSettings"))&&l(P(a.f,"collectionSettings")[b])&&(d+=JSON.stringify(P(a.f,"collectionSettings")[b]));else if(l(P(a.f,"collectionSettings"))&&
l(P(a.f,"collectionSettings")[b]))d+=b+JSON.stringify(P(a.f,"collectionSettings")[b]);else break a;for(var e=d.length;e;)c=33*c^d.charCodeAt(--e);c=c>>>0}if(null!=a.v&&null!=a.U)if(a.v!==b||a.U!==c)a.G.hide();else return;if(null!=a.o[b]&&null!=a.o[b][c])a.G=a.o[b][c],a.G.show(),a.v=b,a.U=c;else{a:{var g=e=null,d={initRenderFlag:!0,height:"100%",canUpload:!1};d.mediaType=b;switch(b){case Uj:e=zD;break;case "publicIcons":e=AD;break;case "solidColors":case "solidColorSchemes":e=BD;break;case "publicFavicons":case Vj:e=
tD;break;default:e=sD}d.itemType=e;d.checkLowResolution=P(a.f,"checkLowResolution")||!1;var h={from:0};h.count=r.MediaList.collectionLimit;switch(b){case Uj:e="wnd.ui.MediaListFilesystem";g=af(r.MediaListFilesystem[b].collectionSettings);g.limit=h;d.canUpload=!0;d.multipleUpload=!0;d.fileGroup=Wj(a.I.f,b);break;case Vj:e="wnd.ui.MediaListFilesystem";g=af(r.MediaListFilesystem[b].collectionSettings);g.limit=h;d.canUpload=!0;d.multipleUpload=!1;d.fileGroup=Wj(a.I.f,b);break;case Tj:e="wnd.ui.MediaListFilesystem";
g=af(r.MediaListFilesystem[b].collectionSettings);l(g.filter)&&ia(g.filter)&&(g.filter.push({prefix:"AND",key:"filesystem_files.active",operator:"=",value:"1"}),g.filter.push({prefix:"AND",key:"filesystem_files.temp_record",operator:"=",value:"0"}));g.limit=h;d.toolbox=!0;d.canUpload=!0;d.multipleUpload=!0;d.fileGroup=Wj(a.I.f,b);break;case "publicImages":case "publicIcons":case "publicFavicons":case "patterns":case "videos":e="wnd.ui.MediaListStaticServer";g=af(r.MediaListStaticServer[b].collectionSettings);
g.limit=h;h=g;l(h.filter)&&ia(h.filter)&&(l(t.licenceLevel)&&h.filter.push({prefix:"AND",key:"licence_level",operator:"IN",value:ro()}),h.filter.push({prefix:"AND",key:"show_in_list",operator:"=",value:1}));"publicFavicons"===b&&(d.fileGroup=Wj(a.I.f,b));break;case "solidColors":e="wnd.ui.MediaListSolidColors";g={};WL(a,g,"solidColorSchemes");break;case fr:e="wnd.ui.MediaListVideos";g=af(r.MediaListVideos[b].collectionSettings);g.limit=h;break;default:d=null;break a}WL(a,g,b);d={dm:e,vs:g,properties:d}}null!==
d&&(null!=a.o[b]||(a.o[b]={}),a.o[b][c]=a.Ca.K(a.C()+"_items_"+b+"_"+c,d.dm,null,{collectionSettings:d.vs,properties:d.properties}),a.G=a.o[b][c],d=d.properties.canUpload,a.o[b][c].observe("onItemClick",a.Wv,a),d&&(a.g.observe("onUploadCancel",a.o[b][c].ah,a.o[b][c]),a.o[b][c].observe("onInitUpload",a.bB,a),a.o[b][c].observe("onFinishUpload",a.aB,a)),a.v=b,a.U=c)}}f.bB=function(){this.g.cb("Cancel",!0);this.g.cb("Close",!1);EC(this.D);this.D.Aa()};
f.aB=function(){this.g.cb("Cancel",!1);this.g.cb("Close",!0);null!=this.v&&DC(this.D,this.v);this.D.Fa()};f.hide=function(a,b){var c;!(c=this.qb())&&(c=this.v===Tj)&&(c=this.G,c=null!=c.o?c.o.A:!1);return c?!1:SL.l.hide.call(this,a,b)};f.qb=function(){return null!=this.G&&null!=this.G.ga?this.G.ga.qb():!1};f.show=function(){SL.l.show.call(this);this.g.cb("Cancel",!1);this.g.cb("Close",!0);this.D.Fa()};f.Nu=function(a,b){UL(this,b);VL(this)};
function VL(a){for(var b=P(a.f,"showTypes"),c=[Tj,Vj,Uj,fr],d=!1,e=0;e<c.length;e++){var g=b,h=c[e],k=!1,k=[fr,"videos"];if(k=Ue("my_videos")&&F(k,a.v)?fr===h:F(g,h)){DC(a.D,c[e]);d=!0;break}}d||EC(a.D)}f.dx=function(a,b){GC(this.I,b);UL(this,b);this.o[b][this.U].bh()};f.Wv=function(a,b){this.notify("onInsert",[b]);this.hide(null,!0)};f.Id=function(a){z(a,function(a,c){O(this.f,c,a)},this)};
function TL(a){var b,c;a.I.Vg()?(b=r.MediaPopup.dimension.withTypes.width,c=r.MediaPopup.dimension.withTypes.height):(b=r.MediaPopup.dimension.withoutTypes.width,c=r.MediaPopup.dimension.withoutTypes.height);O(a.f,"width",b);O(a.f,"height",c);a.resize(b,c)}f.Hd=function(){this.o[this.v][this.U].ah()};function WL(a,b,c){null!=P(a.f,"collectionSettings")&&null!=P(a.f,"collectionSettings")[c]&&cf(b,P(a.f,"collectionSettings")[c])}I.j().register("wnd.ui.MediaPopup",Zj,nF,SL);function E(){K.call(this);this.g={};this.h=!1}n(E,K);da(E);E.prototype.create=function(a,b,c,d,e,g){Mg(I.j(),b)?(a=I.j().get(b),a.Id(g)):(g={id:b,create:{data:e||{}},properties:XL(a,g)},a=I.j().create(b,a,c,d,g),this.g[b]=a);a.Ra()||a.show();eC(a,"onMouseOver",m(this.m,this,!0),a);eC(a,"onMouseOut",m(this.A,this,!1),a);return a};E.prototype.m=function(){this.notify("onPopupMouseOver")};E.prototype.A=function(){this.notify("onPopupMouseOut")};
function XL(a,b){var c=b||{},d=ff(r.DefaultPopupProperties,Di("DefaultPopupProperties"));null!=d&&null!=d[a]&&(c=$e(d[a]),null!=b&&ua(c,b));return c}function IE(a,b,c,d){null!=b.text&&!ha(b.text)&&(b.text=[b.text]);a=a.create("wnd.ui.InfoPopup","wnd_ui_InfoPopup",document.body,c,{},{title:b.title,text:b.text,type:b.type,params:b.params||{},extendCssClass:b.extendCssClass||""});d&&eC(a,"onConfirm",d,a);return a}
function uC(a,b,c,d){a=a.create("wnd.ui.ConfirmPopup","wnd_ui_ConfirmPopup",document.body,c,{destroyAfterClose:!0},{title:b.title,text:b.text,leftButtons:b.leftButtons,extendCssClass:"wnd-confirm-delete"});d&&eC(a,"onConfirm",d,a)}function MG(a,b){var c=r.MediaPopup.mvcId;b.extendCssClass="wnd-media";var d=ag.j().get("wnd.pc");return a.create("wnd.ui.MediaPopup",c,document.body,d,{},b)}
function YL(){var a=E.j(),b=a.create("wnd.ui.InfoPopup","wnd_ui_ConnectionErrorPopup",document.body,null,{},{title:"Connection error",text:"System encountered an error while trying to connect to the server. Please reload the page.",extendCssClass:"wnd-autologout",params:{Reload:{cssType:"submit"}}});eC(b,"onClose",m(a.c,a),b)}
function ZL(a,b){var c=a.create("wnd.ui.ChecksumPopup","wnd_core_ChecksumPopup",document.body,null,{destroyAfterClose:!0},{title:"Conflicting changes detected",text:"Saving these changes will overwrite any changes made in another window or device.",extendCssClass:"wnd-confirm-checksum",serverObject:b});eC(c,"onClose",m(a.c,a),c)}E.prototype.c=function(){location.reload()};
function JE(a,b){var c="wnd_ui_PremiumPopup_"+b.type;l(b.extendCssClass)||(b.extendCssClass=r.PremiumPopup[b.type].className);Qa.mc("open_premium_popup",{data:{type:b.type}});return a.create("wnd.ui.PremiumPopup",c,document.body,null,{},b)}function $L(){var a=E.j();JE(a,{type:"removeWebnodeAds",params:{upgradeUri:xo(vo.j(),"remove_branding",t.keenIo.refs.removeWebnodeAdsPopup)}})}
function aD(){var a=E.j();JE(a,{type:"premiumUpload",params:{upgradeUri:xo(vo.j(),"premium_upload","premiumUploadPopup")}})}function aM(){var a=E.j();JE(a,{type:"memberLogin",params:{upgradeUri:xo(vo.j(),"member_login","premiumMemberLoginPopup")}})}function bM(a,b,c,d,e){c={coordinates:m(R.getBounds,R,c),extendCssClass:"wnd-info-bubble"};e&&(c=ff(c,e));return a.create("wnd.ui.InfoBubble",b,document.body,d,{withOverlay:!1},c)}
function KE(a,b,c){IE(a,{title:"Upload error",text:b,extendCssClass:"wnd-error-info"},c)}function cM(a,b){var c=E.j().create("wnd.ui.PrivateAccessActivationPopup","wnd_private_access_activation",document.body,null,{},XL("wnd.ui.PrivateAccessActivationPopup",{withActivation:!0}));b&&eC(c,"onActivatePrivateAccess",b,c)}function vr(a,b){var c=[];z(a.g,function(a){a.Ra()&&(!b||a instanceof b)&&c.push(a)},a);1<c.length&&Hh(c,function(a,b){return a.getZIndex()-b.getZIndex()});return c}
function dM(){var a=E.j(),a=vr(a);return 0===a.length?!1:!1===uh(a,function(a){return a instanceof wr})}function vF(){var a=E.j();return vr(a,wr)}function eM(){for(var a=E.j(),a=vr(a),b=0;b<a.length;b++)a[b].hide()}function tF(){var a=E.j();a.h=0<vr(a).length}function rF(){return E.j().h};function Ph(){K.call(this);-1===this.Hk.indexOf("//")&&(this.Hk="//"+location.host+this.Hk);this.h={};this.c=[];this.g=[];this.hg={};this.A=this.eA.bind(this);this.og={}}n(Ph,K);da(Ph);f=Ph.prototype;f.Hk=ya.Server.xhrUri;f.og=null;f.kj=[];f.hg={};f.Yk=!1;f.wm=!1;function gr(a,b){a.h[b.getId()]=b}function fM(a,b){if("undefined"==typeof a.h[b])throw new Oa("Transaction `"+b+"` doesn' exist");return a.h[b]}function vL(a,b,c){u(b,function(a){Rh(this,a,c)},a)}
function Rh(a,b,c){if(b.getType()==ya.FileUploadServerRequest.type&&!b.h)throw new Oa("FileUploadRequest must contain file for upload");if(c){if(b.getType()==ya.FileUploadServerRequest.type)for(var d=c.Lc,e=0;e<d.length;e++)if(d[e].getType()==ya.FileUploadServerRequest.type)throw new Oa("Transaction can contain maximum one FileUploadRequest");}else c=new gi("default",1);a.h[c.getId()]||gr(a,c);ci(c,b);0<c.Lc.length&&c.Lc.length==c.c&&a.ci(c)}
function gM(a,b){var c=ya.Server.transactionsInProcess["default"];l(ya.Server.transactionsInProcess[b])&&(c=ya.Server.transactionsInProcess[b]);return a.c.length>=c}
f.ci=function(a){if(0==gM(this,a.getName())){hM(this,a.getId(),"process");var b=a.getId();this.og[b]=new dy;Vm(this.og[b],"progress complete success timeout error abort".split(" "),this.A);this.og[b].ph=a;this.og[b].send(this.Hk)}else iM(this)&&di(a)&&(ei(a),fi(a),vC(wC.j())),hM(this,a.getId(),"waiting");a.sp&&(a=jM.j(),aw(a.h),aw(a.g),$v(a.h),$v(a.g))};function iM(a){var b=!1;u(a.c.concat(a.g),function(a){di(fM(this,a))&&(b=!0)},a);return b}
function hM(a,b,c){var d=fM(a,b);bi(d,c);switch(c){case "process":xh(a.c,b);cg(a.g,b);1===a.c.length&&a.notify("onTransactionsInProcess");break;case "waiting":c=vh(a.g,function(a){return"savePageData"==fM(this,a).getName()},a);if("savePageData"==d.getName()&&c>ya.Server.maxWaitingTransactions)throw a.Yk=!0,YL(),new Oa("Connection error. Waiting transactions "+c);xh(a.g,b);cg(a.c,b);break;case "ready":case "delete":cg(a.c,b),cg(a.g,b),0===a.c.length&&a.notify("onTransactionsFinished"),"delete"==c&&
(delete a.h[b],null!=a.hg[b]&&delete a.hg[b])}}
f.eA=function(a){if(null!==a.data&&a.data.id){var b=a.data.id,c=this.h[b];if("process"!==c.getStatus())throw new Oa("Transaction `"+b+"` isn't in processed status. Current status is "+c.getStatus());kM(this,c,a);"progress"!=a.type&&(hM(this,b,"delete"),0<this.g.length&&(b=this.h[this.g[0]],"waiting"==b.getStatus()&&0==gM(this,b.getName())&&this.ci(b)),Kn(a.data.serverChangedDataTypes,function(a,b){Th(L.j(),b);Kn(a,function(a,c){u(a,function(a){var d;switch(c){case "create":d="dataCreate";break;case "update":d=
"dataUpdate";break;case "delete":d="dataDelete"}a=new yg(d,"children_propagation",b,null,null===a?void 0:a);Cg(ag.j(),a)})});"project_info"==b&&Rh(Ph.j(),new zg)}));"delete"===c.getStatus()&&bi(c,"complete")}"error"==a.type&&(0===a.target.sa.status?lM(this,a):mM(this,a))};function mM(a,b){a.Yk=!0;YL();throw new Oa("Connection error. Status: "+b.target.sa.status+", Transaction name: "+b.target.ph.name);}
function lM(a,b){var c=b.target.ph.id;null!=a.h[c]&&(null!=a.hg[c]?a.hg[c]++:a.hg[c]=1,a.hg[c]<ya.Server.maxReSendTransactionsCount?(hM(a,c,"ready"),setTimeout(m(a.ci,a,a.h[c]),ya.Server.reSendTransactionTimeout)):mM(a,b))}
function kM(a,b,c){Kn(c.data.requests,function(a){var e=c.type,g;g=a.id;for(var h,k=0;k<b.Lc.length;k++)if(b.Lc[k].getId()==g){h=b.Lc[k];break}if(!h)throw new Oa("Request `"+g+"` doesn't exist in transaction `"+b.getId()+"`");g=h;if("progress"==c.type){if(a=g.g)for(e=0;e<a.length;e++)a[e](c.type,c.data.event,g)}else{if(h=g.A){if("success"==c.type&&0==a.result){e="error";a:{if(null!=a.data&&null!=a.data.errorCode){k=!0;switch(a.data.errorCode){case 1001:var p=E.j(),w=p.create("wnd.ui.InfoPopup","wnd_ui_AutologoutPopup",
document.body,null,{},{title:"Automatic logout",text:"You have been automatically logged out due to inactivity. Click OK to proceed to the login page.",extendCssClass:"wnd-autologout",params:{Login:{}}});eC(w,"onConfirm",m(p.c,p),w);eC(w,"onClose",m(p.c,p),w);break;case 1002:case 1003:this.kj.push(b);t.isDev?ZL(E.j(),this):this.wm=!0;k=!1;break;case 1004:k=E.j();p=L.j().get("project_info").getData();p=k.create("wnd.ui.InfoPopup","wnd_core_LongPageContentPopup",document.body,null,{destroyAfterClose:!0},
{type:"longPageContent",params:{uri:p.supportEmail,link:p.supportEmail,Reload:{cssType:"submit"}},extendCssClass:"wnd-long-page-content",serverObject:this});eC(p,"onConfirm",m(k.c,k),p);eC(p,"onClose",m(k.c,k),p);k=!0;break;case 2001:k=E.j();JE(k,{type:"premiumFormItemsLimit",params:{upgradeUri:xo(vo.j(),"form_no_limit","premiumFormItemsLimitPopup")}});k=!1;break;case 2002:k=E.j();JE(k,{type:"premiumFormUploadField",params:{upgradeUri:xo(vo.j(),"form_enabled_upload","premiumFormUploadFiledPopup")}});
k=!1;break;default:b.getName(),k=!1}bi(b,"complete");if(k){k=!1;break a}}k=!0}if(!k)return}for(k=0;k<h.length;k++)h[k](e,!1===a.result?a.error:a.data,g,a);this.wm&&xC(this)}l(a.datachecksum)&&(nM(this,a.datachecksum),a=rg(qg(new og("tab__"+t.windowId))),wg(sg.j(),a))}},a)}function Oh(a,b){b.c--;!0===(0<b.Lc.length&&b.Lc.length==b.c)&&a.ci(b)}function nM(a,b){z(b,function(a,b){yf[b]=a},a)}function xC(a){u(a.kj,m(a.Hx,a),a);a.kj=[];a.wm=!1}
f.Hx=function(a){ei(a);fi(a);a.id=a.name+"_"+Math.random().toString(36).substring(7);vC(wC.j());bi(a,"ready");gr(this,a);this.ci(a)};function wC(){A.call(this);this.h=[];this.c=[];this.g=0;this.M=this.o=this.m=!1;this.L=[];this.A=[];this.v=[];this.F=[]}n(wC,A);da(wC);function oM(a,b,c){pM()&&!1===a.m&&qM(a,b)&&qM(a,c)&&(0!=a.g&&vC(a,a.g),b instanceof Af?lf(b,m(a.Dp,a)):b instanceof nf&&lf(b,m(a.Gp,a)),a.h.push(b),c instanceof Af?lf(c,m(a.Dp,a)):c instanceof nf&&lf(c,m(a.Gp,a)),a.c.push(c),rM())}function sM(){var a=wC.j();pM()&&a.Si()&&(a.m=!0,tM(a,a.h[a.h.length-1-a.g]),a.g++,a.M=!0)}
function uM(){var a=wC.j();pM()&&a.Ri()&&(a.m=!0,tM(a,a.c[a.c.length-a.g]),a.g--)}f=wC.prototype;f.Ri=function(){var a=Ph.j();return l(this.c[this.c.length-this.g])&&!1===this.m&&!1===0<a.c.length};f.Si=function(){var a=Ph.j();return l(this.h[this.h.length-1-this.g])&&!1===this.m&&!1===0<a.c.length};function vC(a,b){b?(a.h=a.h.slice(0,a.h.length-b),a.c=a.c.slice(0,a.c.length-b)):(a.h=[],a.c=[]);a.g=0;rM()}function cJ(){return wC.j().m}function tM(a,b){b instanceof Af&&vM(a,b);Rh(Ph.j(),b)}
function qM(a,b){var c=b.getData();if(Xe(c))return!1;var d=!0;b instanceof Af&&z(c,function(a){!1===l(a.patch)&&(d=!1)},a);return d}function pM(){return"1"==t.useJsonPatch}function vM(a,b){z(b.getData(),function(a,d){xf(b,a.source,d)},a)}
f.Gp=function(a,b,c){if("success"===a&&this.m){var d=c.getData();if("update"===d.action){a=L.j().get(d.dataType);a.jg();var e=this;a.Ea(function(a,b){if("success"===a&&l(b[d.id])){var c=new yg("dataUpdate","children_propagation",d.dataType,null,d.id);c.A=d.data;Cg(ag.j(),c);e.m=!1;rM()}})}}};f.Dp=function(a,b,c){var d=[1002,1003];("success"===a||F(d,b.code))&&this.m&&(this.o=!1,wM(this,c),this.F=zh(this.v,this.L),a=xM(),yM(this,a),zM(this,a),D(this.F)&&AM(this))};
function AM(a){var b=xM();BM(a,b);CM(a);b.Pe(!0);I.j().get(q.ImageSizeManager.mvcID).ha();a.m=!1;a.F=[];rM()}function xM(){return I.j().get(x.PageZoneModel.ZoneId)}function BM(a,b){if(b instanceof EK){var c=eg(b.f.m());u(c,function(a){Mg(I.j(),a)&&(a=I.j().get(a),a instanceof EK&&(F(this.A,a.getId())||F(this.v,a.getId()))&&a.Sc("data_updated",!0),BM(this,a))},a)}else F(a.A,b.getId())&&b.Sc("data_updated",!0)}
function wM(a,b){var c=Bg.j().get("content_items"),d=Uh(c),e=af(d.getData());try{var g=b.getData();z(g,function(a){l(a.patch)&&Ja(e,a.patch)},a)}catch(h){if(t.isDev)throw new Oa(h.getMsg());ZL(E.j(),Ph.j())}Ag(c,e);d.fi();z(g,function(a){l(a.patch)&&DM(this,a.patch)},a)}
function DM(a,b){a.L=[];a.A=[];a.v=[];u(b,function(a){var b=a.path.split("/");if("content"===b[2])!1===F(this.A,b[1])&&Ch(this.A,0,0,b[1]);else switch(a.op){case "remove":2===b.length?xh(this.L,b[1]):xh(this.A,b[1]);break;case "replace":xh(this.A,b[1]);break;case "add":2===b.length?xh(this.v,b[1]):xh(this.A,b[1])}},a)}
function yM(a,b){if(b instanceof EK){var c=eg(b.f.m());u(c,function(a){var e=!1,g=!1;Mg(I.j(),a)?(a=I.j().get(a),a.Z.getId()!=b.getId()&&(g=e=!0),F(this.F,a.getId())&&(cg(this.F,a.getId()),xh(this.A,a.getId()))):(a=L.j().get("content_items").getData(a),e={id:a.id},a=I.j().create(a.id,a.type,b.Sa(),b,e),a.observe("onCreateBlock",this.Ep,this),e=new yg("dataCreate","parent_propagation",a.J(),a,a.getId()),Cg(ag.j(),e),e=!0);if(e){var e=a,h,k,p;k=nh(c,e.getId());k+1==c.length?(p=k-1,k="bottom"):(p=k+
1,k="top");e.Z.getId()!=b.getId()&&(e.Z=b,Ai(e,b));Mg(I.j(),c[p])&&(h=I.j().get(c[p]),h=h.B());EM(e,b.Sa(),h,k);g&&FM(e);!1===this.o&&(a.mg(),this.o=!0)}yM(this,a)},a)}}function zM(a,b){z(b.F,function(a){if(F(this.L,a.getId())||!1===a instanceof GM&&F(this.L,b.getId()))F(this.L,a.getId())&&!1===this.o&&(a.mg(),this.o=!0),a instanceof GM?(a.observe("onRemoveBlock",this.Ep,this),a.Kc()):a.dispose();a instanceof EK&&zM(this,a)},a)}
function CM(a){var b=D(a.v)&&D(a.L);(b||!1===a.o)&&u(a.A,function(a){Mg(I.j(),a)&&(a=I.j().get(a),!1===this.o&&(a.mg(),this.o=!0),b&&FM(a))},a)}function FM(a){a.B()&&(new xw(a.B(),xa.UndoRedoManager.fade.start,xa.UndoRedoManager.fade.end,xa.UndoRedoManager.fade.time)).play()}f.Ep=function(a,b){F(this.F,b)&&(cg(this.F,b),D(this.F)&&AM(this))};function rM(){var a=new H("undoRedoChange");Ci(ag.j(),a)};function jM(){A.call(this);this.m=new Rq(this);this.c=null;this.A=new Tn(t.authUrl+"?login_refresh=1");this.g=new Zv(ya.LoginRefresh.usotRefreshTime);this.m.H(this.g,"tick",m(this.o,this));this.h=new Zv(ya.LoginRefresh.authRefreshTime);this.m.H(this.h,"tick",m(this.F,this))}n(jM,A);da(jM);jM.prototype.o=function(){var a=new sf,b=new gi("loginRefresh",1);b.sp=!1;Rh(Ph.j(),a,b)};
jM.prototype.F=function(){null===this.c&&(this.c=ip("iframe",{width:"1",height:"1",style:"display:none;"}),document.body.appendChild(this.c));go(this.A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^va()).toString(36));this.c.src=this.A.toString()};function HM(a,b,c){RB.call(this,a,b,c);this.v=null}n(HM,Gz);f=HM.prototype;f.fa=function(){L.j().get("server_projects").Ea(m(this.mo,this),null,this)};
f.mo=function(a,b){switch(b["server_projects.private_access_type"]){case "MEMBER_LOGIN":IM(this);break;default:null!=this.g&&this.g.Vg()&&this.g.hide(),this.o=this.K(this.C()+"private_access","wnd.ui.CheckboxFormItem",null,{create:{data:{value:0}},properties:{id:dC(this.ib()),label:JM(this),name:"",defaultValue:0,initRenderFlag:!0,extendCssClass:"wnd-switch wnd-page-private",isAccessible:!1}}),this.o.observe("onCheckAccess",this.Vu,this)}};
function KM(a){return P(a.f,"dataType")+".private_access"}f.Y=function(a){HM.l.Y.call(this,a);"server_projects"!=a.J()&&"project_info"!=a.J()||L.j().get("server_projects").Ea(m(this.mo,this),null,this)};
function JM(a){var b="";if(!Ka(t.visibleRelease,"member_login")){switch(P(a.f,"dataType")){case "gui_pages":b="Password protect this page";break;case "listing_items":b="Password protect this blog post"}return b}switch(P(a.f,"dataType")){case "gui_pages":b="Restrict access to this page";break;case "listing_items":b="Restrict access to this blog post"}return b}
f.Vu=function(a,b){if(Ka(t.visibleRelease,"member_login")){if(!vo.j().hasFeature("member_login"))return aM(),!1;cM(E.j(),m(this.nu,this));Qa.mc("ml_show_activation_popup",{data:{source:LM(this)}});var c=new H("inspectletInfo4",this);this.ba(c)}else c=b.view,c.G&&tp(Tr(Us,{text:"Coming soon...",sd:"wnd-coming-soon"}),c.G)};
f.nu=function(){IM(this,!0);Qa.mc("ml_activation",{data:{source:LM(this)}});var a=new H("inspectletInfo5",this);this.ba(a);a=new yg("dataUpdate","parent_propagation","server_projects",this.ib());this.ba(a)};
function IM(a,b){null!=a.o&&a.o.Vg()&&a.o.hide();var c=KM(a),d;d=P(a.f,"data");d=null!=d[KM(a)]?d[KM(a)]:null;a.g=a.K(a.C()+"member_login","wnd.ui.CheckboxFormItem",null,{create:{data:{value:d}},properties:{id:dC(a.ib()),label:JM(a),name:c,checked:d,defaultValue:d,initRenderFlag:!0,extendCssClass:"wnd-switch wnd-page-member-login",isAccessible:m(a.cu,a)}});a.v=a.g.getValue();a.g.observe("onCheckAccess",a.Wu,a);a.g.observe("onChange",a.Qu,a);b&&(a.g.Rd(!0),a.ib().ra(),Qa.mc("gui_pages"==P(a.f,"dataType")?
"ml_lock_page":"ml_lock_blog_post"));a.g.getValue()&&KF(a.view,a.g.B(),!0)}f.Wu=function(a,b,c){c||aM()};f.cu=function(){var a=vo.j().hasFeature("member_login");return 1==this.v||a};function LM(a){return"gui_pages"==P(a.f,"dataType")?"page":"blog_post"}f.Qu=function(){this.v=this.g.getValue();var a=1==this.g.getValue();Qa.mc(a?"ml_lock_page":"ml_unlock_page",{data:{source:LM(this)}});KF(this.view,this.g.B(),a)};
f.Fr=function(a,b){O(this.f,"data",b);null!=this.o&&this.o.oi();if(null!=this.g){this.g.oi();this.v=this.g.getValue();var c=1==this.g.getValue();KF(this.view,this.g.B(),c)}};I.j().register("wnd.ui.PrivateAccessFieldset",Mj,JF,HM);function MM(a,b){Ha.call(this,a,b)}n(MM,Ha);function NM(a){switch(a.getId()){case 2003:return"backgroundVideo"}return""};function OM(){A.call(this);this.c=new vo}n(OM,A);function PM(a,b,c){z(xa.PremiumContentChecker[c],function(a,c){if(QM(this,a.path.split("/"),a.value,b)&&a.packageLevel>parseInt(this.c.c.level,10))throw new MM(c,a.exceptionCode);},a)}function QM(a,b,c,d){var e=b.shift();if("*"===e)for(var g in d)return ja(d[g])?ha(c)?F(c,d[g]):c===d[g]:QM(a,b,c,d[g]);else if(l(d[e]))return D(b)?ha(c)?F(c,d[e]):c===d[e]:QM(a,b,c,d[e]);return!1};function RM(){this.A=!1;this.c=this.h=this.g=null}n(RM,K);da(RM);f=RM.prototype;f.vw=function(a,b){try{if("success"==a&&b.code)throw new MM(b.message,b.code);SM(this)}catch(c){c instanceof MM&&setTimeout(m(this.Vx,this,c),r.Publisher.delayPremiumContentPopup)}};function SM(a){null===a.h||Rh(Ph.j(),a.h)}
f.Vx=function(a){var b=null;switch(NM(a)){case "backgroundVideo":b="video_background"}var b=xo(vo.j(),b,t.keenIo.refs["publisher"+kh(NM(a))]),c=E.j(),d="";switch(a.getId()){case 2003:d="Your website contains Premium content"}var e="";switch(a.getId()){case 2003:e="You are attempting to publish a website with a video in the background. This video will be replaced with a static image. In order to have videos play in the background of your website, you must purchase a Mini, Standard or Profi Premium Plan."}this.c=
JE(c,{type:"premiumContent",params:{upgradeUri:b,controls:{right:["Publish"]}},title:d,text:e});eC(this.c,"onUpgrade",m(this.bx,this),this.c);eC(this.c,"onPublish",m(this.Aw,this),this.c);eC(this.c,"onClose",m(this.gv,this),this.c)};f.bx=function(){this.h=null;this.c.hide(null,!0);this.g.hide(null,!0)};f.Aw=function(){this.A=!0;this.c.hide(null,!0);SM(this)};f.gv=function(){this.A||(this.h=null,this.g.hide(null,!0))};
f.Bw=function(a,b){this.A=!1;this.h=null;this.g.hide(null,!0);vC(wC.j());if("success"==b){var c=L.j().get("project_info").getData(),d=window.location.href.replace("cms.",""),e=window.location.hostname.replace("cms.","");null!=c.masterDomain&&(d=c.masterDomainUrl+window.location.pathname,e=c.masterDomain);/_ga=/.test(d)&&(d=d.substring(0,d.indexOf("_ga=")-1));c={uri:d,link:e+window.location.pathname};!1===Mh.project_info.hasUserDomain&&(c.Upgrade={text:"Buy a domain",uri:t.urlDomainRegister+"?ref="+
t.keenIo.refs.publishedPagePopup,target:"_blank"});IE(E.j(),{type:"publishedPage",params:c,extendCssClass:"wnd-info-publish"},a)}else IE(E.j(),{title:"Website is being published...",text:"Cannot publish the website.",extendCssClass:"wnd-info-publish"},a)};function TM(a,b,c){zi.call(this,a);this.g=a instanceof UM;this.m=a instanceof VM;this.c=this.g?a:null;null===this.c&&l(c)&&(this.c=c);this.L=this.m?a:null;this.o=b;this.la=this.m?"layout#":"";this.U=this.T=this.ha=this.G=this.S=this.I=this.P=this.M=null;this.v={};this.xa=[];this.D=[];this.ea=null}n(TM,zi);
function WM(a,b){var c=XM(a);a.M=b.K(b.C()+"_background","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,items:null,selected:a.o.Md(),moreItems:["Add image","Effects"],extendCssClass:"wnd-section-default-switcher",collectionSettings:c}});a.M.observe("selectItem",a.Vp,a);a.M.observe("showMoreItems",a.o.Vw,a.o);var d=null;a.g?d=m(a.c.Mc,a.c,YM(),!1):a.m&&(d=m(a.c.Mc,a.c,ZM(),!1));null!=d&&a.M.observe("onNextAction",d,a);a.o.observe("onInsert",a.Vp,a);a.o.observe("onFinish",a.Gv,a);a.o.observe("onDataChanged",
a.nv,a);FG(a.o,c);null!=a.c&&$M(a.c,a.M,a.la+"general",a.getParent().ua())}function aN(a,b){a.P=b.K(b.C()+"_color","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,items:bN(a),selected:cN(a),extendCssClass:"wnd-section-default-switcher"}});a.P.observe("selectItem",a.Nw,a);null!=a.c&&$M(a.c,a.P,a.la+"schemes",a.getParent().ua())}
function dN(a,b){var c=eN(a);null!==c&&(a.I=b.K(b.C()+"_effects_fx","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Filters",items:c,selected:fN(a),pagination:!0}}),a.I.observe("selectItem",a.Ow,a),null!=a.c&&$M(a.c,a.I,"effects",gN(a)),(c=a.o.g)&&TC(c)&&c.J()&&Uq(Tq.j(),TC(c),c.J(),m(function(){hN(this)},a),null,q.FilesystemPreviewSize.small))}
function iN(a,b){var c=jN(a);null!==c&&(a.S=b.K(b.C()+"_effects_overlay","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Color Overlay",items:c,selected:kN(a),pagination:!0}}),a.S.observe("selectItem",a.Rw,a),null!=a.c&&$M(a.c,a.S,"overlays",gN(a)))}
function lN(a,b){var c=mN(a);null!==c&&(a.G=b.K(b.C()+"_effects_position","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Position",items:c,selected:nN(a),extendCssClass:"wnd-switcher-bgrposition"}}),a.G.observe("selectItem",a.Sw,a),null!=a.c&&$M(a.c,a.G,"position",gN(a)))}
function oN(a,b){var c=pN(a);D(c)||(a.ha=b.K(b.C()+"_effects_bgr_attachment","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Animation",items:c,selected:qN(a),extendCssClass:"wnd-switcher-bgrattachment"}}),a.ha.observe("selectItem",a.Lw,a),null!=a.c&&null===a.G&&$M(a.c,a.ha,"position",gN(a)))}
function rN(a,b){a.T=b.K(b.C()+"_image_transform","wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,items:sN(a),extendCssClass:"wnd-img-transform"}});a.T.observe("selectItem",a.o.Pw,a.o);null!=a.c&&$M(a.c,a.T,"transform",gN(a))}
function tN(a,b){a.R=b.K(b.C()+"_video_settings","wnd.pc.VideoSettingsForm",null,{id:b.C(),dataType:b.J(),properties:{updateBeforeShow:!0,autoSave:!0,initRenderFlag:!0,extendCssClass:"wnd-switcher wnd-switcher-video-settings"}});a.R.observe("onChangeSettings",a.o.Uu,a.o);null!=a.c&&$M(a.c,a.R,"video_settings",gN(a))}function gN(a){return a.g?YM():a.m?ZM():""}
function XM(a){var b=L.j().get("project_info").getData(),c=null,d=bN(a);a.g?c=cv(RG(a.c.h)).backgroundVideo:a.m&&(c=lv(a.L.g.yk()).backgroundVideo);a={};b={key:"category",value:[Ea.StaticServerCategory.templates,b.uikit_name,b.template_name,b.template_branch_id,Ea.StaticServerCategory.background],optional:[b.uikit_name,b.template_name,b.template_branch_id]};a.publicImages={filterMN:[b],orderMN:{key:"category",value:Ea.StaticServerCategory.background,order:"DESC"}};a.patterns={filterMN:[b],orderMN:{key:"category",
value:Ea.StaticServerCategory.background,order:"DESC"}};null!=c&&(a.videos={filterMN:[b],orderMN:{key:"category",value:Ea.StaticServerCategory.background,order:"DESC"}},c=fr,a[c]=r.MediaListVideos[c].collectionSettings);a.solidColorSchemes={colors:d};a.solidColors={filter:[{key:"identifier",operator:"IN",value:rv()}]};return a}f=TM.prototype;f.Vp=function(a,b,c){c.ii===kE?Uq(Tq.j(),TC(c),c.J(),m(this.Ax,this,a,b,c),null,q.FilesystemPreviewSize.small):this.vq.apply(this,arguments)};
f.Ax=function(a,b,c){er(new br(b,TC(c),c.J()),m(this.Oy,this,a,b,c))};f.Oy=function(a,b,c,d){a=null;this.g?a=this.c.h:this.m&&(a=this.L.g);a&&(d=PG(a,d),this.vq(0,b,c,d))};
f.vq=function(a,b,c,d){switch(c.ja){case "solidColorSchemes":if(this.g)uN(this.c.h,c.getId());else if(this.m){var e=this.L.g;d=c.getId();e.view.lh(vN(e));wN(e,d,!0)}break;case "solidColors":if(this.g){e=this.c.h;d=nv(c.Kf,"section",RG(this.c.h));a=xN(e.f,yN);var g=zN(e,a,"wnd-background-solid");g.style.backgroundSettings["default"][a]={id:c.getId(),color:c.Ee,brightness:c.Kf,mediaType:c.ja||null};AN(g,a,d);BN(e,g);Zk(g,e.ca(),{});Xi(e.f,g,!0);e.fm();CN(e);this.P&&qE(this.P.view)}else this.m&&(e=this.L.g,
e.view.lh(vN(e)),DN(e.view,c.Ee),d=nv(c.Kf),wN(e,d,!1),e=e.f,d=EN("wnd-background-solid"),d.backgroundSettings[FN()]={id:c.getId(),color:c.Ee,brightness:c.Kf,mediaType:c.ja||null},GN(d),Ag(Bg.j().get("template_styles"),d),HN(e));break;default:a="wnd-background-image";if("patterns"===c.ja)a="wnd-background-pattern";else if("videos"===c.ja||c.ja===fr)a="wnd-background-video";c.tb&&c.tb.getParent()?EG(this.o,DG(c.tb.getParent())):EG(this.o,c);if(this.g){e=this.c.h;d=nv(d,"section",RG(this.c.h));var h=
a,g=xN(e.f,yN);a=IN(e,c,!1,h);!1===(null!=a.style.background)&&(a.style.background={});!1===(null!=a.style.background["default"])&&(a.style.background["default"]={});a.style.background["default"][g]=h||"";var k=c.si;null==k&&("wnd-background-pattern"===h?BN(e,a):(h=a,AN(h,g,d),JN(e,h,"effects",g),JN(e,h,"overlays",g),JN(e,h,"position",g),JN(e,h,"attachment",g)));h=c.tb;null!=h?a.style.backgroundSettings["default"][g].cropDefinition=UG(h):(h=TG(c),null===h!==!0&&null!=a.style.backgroundSettings&&(a.style.backgroundSettings["default"][g].poster=
h));null!=k&&null!=a.style.backgroundSettings&&(a.style.backgroundSettings["default"][g].videoDefinition={sound:k.c,start:k.h});g=c;k=c.tb;null!=k&&(k=k.getParent(),null!=k&&"filesystem_files"==k.J()&&(g=k));k={"=dataType":g.J()};"my_videos"===g.J()?k["=videoId"]=g.getId():k["=imageId"]=g.getId();Zk(a,e.ca(),k);g=e.f.Sf();Xi(e.f,a,!0);d&&g!==d&&e.fm();this.P&&qE(this.P.view)}else if(this.m){d=this.L.g;KN(d,c,a);if(g=nv())d.view.Ch(g,LN()),MN(d.f,""+g,!1,!1);g=NN("effects");null!=g&&ON(d,"effects",
g,!0);g=NN("overlays");null!=g&&ON(d,"overlays",g,!0);g=NN("position");null!=g&&ON(d,"position",g,!0);g=NN("attachment");null!=g&&ON(d,"attachment",g,!0);"wnd-background-pattern"===a&&(g=(new XD).Ha("none"),ON(d,"effects",g,!0),ON(d,"overlays",g,!0));g=d.f;a=PN(c,!1,a);k=c.tb;null!=k?(e=k.getParent(),a.backgroundSettings[FN()].cropDefinition=UG(k)):(k=TG(c),null===k!==!0&&(a.backgroundSettings[FN()].poster=k));e&&"filesystem_files"==e.J()?GN(a,"filesystem_files",e.getId()):"filesystem_files"==c.J()?
GN(a,"filesystem_files",c.getId()):GN(a);Ag(Bg.j().get("template_styles"),a);HN(g);QN(d)}}RN(this,SG(c.ja));SN(this);if(Ka(t.visibleRelease,"contextHelp")&&UC(c))b=this.c.ua(),this.c.ea===b?requestAnimationFrame(m(this.$p,this,c)):(eC(this.c,"onAnimateResizeEnd",m(this.$p,this,c),this),this.c.Mc(this.c.ua()));else if(Ka(t.visibleRelease,"premium_content"))try{var p,w;this.g?(p=Uh(Bg.j().get("content_items")).getData(this.c.h.C()),w="content_items"):this.m&&(p=L.j().get("template_styles").getData(),
w="styles");l(p)&&l(w)&&PM(new OM,p,w)}catch(v){if(v instanceof MM){c=this.M;p=E.j();w="wnd_premium_bubble_"+v.getId();b=c.view.ad(b);e="";switch(v.getId()){case 2003:e="Background videos are only available with a Mini, Standard or Profi Premium Plan. The selected video will not play on the published website."}c.o=bM(p,w,b,null,{hideAllBeforeShow:!1,hideOnClick:!0,showOnceTime:!0,text:e,extendCssClass:"wnd-info-premium"});Qa.mc("open_premium_popup",{data:{type:v.getMsg()}});c.o.Ya()&&(b=new gi("UpdatePremiumContent",
1),gr(Ph.j(),b),p=Bg.j().get("server_projects"),c=m(c.ax,c),p.c("",{"server_projects.premium_content":1},null,c,b))}}};f.Y=function(a){TM.l.Y.call(this,a);if("filesystem_files"==a.J()&&"dataDelete"==a.getType()&&"children_propagation"==a.h&&this.o&&this.o.g&&this.ea&&this.ea.Ra()){var b=this.o.g;"filesystem_files"==b.J()&&b.getId()==a.g&&this.ea.hide(null,!0)}};
f.$p=function(a){var b=this.M.ad(a.getId());null==b&&a.tb&&a.tb.getParent()&&(b=this.M.ad(a.tb.getParent().getId()));null!=b&&(this.ea=bM(E.j(),"wnd_premium_bubble_image_low_resolution",b,null,{hideAllBeforeShow:!1,hideOnClick:!0,showOnceTime:!1,text:"The resolution of the selected image is too low to use as a section background.",extendCssClass:"wnd-info-premium"}))};f.Gv=function(){this.g?this.c.hide(null,!0):this.m&&Yz(this.L).hide(null,!0)};
f.nv=function(a,b,c){this.M.Qd(b,c);null!=this.c&&$M(this.c,this.M,this.la+"general",this.c.ua());wF(this.c)};function bN(a){if(a.g){var b=kv(a.c.h),c=[];z(b,function(a,b){pv(b,"section",RG(this.c.h))||("none"===a.backgroundType?c.push(QC(PC(JC(YD(KC((new XD).Ha(b),a.color),mE),"solidColorSchemes"),"wnd-bgr-fx wnd-overlay-none"),a.backgroundType)):c.push(QC(JC(YD(KC((new XD).Ha(b),a.color),jE),"solidColorSchemes"),a.backgroundType)))},a);return c}return a.m?TN(a.L.g):[]}
function cN(a){return a.g?a.c.h.getStyle("colorScheme"):a.m?LN():null}f.Nw=function(a,b){if(this.g)uN(this.c.h,b);else if(this.m){var c=this.L.g;c.view.lh(vN(c));wN(c,b,!0)}null!=this.M&&qE(this.M.view);RN(this,[]);SN(this)};function eN(a){return NG(a.o,"effects","effect",a.g?RG(a.c.h):null)}f.Ow=function(a,b,c){c.ii===kE?Uq(Tq.j(),TC(c),c.J(),m(this.wq,this,a,b,c),null,q.FilesystemPreviewSize.small):this.wq.apply(this,arguments)};
f.wq=function(a,b,c){this.U=c;a=IG(this.o);Hl(this.I.view.fb,"loading",!0);if(F(Ve(dr),b))if(this.v[a.getId()])b=this.U.getId(),c=this.v[a.getId()][b],null!=c?Uq(Tq.j(),TC(c),c.J(),m(this.Wk,this,c),null,q.FilesystemPreviewSize.small):"filesystem_files"===a.J()&&Uq(Tq.j(),TC(a),a.J(),m(this.jo,this,b));else a:{b=m(this.cw,this);c=IG(this.o);a=c.getId();c=c.J();var d={filter:[]};switch(c){case "filesystem_files":d={filter:[{key:"filesystem_files.parent_file_id",operator:"=",value:a}]};break;case "static_server":d.id=
a;break;default:break a}L.j().get(c,d).Ea(b)}else this.g?UN(this.c.h,a):this.m&&VN(this.L.g,a),WN(this),hN(this),XN(this)};
f.cw=function(a,b,c,d){if(l(b)&&l(d)&&l(d.order)){var e=IG(this.o),g=e.getId(),h=e.J(),k=this.U.getId();c=a=null;d=0;YN(this,g);if("filesystem_files"===h)ZN(this,g,b),this.v[g][k]||(a=e,c=m(this.jo,this,k));else if("static_server"===h&&($N(this,e,b),!this.v[g][k]))throw new Oa("Image effect #"+k+" doesn't exist for hash #"+g);this.v[g][k]&&(a=this.v[g][k],c=m(this.Wk,this,a),d=q.FilesystemPreviewSize.small);null!=a&&(b=a.bb?a.bb:a.ya(),Uq(Tq.j(),b,a.J(),c,null,d))}};
function YN(a,b){a.v[b]||(a.v[b]={});var c=eN(a);z(c,function(a){a=a.getId();F(Ve(dr),a)&&!l(this.v[b][a])&&(this.v[b][a]=null)},a)}function ZN(a,b,c){var d=null;z(c,function(a){d=a["filesystem_files.effect"];F(Ve(dr),d)&&(this.v[b][d]=RC(OC(MC((new IC).Ha(a["filesystem_files.id"]).Ab("filesystem_files"),a["filesystem_files.src"]),a["filesystem_types.mime_type"]),a["filesystem_files.name"]).setWidth(a["filesystem_files.width"]).setHeight(a["filesystem_files.height"]))},a)}
function $N(a,b,c){var d=b.getId(),e=b.ja;z(c,function(a){z(a.effects,function(b,c){F(Ve(dr),c)&&(this.v[d][c]=JC(RC(OC(MC((new IC).Ha(b.hash).Ab("static_server"),b.path),a.mime),a.name).setWidth(a.width).setHeight(a.height),e),"videos"===e&&NC(this.v[d][c],b.poster))},this)},a)}f.jo=function(a){xh(this.xa,a);var b=IG(this.o),c=b.getId(),d=jn(b.ya()),d=a+"_"+c+"."+d,e=ir(new br(c,b.ya(),b.J()),a,b.Rc),g=new VC;g.v=c;g.M=a;g.o=!1;gD(g,e,b.Rc,d);g.observe("onComplete",m(this.gx,this,a),this);XC(g)};
f.gx=function(a,b,c){b=IG(this.o);this.v[b.getId()]||(this.v[b.getId()]={});this.v[b.getId()][a]=c;cg(this.xa,a);D(this.xa)&&Uq(Tq.j(),TC(c),c.J(),m(this.Wk,this,c),null,q.FilesystemPreviewSize.small)};
f.Wk=function(a){var b=po(a.ya(),a.J()),c=null;this.g?c=this.c.h.ud():this.m&&(c=this.L.g.ud());var d=(new XD).Sd(c),c=d.ja;c||(d.ke?c=d.ke.getParent().ja:d.tb&&(c=d.tb.getParent().ja));d=this.U.ke;b=LC(MC(OC(JC((new XD).Ha(a.getId()).Ab(a.J()),c).setHeight(a.getHeight()).setWidth(a.Ma()),a.Rc),a.ya()),b);b.c=this.U;b=$D(b,d);a.bb&&NC(b,a.bb);this.g?UN(this.c.h,b):this.m&&VN(this.L.g,b);WN(this);hN(this);XN(this)};function fN(a){return a.g?a.c.h.Fc("effects"):a.m?a.L.g.Fc("effects"):""}
function jN(a){return NG(a.o,"overlays","overlay",a.g?RG(a.c.h):null)}function kN(a){return a.g?a.c.h.Fc("overlays"):a.m?a.L.g.Fc("overlays"):""}f.Rw=function(a,b,c){this.g?(a=this.c.h,Xi(a.f,{style:aO(a,c,"overlays")}),bO(a)):this.m&&(a=this.L.g,ON(a,"overlays",c,void 0),QN(a));WN(this);hN(this);XN(this)};function mN(a){return NG(a.o,"position","position",a.g?RG(a.c.h):null,!0)}function nN(a){return a.g?a.c.h.Fc("position"):a.m?a.L.g.Fc("position"):""}
f.Sw=function(a,b,c){this.g?(a=this.c.h,a.f.Ve=!0,Xi(a.f,{style:aO(a,c,"position")})):this.m&&ON(this.L.g,"position",c,void 0);WN(this)};function pN(a){return a.g?cO(a.c.h):a.m?dO(a.L.g):[]}function qN(a){return a.g?a.c.h.Fc("attachment"):a.m?a.L.g.Fc("attachment"):""}f.Lw=function(a,b,c){this.g?(a=this.c.h,a.f.Ve=!0,Xi(a.f,{style:aO(a,c,"attachment")})):this.m&&ON(this.L.g,"attachment",c,void 0);WN(this)};
function sN(a){return a.g?[ZD(YD(PC((new XD).Ha("crop-image"),"wnd-image-transforms"),oE),OG())]:a.m?[ZD(YD(PC((new XD).Ha("crop-image"),"wnd-image-transforms"),oE),OG())]:[]}function hN(a,b){var c=eN(a);null===c||null===a.I||a.I.Qd(c,fN(a),b)}function XN(a,b){var c=jN(a);if(null!==c&&null!==a.S){var d=kN(a)||"none";a.S.Qd(c,d,b)}}
function RN(a,b){var c;!(c=!F(b,"transform"))&&(c=null!==a.o)&&(c=a.o,c=null===c.g?!1:(c.g.ja==Tj||"publicImages"==c.g.ja)&&c.g.Ma()>r.CropImagePopup.image.minSize&&c.g.getHeight()>r.CropImagePopup.image.minSize);c||cg(b,"transform");a.D=b}
function SN(a){if(null!=a.M){var b=a.M.view;null!=b.wc&&R.aa(b.wc,!D(a.D))}null!=a.I&&(F(a.D,"effects")?(a.I.show(),hN(a,!0)):a.I.hide());null!=a.S&&(F(a.D,"overlays")?(a.S.show(),XN(a,!0)):a.S.hide());null!=a.G&&(F(a.D,"position")?(a.G.show(),a.G.Qd(mN(a),nN(a),!0)):a.G.hide());null!=a.ha&&(F(a.D,"attachment")?(a.ha.show(),a.ha.Qd(pN(a),qN(a),!0)):a.ha.hide());null!=a.T&&(F(a.D,"transform")?a.T.show():a.T.hide());null!=a.R&&(F(a.D,"video_settings")?a.R.show():a.R.hide())}
function WN(a){a.g?eO(a.c.h):a.m&&fO(a.L.g)};function gO(a,b,c){mK.call(this,a,b,c);this.o=[pi(mi(ki(new ji,UE),m(this.D,this)),!0)]}n(gO,mK);gO.prototype.D=function(){$L();this.v()};I.j().register("wnd.pc.FeFooter",xk,lK,gO);function hO(a,b,c){sz.call(this,a,b,c)}n(hO,sz);var LH=!1;f=hO.prototype;f.Pa=function(){if(!1===l(this.m)){var a={};null!=P(this.f,"toolbox")&&(a=P(this.f,"toolbox"));this.m=E.j().create("wnd.ui.Toolbox",this.C()+"_toolbox",this.ab(),this,{withOverlay:!1},a);this.m.observe("removeConfirm",m(this.Xq,this,!0),this);this.m.observe("removeCancelled",m(this.Xq,this,!1),this);this.m.observe("overToolbox",m(this.nw,this),this);this.m.observe("outToolbox",m(this.mw,this),this)}return this.m};
f.ka=function(a){hO.l.ka.call(this,a)};f.nw=function(){GK(this);kr.j().pause("addContent",!0);kr.j().pause("sectionToolbox",!0)};f.mw=function(){tr(kr.j())};function GK(a,b){var c=vH.j().c;1==(c&&c.Ga()&&(c.C()!==a.C()||c.Da()!==a.Da()))&&vH.j().h(b)}f.Wa=function(a,b){!0===LH||this.f.selected||null!=Pz||(a&&(this.g=a),b||GK(this),0==this.Ga()&&this.Nk())};f.Nk=function(){this.f.active=!0;vH.j().c=this;this.resize()};
f.pb=function(a,b,c){null!=a&&a!==this.g||this.f.selected&&!c||(!this.g&&a&&(this.g=a),1==this.Ga()&&this.ll(b))};f.ll=function(){this.f.active=!1;this.m&&this.m.hide();this.m&&this.m.hide()};f.resize=function(){};f.eb=function(a){this.f.selected=a};f.Da=function(){return this.g};f.Ga=function(){return this.f.active};function iO(a,b){var c=new S(a.clientX,a.clientY);return c.x>b.left&&c.x<b.left+b.width&&c.y>b.top&&c.y<b.top+b.height}
f.Xq=function(a){var b=kr.j();a?(this.Da().$i(),b.pause()):tr(b);this.view.xi(a)};
function jO(a,b,c){if(!(a.g.Z instanceof TJ))if(b){bg(a.Pa(),a.g.Ja(),c,sK(a.g),a.g.Jq,a.g.Nd());c=qK(a.g);b=a.Pa();c=c.width;var d=r.Toolbox.expandedArea.offset,e=r.Toolbox.expandedArea.minWidth,g=r.Toolbox.expandedArea.maxWidth,h=R.pa(b.B());c=c-h.width-2*d;c<e?c=e:g<c&&(c=g);b=b.view;null!=b.v&&(b.v.style.width="calc(100% + "+c+"px)",b.v.style.left=-(c/2)+"px");a.Da()instanceof kO&&(a=a.Pa(),b=x["wnd.pc.FromBlock"].toolbox.expandedArea.height,a.U=b,TF(a.view,b))}else a.m&&a.m.hide()};function rH(a,b,c){sz.call(this,a,b,c)}n(rH,hO);f=rH.prototype;f.O=function(){rH.l.O.call(this);if(!1===Wp)for(var a in Ra)this.c.H(this.view.g[Ra[a]],gq,m(this.pb,this,null)),this.c.H(this.view.g[Ra[a]],hq,m(this.Fy,this)),this.c.H(this.view.g[Ra[a]],T,m(this.Yr,this))};f.Fy=function(){this.g&&this.g.Vq()};f.Nk=function(){rH.l.Nk.call(this);var a=this.view,b=this.g,c,d,e;for(e in Ra)c=Ra[e],d=a.g[c],Hl(d,"movable",b.se()),c=a.getZIndex(b,c),d.style.zIndex=c,d.style.opacity=1,R.aa(d,!0);this.view.Lm(this.g.Nd())};
f.pb=function(a,b,c){rH.l.pb.call(this,a,b,c);0==this.Ga()&&b&&tK(this.view,!0)};f.ll=function(a){var b=!0;a&&(b=0==iO(a,lO(this)))&&(b=R.Zb(document),b=0==iO(a,(new pm(this.f.$e.left-b.x,this.f.$e.top-b.y,this.f.$e.width,this.f.$e.height)).round()));b&&(rF()||mO(this)||tr(kr.j()),rH.l.ll.call(this),tK(this.view))};function mO(a){var b=!1;z(dH(),function(a){a instanceof nO&&null!=a.g&&a.g.Ra()&&(b=!0)},a);return b}f.Yr=function(a){this.g&&null==Pz&&this.g.Th()&&(this.g.Wa(a),a.stopPropagation())};
f.resize=function(){if(1==this.Ga()){var a=0;this.Da().se()&&(a=x.Hover.width);var b,c=this.view;c.m||(c.m=R.Og(Dx()));b=c.m;c=qK(this.g);a/c.height*100>x.Hover.maxSize&&(a=c.height*x.Hover.maxSize/100);var d=R.cc(this.g.B()),e=d.bottom>a?d.bottom:a,g=d.top>a?d.bottom:a,h=d.right>a?d.right:a,k=c.height,p=c.width;b=c.top-b.top;var w=c.left,v=new S(w+p-h,b),h=new Ce(h,k),C=new S(w,b),G=new S(w,b+k-e),J=new Ce(p,g),e=new Ce(p,e);uK(this.view,"left",new S(w,b),new Ce(d.left>a?d.left:a,k));uK(this.view,
"top",C,J);uK(this.view,"right",v,h);uK(this.view,"bottom",G,e);this.f.yf=new pm(c.left,c.top,c.width,k);this.f.$e=new pm(w,c.top,p,g);this.Pa().f.qd=new pm(C.x,C.y,p,k);this.f.selected&&gG(this.Pa())}};f.eb=function(a,b){if(this.g){var c=!1;this.Da()instanceof yL&&(c=!0);jO(this,a,c);this.view.eb(a);rH.l.eb.call(this,a,b)}else new Oa("Hover #"+this.C()+" without reference to contentBlock. Selected: "+a)};
function lO(a){var b=R.Zb(document);return(new pm(a.f.yf.left-b.x,a.f.yf.top-b.y,a.f.yf.width,a.f.yf.height)).round()}I.j().register("wnd.pc.BaseHover",zk,rK,rH);function oO(a,b,c){sz.call(this,a,b,c)}n(oO,hO);oO.prototype.resize=function(){if(1==this.Ga()){var a=R.getBounds(this.Da().B()),b=this.Da().cc();a.left+=b.left;a.top+=b.top;a.width-=b.left+b.right;a.height-=b.top+b.bottom;this.Pa().f.qd=a}};oO.prototype.pb=function(a,b,c){var d=this.Da();d&&kG(d)||oO.l.pb.call(this,a,b,c)};
oO.prototype.eb=function(a,b){if(this.g){if(a&&(this.f.active=!0,!1===this.g.Z instanceof TJ)){var c=R.getBounds(this.Da().B()),d=this.Da().cc();c.left+=d.left;c.top+=d.top;c.width-=d.left+d.right;c.height-=d.top+d.bottom;this.Pa().f.qd=c}jO(this,a,!1);oO.l.eb.call(this,a,b)}else new Oa("Hover #"+this.C()+" without reference to contentBlock. Selected: "+a)};I.j().register("wnd.pc.ButtonHover",yk,pK,oO);function pO(a,b,c){sz.call(this,a,b,c);this.V=new Nz;this.V.T=!1;this.o={va:null,step:0}}n(pO,rH);f=pO.prototype;f.ka=function(a){pO.l.ka.call(this,a);Rz(this.V,Dx());this.V.Ka(this.view.g.resize.left);this.V.Ka(this.view.g.resize.right);this.V.Ka(this.view.g.resize.bottom);this.V.observe("onDragstart",this.Sy,this);this.V.observe("onDragend",this.Ry,this);this.V.observe("onMouseMove",this.Ty,this);this.V.init()};
f.O=function(){pO.l.O.call(this);z(this.view.g.resize,function(a){this.c.H(a,"mouseover",m(this.Vy,this));this.c.H(a,gq,m(this.Uy,this))},this)};f.Vy=function(){GK(this);kr.j().pause("addContent",!0)};f.Uy=function(){tr(kr.j())};f.Sy=function(a,b){this.v=jy(b.Bb,"wnd_resize_type");"bottom"==this.v?vJ("VerticalResize").show():"left"!=this.v&&"right"!=this.v||vJ("HorizontalResize").show();this.eb(!0);this.Da().di(!0)};
f.Ry=function(){"bottom"==this.v?vJ("VerticalResize").hide():"left"!=this.v&&"right"!=this.v||vJ("HorizontalResize").hide();kG(this.Da())||(this.eb(!1),this.pb());this.o={va:null,step:0};this.Da().di(!1);this.Da().ra(!0)};
f.Ty=function(){if("bottom"==this.v){var a=this.V.Yc(),b=Math.floor(a.lb.difference/x.ContentResizeStripe.minDifference);null===this.o.va||this.o.va===a.lb.va&&this.o.step===b?(this.o.va=a.lb.va,this.o.step=b,null===this.o.va&&this.Da().Ac()):(this.o.va=a.lb.va,this.o.step=b,this.Da().Wn(a.lb.va,b))}else if("left"==this.v||"right"==this.v){var a=this.V.Yc(),c=this.Da(),d=c.Z,b=null,e=!1;!uJ(d)||c instanceof zL&&AL(c)||("left"==this.v?(b=d.jb?d.jb:d,e=!d.jb):(b=d.Ib?d:d.jb,e=!d.Ib));c=Math.floor(a.Qa.difference/
x.ContentResizeStripe.minDifference);null===this.o.va||this.o.va===a.Qa.va&&this.o.step===c?(this.o.va=a.Qa.va,this.o.step=c,null===this.o.va&&(b?b.zg=wJ(b):this.Da().Ac())):(this.o.va=a.Qa.va,this.o.step=c,b?(e&&(c*=-1),xJ(b,a.Qa.va,c)):this.Da().Xn(a.Qa.va,c,this.v))}this.resize()};f.eb=function(a,b){if(this.g){var c=b||[];qO(this.g)&&c.push("edit");pO.l.eb.call(this,a,c);this.g.Xg()&&xK(this.view,a)}else new Oa("Hover #"+this.C()+" without reference to contentBlock. Selected: "+a)};
I.j().register("wnd.pc.EditHover",Ak,vK,pO);function GM(a,b,c){c&&(this.Z=c,xL(this)&&qO(xL(this))&&(a.options.gc=!0,a.options.Ed=!0),this.Z instanceof GM&&(this.gb=jv(this.Z),this.Ia=rO(this.Z),this.Ca=sO(this.Z)));sz.call(this,a,b,c);this.view.Wg()||this.Yd();this.L=!0;this.v=this.bk=null;this.xa=!0;this.view.observe("onCreateBlock",m(this.notify,this,"onCreateBlock",this.getId()),this);tO(this,"zIndex");tO(this,"isFixed")}var uO;n(GM,lB);f=GM.prototype;f.jb=null;f.Ib=null;f.Wj=!1;f.gj=null;f.Jq="normal";
function qH(a){var b;a:{b=vH.j();var c=a.Ld();a=a.C();for(var d,e=1;e<=x.HoverManager.instNum;e++){d=c+(e?"_"+e:"");if(!b.g[d]){var g,h=x.HoverManager.type[c].properties;null!=h&&(g={properties:h});b.g[d]=I.j().create(d,x.HoverManager.type[c]["class"],Dx(),ag.j().get("wnd.pc"),g)}d=b.g[d];if(!d.f.selected||!d.Da()||d.Da().C()===a){b=d;break a}}b=null}return b}f.Ld=function(){return"PageBaseHover"};
f.Ja=function(){var a=[];this.sc()&&this.xa&&a.push(pi(mi(ki(new ji,"remove-confirm"),m(this.Kc,this)),!0));return a};f.oe=function(){return[]};function nm(a){return"block"==a.kc()}function BL(a){return"zone"==a.kc()}function uJ(a){return"column"==a.kc()}function vO(a){return"column_wrapper"==a.kc()}function KH(a){return"section"==a.kc()}f.sc=function(){return this.f.options.gc};f.Xg=function(){return this.f.options.mh};function qO(a){return a.f.options.editable}f.Th=function(){return this.f.options.Ec};
f.Jc=function(){return this.f.options.Pc};f.se=function(){return this.f.options.Ed};f.Vl=function(){return!this.jb&&!this.Ib};f.At=function(){return this.Z};f.move=function(a,b,c){var d=a.C()==this.Z.C(),e=a.getId();d&&(e=null);b&&c&&b.Z==a?(this.view.move(a.Sa(),b.B(),c),this.f.move(e,b.getId(),c)):(this.view.move(a.Sa()),this.f.move(e));b=new H("contentMove",this);this.ba(b);b=I.j().get(this.Z.C());this.Z=a;Ai(this,a);d?wO(this.Z):(wO(a,"in"),wO(b,"out"));qv("wnd-redraw",this.B())};
f.X=function(){this.Yb();var a=this.Z;this.$a&&(this.$a=!1===cJ());GM.l.X.call(this);var b=new H("contentRemove",this);this.ba(b);a.Sc("data_deleted");qv("wnd-redraw",a.B());!1===(null===this.v)&&this.v.dispose();this.Wc()};
f.O=function(){GM.l.O.call(this);var a=this.B();a&&(this.Jc()&&(this.c.H(a,gq,m(this.Hy,this)),this.c.H(a,"mouseover",m(this.ze,this)),this.c.H(a,hq,m(this.Vq,this))),this.Th()&&(this.c.H(a,T,m(this.ae,this)),this.c.H(a,eq,m(this.Dc,this))),this.v=new Er(document.body),this.c.H(this.v,"key",m(this.zk,this)),this.c.H(a,"wnd-redraw-done",m(this.Xw,this)))};
f.zk=function(a){if(!0===kG(this))switch(a.keyCode){case 46:case 8:if(this.sc()&&"INPUT"!==a.target.nodeName&&!1===this instanceof QG&&!1===this instanceof xO&&!1===this instanceof yO){if(this instanceof TJ||this instanceof kO)for(var b=rJ(this,!0),c=0,d=b.length;c<d;c++){var e=b[c];if(e instanceof yO&&kG(e))return}b=null;this.Jc()&&qH(this)&&(b=qH(this).m.le("remove-confirm"));!0===(null!=b)&&(b.click(),a.stopPropagation(),a.preventDefault())}break;case 27:rF()||this.Yb()}};
f.Vq=function(a){null!=a&&(this.bk=new S(a.clientX,a.clientY));this.ze(a)};f.ze=function(){null!=Pz||null!==cH||this.Jc()&&qH(this)&&qH(this).Wa(this)};f.Hy=function(a){null!=Pz||this.Jc()&&qH(this)&&qH(this).pb(this,a)};f.Dc=function(a){this.Wj=kG(this);uO=this;zO(this,this,a);kG(this)||this.Wa(a);return!0};f.ae=function(a){this.Th()&&(a.stopPropagation(),a.preventDefault());var b=this;uO&&(b=uO);uO=null;zO(this,b,a);this.Wj=!1;return!0};
function zO(a,b,c){z(dH(),function(a){kG(a)&&AO(b,a,c)},a)}function AO(a,b,c){var d=b.wl();if(!D(d))for(var e=0,g=d.length;e<g;e++)AO(a,d[e],c);b.C()!==a.C()&&D(b.wl())&&(b.Wj?c.stopPropagation():b.sb(c),b.Wj=!1)}f.wl=function(){return[]};f.Pd=function(){requestAnimationFrame(m(this.Wc,this),null)};f.Wc=function(){this.Jc()&&qH(this)&&qH(this).resize();var a=this.Z;a&&a instanceof GM?a.Wc():(a=vH.j(),a.c&&a.c.resize())};
f.$d=function(){if(this.Jc()){oH();var a=qH(this);a&&(a.Wa(this),a.eb(!0))}eM();Ig.j().c[this.C()]=this;a=this.Z;a.Th()&&a.$d()};f.sb=function(){delete Ig.j().c[this.C()];var a=qH(this);this.Jc()&&a&&(a.eb(!1),a.pb());this.hp()};f.hp=function(){null!==this.gj&&(this.gj.hide(null,!0),this.gj=null)};function kG(a){var b=dH(),c=!1,d;for(d in b)b[d].C()===a.C()&&(c=!0);return c}f.Yb=function(){var a=dH(),b=qH(this);if(pH(Ig.j()))b&&(this.Jc()?b.pb(this):GK(b,this.C()));else for(var c in a)a[c].sb()};
f.Kc=function(){qH(this)&&qH(this).pb(this,null,!0);Qz=!0;var a=new Aw(this.B(),x.ContentItem.fxDurationRemove);Vm(a,"end",m(this.dispose,this));a.play()};f.dispose=function(){GM.l.dispose.call(this);this.notify("onRemoveBlock",this.getId());Qz=!1};f.resize=function(){};f.Xc=function(){};f.Wa=function(a){if(!1===LH){var b=dH(),c;for(c in b){var d=b[c];d.C()===this.C()||SK(this)||d.sb(a)}this.$d(a)}};
function xL(a,b){for(var c=a.Z,d=null;c instanceof GM;){if(!0===BL(c)&&(!b||c.ca()==b)){d=c;break}c=c.Z}return d}function SK(a){a=a.Z;for(var b=null;a instanceof GM;){if(!0===("microtemplate_cell"==a.kc())){b=a;break}a=a.Z}return b}function BO(a){a=a.Z;for(var b=null;a instanceof GM;){if(a instanceof QG){b=a;break}a=a.Z}return b}function EM(a,b,c,d){c&&d?"left"==d||"top"==d?qp(a.B(),c):rp(a.B(),c):(a=a.B(),b.appendChild(a))}f.mg=function(){this.view.wi()};f.getContext=function(){return this.f.getContext()};
f.Xw=function(){this.Wc();var a=new H("contentChange",this);this.ba(a)};f.Ua=function(a){GM.l.Ua.call(this,a);this.Jc()&&qH(this)&&qH(this).resize()};f.Y=function(a){GM.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()==this.J()&&a.g==this.getId()&&this.f.update("data_updated",!1,a.A)};f.na=function(a){GM.l.na.call(this,a);if("resizeWindow"===a.getType()){var b=qH(this);this.Jc()&&b&&b.Ga()&&b.Da().C()==this.C()&&b.resize()}"columnResize"===a.getType()&&qv("wnd-redraw",this.B())};
f.getComputedStyle=function(a){return this.f.getComputedStyle(a)};f.Nd=function(){return this.f.Nd()};function sK(a){var b=a.f.getComputedStyle("zIndex");b||BL(a)||(b=sK(xL(a)));return b}
function tO(a,b){var c=a.f.getComputedStyle(b);if(null===c){var d,e=a.Z,g=e instanceof GM;g?(c=e.getComputedStyle(b),d=e.B()):d=Dx();var h=a.view,k=c;switch(b){case "isFixed":if(null===c||!1===c){c=null;h=h.B();x.WorkareaElementId==d.id&&(c=!1);if(h)for(;h&&d!=h;)if("fixed"===R.yl(h)){c=!0;break}else h=zp(h);k=c}break;case "zIndex":if(null===c){c=null;h=h.B();x.WorkareaElementId==d.id&&(c=0);if(h)for(;h&&d!=h;)k=R.Eo(h),h=zp(h),"auto"!=k&&(c=parseInt(k,10));k=c}}c=k;null===c&&g&&(c=tO(e,b));a.f.de[b]=
c}return c}f.Fm=function(){return!1};f.Yd=function(){};f.ka=function(a){GM.l.ka.call(this,a);!1===cJ()&&this.Yd()};f.yk=function(){return this.f.Uc()};function jv(a){return KH(a)?a:a.gb}function rO(a){return"microtemplate_cell"==a.kc()?a:a.Ia}function sO(a){return"form_field"==a.kc()?a:a.Ca}f.Oo=function(){return this.bk};f.$i=function(){};function CO(a,b,c){this.Z=c;if(xL(this,"wnd.pc.BlogZone")||xL(this,"wnd.pc.BlogRecentPosts"))a.options.Pc=!1,a.options.editable=!1,a.options.Ec=!1;GM.call(this,a,b,c);this.ea=!1}n(CO,GM);f=CO.prototype;f.kc=function(){return"block"};f.Ld=function(){var a="PageBaseHover";0==this.L&&(a="ButtonHover");return a};f.di=function(a){this.ea=a};f.cc=function(){return this.view.cc()};f.ze=function(){0!=this.L&&CO.l.ze.call(this)};f.Dc=function(a){var b=CO.l.Dc.call(this,a);kG(this)&&a.stopPropagation();return b};
f.sc=function(){var a=this.f.options.gc;0==this.L&&(a=!1);return a};f.se=function(){var a=this.f.options.Ed;0==this.L&&(a=!1);return a};function DO(a){var b=null;try{b=iv(a,a.Tf())}catch(d){}if(null===b)return[];var c=[];z(b,function(a,b){c.push(JC(YD(KC(ZD((new XD).Ha(b),EO(b)),a),vE),"solidColorSchemes"))},a);return c}
function EO(a){var b="";switch(a){case "claim-default":case "logo-default":b="Basic text";break;case "claim-default-inv":case "logo-default-inv":b="Basic text inverted";break;case "claim-bg":case "logo-bg":b="White background";break;case "claim-bg-inv":case "logo-bg-inv":b="Black background";break;case "claim-color":case "logo-color":b="Colored background";break;case "claim-color-inv":case "logo-color-inv":b="Colored text with background";break;case "claim-color-text":case "logo-color-text":b="Colored text";
break;case "claim-color-alpha":case "logo-color-alpha":b="Transparent color background";break;case "claim-gray":case "logo-gray":b="Transparent gray background";break;case "claim-borders":case "logo-borders":b="With borders";break;case "button-01":b="Style 1";break;case "button-02":b="Style 2";break;case "button-03":b="Style 3";break;case "file-01":b="Style 1";break;case "file-02":b="Style 2";break;case "file-03":b="Style 3";break;default:b=a}return b}
function FO(a){var b="";a=a.f.getData();l(a.style)&&l(a.style.cssClasses)&&l(a.style.cssClasses.color)&&(b=a.style.cssClasses.color);return b}f.uu=function(){var a=DO(this);if(!D(a)){var b=!1,c=FO(this);u(a,function(a){a.getId()===c&&(b=!0)},this);!1===b&&GO(this,a[0].getId())}};function HO(a,b){a.style={cssClasses:{color:b}};return a}f.Yj=function(a,b){GO(this,b)};function GO(a,b){Xi(a.f,HO({},b))}
f.mf=function(){CO.l.mf.call(this);if(this.f.options.Fd){var a=iv(this,this.Tf());null===a||GO(this,Se(a))}};f.na=function(a){CO.l.na.call(this,a);this.f.options.Fd&&"colorSchemeChange"==a.getType()&&setTimeout(m(this.uu,this),100)};f.Ja=function(){var a=[];if(this.f.options.Fd){var b=DO(this);D(b)||a.push(vi(si(mi(ni(ki(new ji,cG),"Style"),m(this.Yj,this)),b).eb(FO(this)),x.ContentBlock.dropdownHeight.changeStyle))}return zh(a,CO.l.Ja.call(this))};function IO(a,b,c){CO.call(this,a,b,c)}n(IO,CO);I.j().register("wnd.pc.HrLineBlock",Cq,nI,IO);function JO(a,b,c){CO.call(this,a,b,c);this.g=!1}n(JO,CO);f=JO.prototype;f.Ld=function(){return"PageBaseHover"};f.O=function(){JO.l.O.call(this);var a=this.B();this.c.H(a,"wnd-open-menu",m(this.Yp,this,!0));this.c.H(a,"wnd-close-menu",m(this.Yp,this,!1));this.c.H(a,"mouseover",m(this.pz,this));this.c.H(a,gq,m(this.oz,this));this.c.H(a,T,m(this.nz,this))};f.Yp=function(a){this.g=a;a||(tr(kr.j()),Zf.j().h=!0)};f.pz=function(){this.g&&(kr.j().pause("addContent",!0),kr.j().pause("sectionToolbox"),Zf.j().pause())};
f.oz=function(){this.g||(tr(kr.j()),Zf.j().h=!0)};f.nz=function(){this.ba(new H("saveContentItems",this))};f.Y=function(a){JO.l.Y.call(this,a);"gui_pages"==a.J()&&Eq(this.f,function(){this.f.update("data_updated")},this)};I.j().register("wnd.pc.MenuBlock",Dq,oI,JO);function KO(a,b,c){CO.call(this,a,b,c);this.g=this.o=0;this.D={length:0,text:""};"wnd.pc.PageZone"==this.Z.ca()&&this.f.Om(!1);c instanceof LO&&a.Mm(c.zj())}n(KO,CO);KO.prototype.Y=function(a){var b=a.c;if("wnd.pc.PageZone"==this.Z.ca()&&null!=b&&"wnd.pc.TextBlock"===b.ca())uz(this,m(this.I,this,a));else{KO.l.Y.call(this,a);for(var b=this.Z,c=null;b instanceof GM;){if(b instanceof CL){c=b;break}b=b.Z}(b=c)&&"dataUpdate"==a.getType()&&a.J()==b.J()&&a.g==b.getId()&&this.f.update("data_updated")}};
KO.prototype.na=function(a){var b=a.c;"wnd.pc.PageZone"==this.Z.ca()&&null!=b&&"wnd.pc.TextBlock"===b.ca()?uz(this,m(this.I,this,a)):KO.l.na.call(this,a)};KO.prototype.I=function(a){MO(this,a.c)};
function MO(a,b){var c=jv(b).getParent(),d="";a.D={length:0,text:""};Om(rJ(c,!0),function(a){if("wnd.pc.TextBlock"===a.ca()){var b=a.Vf();D(b)&&a.Pg().firstElementChild&&(b=[a.Pg().firstElementChild]);if(!D(b)&&(b=b.filter(m(this.S,this)),Om(b,function(a){var b;""==a.innerHTML.replace(/&nbsp;/gi," ").trim()?b="":(b=a.innerHTML.trim(),b=b.replace(RegExp("<(?!/?(var|b|i|strong|em|a|code|br|sub|sup|small|big|s|strike|tt|font)( .*?>|>)).*?>","g"),""),a=mp(a.tagName),a.innerHTML=b,this.g=this.o=0,b=NO(this,
a).innerHTML.replace(/&nbsp;/gi," ").replace(/\s+/g," ").trim(),a.innerHTML=b,b=a.outerHTML,this.g<x.PerexBlock.minChars&&(this.D.length<this.g&&(this.D={length:this.g,text:b}),b=""));if(d=b)throw Lm;},this),d))throw Lm;}},a);!d&&a.D.text&&(d=a.D.text);N(a.f,"text")!==d&&Wi(a.f,"text",d)}KO.prototype.S=function(a){return 0<="p h1 h2 h3 h4 h5 h6 blockquote".split(" ").indexOf(a.tagName.toLowerCase())};function OO(){return x.PerexBlock.wordsLimit}function PO(){return x.PerexBlock.charsLimit}
function NO(a,b){var c=b.cloneNode(!1),d=null,e="",g=0,h=0;if(a.o<OO()&&a.g<PO())for(var k=0,p=b.childNodes.length;k<p;k++)if(d=b.childNodes[k],e=a,g=d.textContent.replace(/(\r\n|\r|\n)/g," ").replace(/\s+/g," "),0==e.g&&(g=g.replace(/^[\s\xa0]+/,"")),e=g,g=e.length,h=e.trim().split(" ").length,a.g+g<PO()&&a.o+h<OO())a.g+=g,a.o+=h,c.appendChild(d.cloneNode(!0));else{if(3==d.nodeType){k=a;p="";p=e.split(" ");for(g=Math.min(p.length,OO()-k.o);e&&k.g+e.length>PO();)F(p,"")&&g--,p=Dh(p,0,g),e=p.join(" "),
g--;0<k.g+e.length?d=e+"...":(d=d.textContent,e=PO()-k.g,d.length>e&&(d=d.substring(0,e-3)+"..."));p=d;c.appendChild(document.createTextNode(String(p)))}else c.appendChild(NO(a,d));a.g=c.textContent.length;break}return c}I.j().register("wnd.pc.PerexBlock",Hq,pI,KO);function QO(a,b,c){CO.call(this,a,b,c)}n(QO,CO);f=QO.prototype;f.Ac=function(){var a=R.Og(this.view.B()).round();this.f.sh=a;a=R.pa(this.view.B()).round();this.f.wa=a;a=R.ff(Dx()).round();this.f.Fn=a};f.Wn=function(a,b){var c;c=this.f.Lg()?this.f.Lg().height:this.f.wa.height;if(0!==b)switch(a){case "top":c=c-b;break;case "down":c+=b}c=parseFloat(c.toFixed(2));this.jm(c);return!0};f.jm=function(a){this.f.Ah(null,a)&&(a=this.f.T,this.view.Sa().style.paddingBottom=a+"%")};
f.Xn=function(a,b,c){var d=this.f.wa.width;0!==b&&(c==a?d+=2*b:d=d-2*b);d=parseFloat(d.toFixed(2));this.f.Lf(d);sI(this.view,this.f.L);return!0};f.move=function(a,b,c){QO.l.move.call(this,a,b,c);this.Xg()&&!1===cJ()&&this.resize(!0)};function RO(a,b,c){CO.call(this,a,b,c)}n(RO,QO);RO.prototype.ze=function(){RO.l.ze.call(this);if(!1===(null!=Pz)){var a=this.view;!0!==a.G&&(!0===(null===a.m)?(R.setStyle(a.c,"position","relative"),a.m=ip("div",{"class":"wnd-embed-overlay"}),a.c.appendChild(a.m)):(R.aa(a.m,!0),a.G=!0))}};RO.prototype.Xc=function(){uI(this.view)};I.j().register("wnd.pc.EmbedBlock",Lq,tI,RO);function SO(a,b,c){CO.call(this,a,b,c);this.g=!0}n(SO,RO);f=SO.prototype;f.Ja=function(){var a=[];qO(this)&&a.push(pi(mi(ki(new ji,"edit"),m(this.Xc,this)),!0));return zh(a,SO.l.Ja.call(this))};f.ka=function(a){SO.l.ka.call(this,a);this.g&&1==P(this.f,"createdFromMenu")&&(this.g=!1,a=E.j().create("wnd.pc.HtmlPopup",this.C()+"_popup_html",document.body,this,{},{blockId:this.C()}),eC(a,"onClose",this.dz,this),requestAnimationFrame(m(this.wu,this,a),null))};f.wu=function(){this.$d()};f.dz=function(){this.dispose()};
f.Xc=function(a){SO.l.Xc.call(this,a);a.stopPropagation();this.Yb();qO(this)&&E.j().create("wnd.pc.HtmlPopup",this.C()+"_popup_html",document.body,this,{},{blockId:this.C()})};I.j().register("wnd.pc.HtmlBlock",Mq,vI,SO);function TO(a,b,c){CO.call(this,a,b,c)}n(TO,RO);f=TO.prototype;f.Ld=function(){var a="PageEditHover";0==this.L&&(a="ButtonHover");return a};f.Ja=function(){var a=[];qO(this)&&a.push(ti(pi(li(ki(new ji,"edit-map"),this),!0),m(this.Is,this)));return zh(a,TO.l.Ja.call(this))};f.Is=function(a){return I.j().create(this.C()+"_edit_map","wnd.pc.EditMapForm",a.view.M,a,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0,width:x.EditMapForm.width}})};
f.ka=function(a){TO.l.ka.call(this,a);this.Ac();this.f.Ah(null,null,!0)&&this.ra()};f.Y=function(a){TO.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()==this.J()&&a.g==this.Z.C()&&uJ(this.Z)&&(a=N(this.f,"style"),(0<a.margin.left||0<a.margin.right)&&Xi(this.f,{style:{margin:{left:0,right:0}}}))};f.na=function(a){TO.l.na.call(this,a);"colorSchemeChange"==a.getType()&&this.view.fc()};f.Ac=function(){TO.l.Ac.call(this);uI(this.view);this.f.Jm(this.view.Kh())};
f.jm=function(a){this.f.Ah(null,a)&&(a=this.f.T,this.view.Sa().style.paddingBottom=a+"%")};f.Xg=function(){return this.sc()&&this.f.options.mh};f.resize=function(a){this.Ac();uJ(this.Z)?this.f.L={left:0,right:0}:Kq(this.f);sI(this.view,this.f.L);a&&this.ra()};f.Tf=function(){return"mapColors"};f.mf=function(){var a=this.f.options.Fd;this.f.options.Fd=!0;TO.l.mf.call(this);this.f.options.Fd=a};I.j().register("wnd.pc.MapBlock",Nq,BI,TO);function UO(a,b,c){CO.call(this,a,b,c)}n(UO,CO);UO.prototype.Y=function(a){UO.l.Y.call(this,a);"dataDelete"===a.getType()&&a.J()===r.FeLanguages.DataType&&t.page.langId!=a.g&&this.f.update("data_updated",!0)};I.j().register("wnd.pc.SelectFeLanguageBlock",Oq,CI,UO);function VO(a,b,c){CO.call(this,a,b,c)}n(VO,CO);I.j().register("wnd.pc.TableBlock",Pq,DI,VO);function WO(a,b,c){CO.call(this,a,b,c);"wnd.pc.PageZone"==this.Z.ca()&&this.f.Om(!1);c instanceof LO&&(b=a.isEmpty(),c.f.bd=b,a=null!=a.Kd(),c.f.xe=a);this.g=["wnd.pc.ImageBlock","wnd.pc.VideoBlock","wnd.pc.EditVideoForm","wnd.pc.PhotoImageBlock"]}n(WO,CO);f=WO.prototype;
f.Y=function(a){var b=a.c;"wnd.pc.PageZone"==this.Z.ca()&&null!=b&&(F(this.g,b.ca())||b instanceof QG||this.f.isEmpty()&&b instanceof yL)&&("wnd.pc.EditVideoForm"===b.ca()&&(b=I.j().get(a.g)),uz(this,m(this.nr,this,b)));WO.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()==this.J()&&a.g==this.getId()&&this.getParent()instanceof LO&&(a=this.getParent(),b=this.f.isEmpty(),a.f.bd=b,a=this.getParent(),b=null!=this.f.Kd(),a.f.xe=b,this.getParent().Sc("data_updated"))};
f.na=function(a){var b=a.c;"wnd.pc.PageZone"==this.Z.ca()&&null!=b&&(F(this.g,b.ca())||b instanceof QG||this.f.isEmpty()&&b instanceof yL)&&uz(this,m(this.nr,this,b));WO.l.na.call(this,a)};f.nr=function(a){XO(this,a)};
function XO(a,b){var c=null,d=null,e="",g=jv(b).getParent();Om(rJ(g,!0),function(a){switch(a.ca()){case "wnd.pc.ImageBlock":a=a.getImageData();c=qo(a.src)?null:{id:a.id,src:a.src,dataType:a.dataType,width:a.size.width||null,height:a.size.height||null,mediaType:YO(a.dataType),mime:""};e="wnd-background-image";break;case "wnd.pc.PhotoImageBlock":a=a.getImageData();c={id:a.id,src:a.src,dataType:a.dataType,width:a.width||null,height:a.height||null,mediaType:YO(a.dataType),mime:""};e="wnd-background-image";
break;case "wnd.pc.VideoBlock":a=a.getData(),c={id:"",src:a.url,dataType:"my_videos",mime:"",mediaType:fr,width:a.width,height:a.height,poster:{id:"",src:a.thumbnail_large,dataType:"my_videos",width:a.width,height:a.height}},e="wnd-background-video"}if(null!=c)throw Lm;},a);null===c&&(g=ZO(a,g))&&(c=g.ud(),e=g.Fc("default"),d=g.Fc("overlays"));$O(a,c,e,d)}
function ZO(a,b){var c=null,d=null,e=["publicImages","videos",Tj,fr];Om(rJ(b),function(a){c=a.ud();if(null!=c&&F(e,c.mediaType))throw d=a,Lm;},a);return d}function YO(a){var b=null;switch(a){case "filesystem_files":b=Tj;break;case "static_server":b="publicImages"}return b}
function $O(a,b,c,d){var e=bP,g=af(a.f.getData());g.style={};null!=g.style.background||(g.style.background={});null!=g.style.background["default"]||(g.style.background["default"]={});c&&(g.style.background["default"][e]=c);null!=g.style.background.overlays||(g.style.background.overlays={});d&&(g.style.background.overlays[e]=d);null!=g.style.backgroundSettings||(g.style.backgroundSettings={});if(!l(g.style.backgroundSettings["default"])||ha(g.style.backgroundSettings["default"]))g.style.backgroundSettings["default"]=
{};null!=b&&(g.style.backgroundSettings["default"][e]=b,"filesystem_files"===b.dataType?(null!=g.refs||(g.refs={}),g.refs.filesystem_files=[{"filesystem_files.id":b.id}]):null!=g.refs&&null!=g.refs.filesystem_files&&delete g.refs.filesystem_files);Xi(a.f,g,!0)}f.Ua=function(a){WO.l.Ua.call(this,a);a=QH(this.f);null!=a&&Zq(Tq.j(),a,m(this.Pv,this))};f.Pv=function(){this.Wc()};I.j().register("wnd.pc.ThumbnailBlock",PH,EI,WO);function cP(a,b,c){CO.call(this,a,b,c)}n(cP,RO);f=cP.prototype;f.Ld=function(){var a="PageEditHover";0==this.L&&(a="ButtonHover");return a};f.Ja=function(){var a=dP(this);return zh(a,cP.l.Ja.call(this))};f.oe=function(){var a=dP(this);return zh(a,cP.l.oe.call(this))};function dP(a){var b=[];qO(a)&&b.push(ti(li(ki(new ji,"edit-video"),a),m(a.Js,a)));return b}
f.Js=function(a){return I.j().create(this.C()+"_edit_video","wnd.pc.EditVideoForm",a.view.M,a,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0}})};f.ka=function(a){cP.l.ka.call(this,a);this.Ac();Kq(this.f);this.ra()};f.Ac=function(){cP.l.Ac.call(this);uI(this.view)};f.jm=function(a){this.f.Lf(null,a);sI(this.view,this.f.L)};f.resize=function(a){this.Ac();uJ(this.Z)?this.f.L={left:0,right:0}:Kq(this.f);sI(this.view,this.f.L);a&&this.ra()};f.getData=function(){return this.f.getData()};
I.j().register("wnd.pc.VideoBlock",Qq,FI,cP);function Ig(){A.call(this);this.c={};this.h=!1}n(Ig,A);da(Ig);
Ig.prototype.create=function(a,b,c,d,e,g){var h;h=a.split(".");h="wnd_"+h[h.length-1]+"_"+Math.floor(1E5*Math.random());var k={id:h,create:{parentId:b.getId(),data:{}}};e&&(k.create.data=e);k.create.data.context=b.getContext();c&&d&&("right"==d||"bottom"==d?k.create.after=c.getId():k.create.before=c.getId());e=!1;!0===(null!=g)&&!0===(null!=g.noScrollIntoViewport)&&(e=g.noScrollIntoViewport,delete g.noScrollIntoViewport);g&&(k.properties=g);a=this.Ka(h,a,b,k);c&&d&&(EM(a,b.Sa(),c.B(),d),!1===e&&a.mg());
b.Sc("data_created");return a};Ig.prototype.Ka=function(a,b,c,d){d||(d={id:a});return Mg(I.j(),a)?I.j().get(a):I.j().create(a,b,c.Sa(),c,d)};function VK(a,b){return I.j().get(b)}function dH(){return Ig.j().c}function pH(a){return!0===Xe(a.c)}function Hg(a,b,c){var d=Bg.j().get("content_items"),e=Uh(d),g=e.getData(),h=af(e.getData());cf(g,b);c&&u(c,function(a){delete g[a]},a);Ag(d,g);e instanceof Hi&&e.fi();!1===a.h&&(a=eP(g,h),h=eP(h,g),oM(wC.j(),h,a))}
function eP(a,b){var c={dataType:"gui_pages",dataKey:"gui_pages.content_items",dataSettings:{id:t.page.id}},d=new Df;Bf(d,a,b,c,"content_items");return d};function fP(a,b,c){$k.call(this,a,b,c)}n(fP,$k);fP.prototype.m=function(){var a=N(this,"content");return a?a:[]};fP.prototype.xf=function(){return this.vh};fP.prototype.vh=!1;function gP(a,b,c){$k.call(this,a,b,c)}n(gP,fP);gP.prototype.oa=function(){gP.l.oa.call(this);this.options.editable=!0};gP.prototype.v="";gP.prototype.Uc=function(){var a=Vi(this).getData(this.v);return l(a.variant)?a.variant:"default"};function hP(a,b,c){$k.call(this,a,b,c)}n(hP,fP);hP.prototype.oa=function(){hP.l.oa.call(this);this.options.Ec=!0};function iP(a,b,c){$k.call(this,a,b,c)}n(iP,hP);function jP(a,b,c){$k.call(this,a,b,c)}n(jP,fP);jP.prototype.oa=function(){jP.l.oa.call(this);this.options.editable=!0;this.options.Pc=!0;this.options.Ec=!0;this.options.gc=!0;this.options.Ed=!0};jP.prototype.m=function(){var a=N(this,"content");return a?a:[]};function kP(a,b,c){$k.call(this,a,b,c)}n(kP,hP);function lP(a,b,c){$k.call(this,a,b,c)}n(lP,fP);function mP(a,b){kI.call(this,a,b);this.R={};var c=this.f.getData();this.f.Hi=af(c);this.v=null}n(mP,kI);f=mP.prototype;f.sk=null;f.Ud=null;f.hd=function(a,b,c){var d=!1;if(cJ())d=!0;else{var e=this.f.Hi,g;if(g=l(e.content)){a:{g=e.content;var h=this.f.m();if(ia(g)&&ia(h)&&g.length==h.length){for(var k=g.length,p=0;p<k;p++)if(g[p]!==h[p]){g=!1;break a}g=!0}else g=!1}g=g||!D(e.content)&&D(this.f.m())||D(e.content)&&!D(this.f.m())}g&&(d=!0)}d&&mP.l.hd.call(this,a,b,c);a=this.f.getData();this.f.Hi=af(a)};
f.ug=function(){if(this.Sa()){this.sk=mp("div");var a=[];cJ()?u(this.f.m(),function(b){var c=Um(b);null===c&&Mg(I.j(),b)&&(c=I.j().get(b).B());null===c===!1&&a.push(c)},this):a=up(this.Sa());nP(this);op(this.sk,a)}mP.l.ug.call(this)};f.Oc=function(){mP.l.Oc.call(this);this.Ud=null;var a=this.Sa();this.sk&&a&&(op(a,up(this.sk)),this.B()&&R.setSize(this.B(),"",""))};f.N=function(){var a=mP.l.N.call(this);return ff(a,{"containerElement.attributes":{id:this.f.C()+"_container"},contentItems:this.f.m()})};
f.Sa=function(){this.Ud||(this.Ud=document.getElementById(this.f.C()+"_container"));return this.Ud};f.ef=function(){this.v||(this.v=ip("div"));return this.v};f.gn=function(){if(this.v){var a=x.PageZoneModel.topOffset,b=R.Kg(this.v),c=R.pa(this.v),d=ep(window),e=R.Zb(document);b.y<a?window.scrollTo(0,parseInt(e.y+b.y-a,10)):b.y+c.height>d.height&&window.scrollTo(0,parseInt(e.y+b.y+c.height+a-d.height,10))}};function nP(a){if(a.B()){var b=R.pa(a.B());R.setSize(a.B(),b)}};function oP(a,b){mP.call(this,a,b)}n(oP,mP);function pP(a,b){mP.call(this,a,b);this.la=null}n(pP,mP);function qP(a,b){pP.call(this,a,b)}n(qP,pP);function rP(a,b){mP.call(this,a,b)}n(rP,mP);function sP(a,b){pP.call(this,a,b)}n(sP,pP);function tP(a,b){mP.call(this,a,b)}n(tP,mP);tP.prototype.Ej=function(){return R.getBounds(Dx())};tP.prototype.Dl=function(){var a=Um(x.frontendElements["wnd.pc.FeFooter"]),b=new pm(0,0,0,0);a&&(b=R.getBounds(a));return b};function uP(a,b,c){$k.call(this,a,b,c)}n(uP,fP);uP.prototype.m=function(){var a=N(this,"content")[this.Uc()];return a?a:[]};function vP(a,b,c){$k.call(this,a,b,c)}n(vP,uP);vP.prototype.Xd=function(){return N(this,"required")};vP.prototype.oa=function(){vP.l.oa.call(this);this.options.Pc=!0;this.options.gc=!0;this.options.editable=!0;this.options.Ed=!0;this.options.Ec=!0};function wP(a,b,c){$k.call(this,a,b,c)}n(wP,uP);wP.prototype.oa=function(){wP.l.oa.call(this);this.options.Pc=!1;this.options.Ed=!0;this.options.Ec=!0};function xP(a,b,c){$k.call(this,a,b,c)}n(xP,vP);function yP(a,b,c){$k.call(this,a,b,c)}n(yP,xP);function zP(a,b,c){$k.call(this,a,b,c)}n(zP,xP);function AP(a,b,c){$k.call(this,a,b,c)}n(AP,vP);function BP(a,b,c){$k.call(this,a,b,c)}n(BP,AP);function CP(a,b,c){$k.call(this,a,b,c)}n(CP,AP);function DP(a,b,c){$k.call(this,a,b,c)}n(DP,AP);function EP(a,b,c){$k.call(this,a,b,c)}n(EP,AP);function FP(a,b,c){$k.call(this,a,b,c)}n(FP,AP);function GP(a,b,c){$k.call(this,a,b,c)}n(GP,AP);function HP(a,b,c){$k.call(this,a,b,c)}n(HP,AP);function IP(a,b,c){$k.call(this,a,b,c)}n(IP,AP);function JP(a,b,c){$k.call(this,a,b,c)}n(JP,AP);function KP(a,b,c){$k.call(this,a,b,c)}n(KP,wP);function LP(a,b,c){$k.call(this,a,b,c)}n(LP,KP);function MP(a,b,c){$k.call(this,a,b,c)}n(MP,KP);function NP(a,b,c){$k.call(this,a,b,c)}n(NP,KP);function OP(a,b,c){$k.call(this,a,b,c)}n(OP,KP);function PP(a,b){mP.call(this,a,b);this.h={};this.G=null}n(PP,mP);f=PP.prototype;f.ug=function(){u(this.f.m(),function(a){this.Gi.eh(a,this.B())},this);var a=this.f.getData();this.R={};this.G=mp("div");R.aa(this.G,!1);document.body.appendChild(this.G);z(a.contentMap,function(a,c){this.R[c]={};var d=null;z(a,function(a,b){try{d=QP(a).B(),this.G&&op(this.G,d)}catch(h){d=null}this.R[c][b]=d},this)},this)};
f.Oc=function(){this.c=null;this.B()&&qv("wnd-redraw",this.B());z(this.R,function(a,b){z(a,function(a,d){var e=Ou(b,d,this.f.C());(e=Um(e))&&a&&tp(a,e)},this)},this);this.G&&sp(this.G)};f.hd=function(){0==(!0===this.f.P)&&this.fc()};f.getBounds=function(){var a=R.getBounds(this.B());if(this.f.Nd()){var b=R.Zb(document);a.top-=b.y;a.left-=b.x}return a};f.Sa=function(){return this.B()};function RP(a,b){PP.call(this,a,b)}n(RP,PP);RP.prototype.N=function(){var a=["wnd-form-field"];this.f.Xd()&&a.push("wnd-required");return ff(RP.l.N.call(this),{"field.class":a.join(" ")})};function SP(a,b){PP.call(this,a,b)}n(SP,PP);SP.prototype.N=function(){var a=N(this.f,"action").message;return ff(SP.l.N.call(this),{"form.attributes":{action:"",method:"post",novalidate:"novalidate"},message:a,showForm:!0,showMessage:!1})};function TP(a,b){PP.call(this,a,b)}n(TP,RP);TP.prototype.N=function(){return ff(TP.l.N.call(this),{"label.attributes":{}})};function UP(a,b){PP.call(this,a,b)}n(UP,TP);function VP(a,b){PP.call(this,a,b)}n(VP,TP);function WP(a,b){PP.call(this,a,b);this.m=null}n(WP,RP);WP.prototype.N=function(){var a={id:"field-"+this.f.getId(),name:this.f.getId(),required:this.f.Xd(),disabled:t.isCms};this.m&&(a.type=this.m);var b={"for":"field-"+this.f.getId()};return ff(WP.l.N.call(this),{"label.attributes":b,"input.attributes":a})};function XP(a,b){WP.call(this,a,b);this.m="date"}n(XP,WP);function YP(a,b){WP.call(this,a,b);this.m="text"}n(YP,WP);YP.prototype.N=function(){return ff(YP.l.N.call(this),{"input.attributes":{value:N(this.f,"value")}})};function ZP(a,b){WP.call(this,a,b);this.m="file"}n(ZP,WP);ZP.prototype.N=function(){return ff(ZP.l.N.call(this),{"choose.attributes":{},"filename.attributes":{"data-filename-for":this.f.getId()}})};function $P(a,b){WP.call(this,a,b)}n($P,WP);$P.prototype.N=function(){var a=$P.l.N.call(this);delete a["input.attributes"].value;return ff(a,{value:""})};function aQ(a,b){WP.call(this,a,b);this.m="number"}n(aQ,WP);function bQ(a,b){WP.call(this,a,b);this.m="password"}n(bQ,WP);function cQ(a,b){WP.call(this,a,b);this.m="tel"}n(cQ,WP);function dQ(a,b){WP.call(this,a,b)}n(dQ,WP);dQ.prototype.N=function(){var a=[];z(N(this.f,"items"),function(b,d){a.push({text:b,attributes:{value:d}})});var b=dQ.l.N.call(this);delete b["input.attributes"].value;return ff(b,{items:a})};function eQ(a,b){WP.call(this,a,b);this.m="text"}n(eQ,WP);function fQ(a,b){PP.call(this,a,b)}n(fQ,SP);function gQ(a,b){PP.call(this,a,b)}n(gQ,fQ);function hQ(a,b){PP.call(this,a,b)}n(hQ,fQ);function iQ(a,b){PP.call(this,a,b)}n(iQ,fQ);function jQ(a,b){PP.call(this,a,b)}n(jQ,fQ);function kQ(a,b,c){$k.call(this,a,b,c);this.xe=this.bd=!1}n(kQ,uP);f=kQ.prototype;f.dataType=x.ContentBlock.DataType;f.nn="";f.oa=function(){kQ.l.oa.call(this);this.options.Pc=!0;this.options.Ec=!0;this.options.editable=!0;this.options.gc=!0};f.Mm=function(a){this.nn=a};f.zj=function(){return this.nn};f.Uc=function(){var a=Vi(this).getData(this.nn);return l(a.variant)?a.variant:"default"};
f.Jl=function(a,b,c){var d=this.getData();null!=d&&L.j().get("listing_items").Ea(function(b,g,h,k){a.call(c,b,g[d.listingItemId],h,k)},b,c)};function lQ(a,b,c){kQ.call(this,a,b,c)}n(lQ,kQ);lQ.prototype.oa=function(){lQ.l.oa.call(this);this.options.Pc=!1;this.options.Ec=!1};function mQ(a,b){PP.call(this,a,b);this.m={EMPTY:"wnd-empty-thumbnail",VIDEO:"wnd-video-thumbnail"}}n(mQ,PP);mQ.prototype.da=function(){this.fk(function(){},null,this,this.f.Jl)};
mQ.prototype.Hb=function(a){var b=this.N(),c=this.f.getData(),d=ff,e=[];1==a["listing_items.private_access"]&&e.push("wnd-private-content");this.f.bd?e.push(this.m.EMPTY):this.f.xe&&e.push(this.m.VIDEO);return d(b,{"containerElement.class":e.join(" "),"containerElement.attributes":{id:this.f.C()+"_container"},contentMap:c.contentMap,"link.attributes":{href:t.listingsPrefix+a["listing_items.identifier"]+"/"}})};
mQ.prototype.Ce=function(){Hl(this.Sa(),this.m.EMPTY,this.f.bd);Hl(this.Sa(),this.m.VIDEO,this.f.xe)};mQ.prototype.Oc=function(){mQ.l.Oc.call(this);Hl(this.Sa(),this.m.EMPTY,this.f.bd);Hl(this.Sa(),this.m.VIDEO,this.f.xe)};function nQ(a,b){mQ.call(this,a,b)}n(nQ,mQ);function oQ(a,b,c){$k.call(this,a,b,c)}n(oQ,uP);oQ.prototype.Uc=function(){return t.page.layout};function pQ(){return L.j().get("template_styles").getData()}function FN(){return"default"}function MN(a,b,c,d){var e=Bg.j().get("template_styles");e.update("colorScheme",b);c&&(b=af(Uh(e).getData()),l(b.background)||(b.background={}),b.background[FN()]="",l(b.backgroundSettings)||(b.backgroundSettings={}),b.backgroundSettings[FN()]="",GN(b),Ag(e,b));d&&HN(a)}
function PN(a,b,c){c=EN(c);a={id:a.getId(),src:a.ya(),dataType:a.J(),mime:a.Rc,mediaType:a.ja||null,width:a.Ma()||null,height:a.getHeight()||null};b?(cf(c.backgroundSettings[FN()],a),null!=c.backgroundSettings[FN()].poster&&delete c.backgroundSettings[FN()].poster):c.backgroundSettings[FN()]=a;return c}function EN(a){var b=L.j().get("template_styles"),b=af(b.getData());a&&(l(b.background)||(b.background={}),b.background[FN()]=a);l(b.backgroundSettings)||(b.backgroundSettings={});return b}
function GN(a,b,c){if(c&&b){a.refs={};var d={};d[b+".id"]=c;a.refs[b]=[d]}else l(a.refs)&&delete a.refs}function HN(a){var b=null,c="",d={},b=t.page.template.id,c="gui_page_templates";if(null!==b){var e=L.j().get("template_styles");d[c+".styles"]=JSON.stringify(e.getData());e=new gi("savePageStyles",1);gr(Ph.j(),e);c=Bg.j().get(c);a=m(a.v,a);c.c(b,d,null,a,e)}}oQ.prototype.v=function(a){if("success"!==a)throw new Oa("Cannot save data for PageStyle");};
oQ.prototype.Kd=function(){if(lv(this.Uc()).backgroundVideo){var a=pQ().backgroundSettings["default"];if(na(a)&&"videos"==a.mediaType)return(new IC).Sd(a)}return null};function qQ(a,b){PP.call(this,a,b);this.m=this.W=this.kb=null;this.La={}}n(qQ,PP);function rQ(a){a.kb||(a.kb=document.querySelector('[data-wnd_color_scheme="default"]'));return a.kb}function sQ(a){a.W||(a.W=document.querySelectorAll('[data-wnd_background~="default"]'));return a.W}
function tQ(a){a.m={};a.m.effects=document.querySelectorAll('[data-wnd_background~="effects"]');a.m.overlays=document.querySelectorAll('[data-wnd_background~="overlays"]');a.m.position=document.querySelectorAll('[data-wnd_background~="position"]');a.m.attachment=document.querySelectorAll('[data-wnd_background~="attachment"]');return a.m}qQ.prototype.Ch=function(a,b){!0!==fa(rQ(this))&&(!0===(null!=b)&&Fl(rQ(this),b),Dl(rQ(this),a))};
function uQ(a,b,c){var d=["wnd-background-image","wnd-background-pattern","wnd-background-video","wnd-background-solid"];u(sQ(a),function(a){null!=c&&(u(d,function(b){Fl(a,b)},this),Dl(a,c));a.innerHTML="";vQ(this,a,b)},a);a.W=null}function vQ(a,b,c){var d=b.cloneNode(!1);d.style.backgroundImage="url('"+c+"')";rp(d,b);setTimeout(m(a.ic,a,d,b),q.ImageSizeManager.replaceTimeout)}qQ.prototype.ic=function(a,b){for(var c=b.firstChild;c;)a.appendChild(c),c=c.nextSibling;sp(b);this.notify("onChangePageBackground")};
function wQ(a,b,c){u(sQ(a),function(a){a.innerHTML="<div>"+b+"</div>";l(c)&&Dl(a,c)},a)}qQ.prototype.lh=function(a){a.push("wnd-background-image");a.push("wnd-background-pattern");a.push("wnd-background-video");a.push("wnd-background-solid");u(sQ(this),function(b){Gl(b,a);b.innerHTML="";R.setStyle(b,"backgroundImage","");R.setStyle(b,"backgroundColor","")},this);var b=tQ(this);z(b,function(b){u(b,function(b){Gl(b,a)},this)},this)};
function xQ(a,b,c,d){var e=tQ(a);l(e[d])&&u(e[d],function(a){c&&Fl(a,c);b&&!Cl(a,b)&&Dl(a,b)},a)}function DN(a,b){u(sQ(a),function(a){a.style.backgroundColor=b;l("wnd-background-solid")&&Dl(a,"wnd-background-solid")},a)}function yQ(a,b){u(document.querySelectorAll("[data-wnd_multilang_class]"),function(a){Hl(a,"wnd-multilang",b)},a)}qQ.prototype.da=function(){};
function zQ(a,b){var c=Uh(Bg.j().get("title_info")).getData();if(F(c.type,b)){var d=nh(c.type,b);-1!==d&&c.text[d]!=a&&(c.text[d]=a,d=document.head.querySelector("title"),null!==d&&(d.innerHTML=c.text.join(c.sep)))}};function AQ(a,b,c){$k.call(this,a,b,c)}n(AQ,fP);AQ.prototype.xf=function(){return!0};AQ.prototype.dataType=x.ContentZoneColModel.DataType;function BQ(a,b){mP.call(this,a,b)}n(BQ,mP);function CQ(a,b,c){$k.call(this,a,b,c)}n(CQ,fP);CQ.prototype.dataType=x.ContentZoneColModel.DataType;function DQ(a,b){mP.call(this,a,b)}n(DQ,mP);DQ.prototype.da=function(){DQ.l.da.call(this);if("undefined"!==typeof N(this.f,"style")){var a=N(this.f,"style").width;"undefined"!==typeof a&&this.Tc(a)}};DQ.prototype.Tc=function(a){R.setWidth(this.B(),a+"%")};function EQ(a,b,c){$k.call(this,a,b,c)}n(EQ,fP);function FQ(a,b){mP.call(this,a,b);this.h={}}n(FQ,mP);function GQ(a,b,c){$k.call(this,a,b,c);this.Df=!0}n(GQ,EQ);GQ.prototype.oa=function(){GQ.l.oa.call(this);this.options.editable=!0};function HQ(a,b){FQ.call(this,a,b)}n(HQ,FQ);HQ.prototype.N=function(){var a=HQ.l.N.call(this);return ff(a,{"noColumns.class":this.f.xf()?"":"wnd-no-cols"})};function IQ(a,b,c){$k.call(this,a,b,c);this.Df=!1;this.Gb=this.page=0;JQ(this)}n(IQ,EQ);IQ.prototype.oa=function(){IQ.l.oa.call(this);this.options.Pc=!0;this.options.editable=!1;this.options.Ec=!0};function JQ(a){L.j().get("listing_items").Ea(m(function(a,c){this.Gb=0;z(c,function(){this.Gb++},this)},a))}function KQ(a){return N(a,"limit")?parseInt(N(a,"limit"),10):10}function LQ(){return"/"+t.page.identifier}function MQ(a){var b=LQ(),c=a.page-1;return 0>c?"#":0==c?b+"/":b+"/"+NQ(a)+"/"+c+"/"}
function OQ(a){var b=LQ(),c=a.page;return 0==c?b+"/":b+"/"+NQ(a)+"/"+c+"/"}function PQ(a){var b=LQ(),c=a.page+1;return c>=Math.ceil(a.Gb/KQ(a))?"#":b+"/"+NQ(a)+"/"+c}function NQ(a){a=a.C();return"p-"+(by?ba.btoa(a):cy(nl(a))).replace(/=/g,"").substr(-8).toLowerCase()}function QQ(a,b){var c=a.ca(),d=a.Uc(),e=void 0,e=l(e)?e:null,c=null!=Pe.variantSettings&&null!=Pe.variantSettings[c]&&null!=Pe.variantSettings[c][d]?Pe.variantSettings[c][d]:{};return b?null!=c[b]?c[b]:e:c!=={}?c:e}IQ.prototype.$a=function(){return t.page.id};function RQ(a,b,c){IQ.call(this,a,b,c)}n(RQ,IQ);RQ.prototype.oa=function(){RQ.l.oa.call(this);this.options.Ed=!0};function SQ(a,b,c){IQ.call(this,a,b,c);this.$t=this.$a()}n(SQ,RQ);SQ.prototype.oa=function(){SQ.l.oa.call(this);this.options.gc=!0};SQ.prototype.$a=function(){var a=t.page.langId;return null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[a]&&null==t.listings.blog[a].removed?parseInt(t.listings.blog[a].page_id,10):null};function TQ(a,b){FQ.call(this,a,b)}n(TQ,FQ);function UQ(a,b){Hl(a.B(),x.ListingZone.activeItem.className,b)}
TQ.prototype.N=function(){var a=TQ.l.N.call(this),b=this.f.Gb>KQ(this.f),c=x.ListingZone.disabled.className,d=ff,b=Gu("wnd.pc.Pager",{show:!0,"contentElement.attributes":{},"contentElement.class":b?"":c,variant:QQ(this.f,"pagerVariant"),"link.prev.attributes":{href:MQ(this.f)},"link.prev.class":"#"==MQ(this.f)?c:"","link.next.attributes":{href:PQ(this.f)},"link.next.class":"#"==PQ(this.f)?c:"","link.load.attributes":{href:PQ(this.f)},"link.load.class":"#"==PQ(this.f)?c:"","title-prev":this.G(),"title-next":this.m(),
"title-load":Ga("wnd.templates.load")}),c="";null===this.f.$a()?c="notExists":this.f.Gb||(c="noItems");return d(a,{pager:b,placeholderType:c,listingPageExists:null!==this.f.$a()})};TQ.prototype.m=function(){return Ga("wnd.templates.prev")};TQ.prototype.G=function(){return Ga("wnd.templates.next")};function VQ(a,b){FQ.call(this,a,b)}n(VQ,TQ);VQ.prototype.m=function(){return Ga("wnd.pc.BlogDetailPageZone.previous")};VQ.prototype.G=function(){return Ga("wnd.pc.BlogDetailPageZone.next")};function WQ(a,b){FQ.call(this,a,b)}n(WQ,VQ);WQ.prototype.N=function(){var a=WQ.l.N.call(this);return ff(a,{pager:""})};function XQ(a,b,c){GQ.call(this,a,b,c);this.Df=!1}n(XQ,GQ);XQ.prototype.oa=function(){XQ.l.oa.call(this);this.options.Ec=!0};function YQ(a,b){FQ.call(this,a,b);ZQ(this)}n(YQ,HQ);function ZQ(a){var b=a.B();0==a.f.m().length&&(b.style.cursor="pointer")};function $Q(a,b,c){$k.call(this,a,b,c)}n($Q,uP);f=$Q.prototype;f.oa=function(){$Q.l.oa.call(this);this.options.editable=!0;this.options.gc="page"==this.getContext();this.Ve=!1};f.Xe=function(){return $Q.l.Xe.call(this)+"_"+N(this,"contentIdentifier")};f.Uc=function(){var a=$Q.l.Uc.call(this),b=xN(this,aR);return na(a)?l(a[b])?a[b]:"default":a};
f.getStyle=function(a,b){var c=N(this,"contentIdentifier"),d=xN(this,yN),c=hv(c,a,b);if("background"===a||"backgroundSettings"===a)!0===(null===c)&&(c={}),c["wnd-background-image"]="wnd-background-image";if(Xe(c))return"";var e=N(this,"style"),e=na(e)&&l(e[a])?e[a]:{};b&&(e=l(e[b])?e[b]:{});return!Xe(e)&&l(e[d])?e[d]:"background"===a?"":(d=Se(Te(c)))?d:""};
f.yo=function(a){var b={},c=N(this,"style"),d=xN(this,yN);if(!1===(null!=c)||!1===(null!=c.backgroundSettings)||!1===(null!=c.backgroundSettings["default"])||!1===(null!=c.backgroundSettings["default"][d])||""===c.backgroundSettings["default"][d])return b;var e=c.backgroundSettings["default"][d];if("solidColors"===e.mediaType)return b["default"]=Lu({backgroundColor:e.color}),b;if("videos"===e.mediaType)return b;c=e.src;d=e.dataType;"patterns"==e.mediaType?e=po(c,d):(e=Yq(Tq.j(),c,d),null===e&&(e=
po(c,d,a)));b["default"]=Lu({backgroundImage:"url('"+e+"')"});return b};function bR(a){var b=N(a,"contentIdentifier"),b=hv(b,"background"),c={};u(Ma(b),function(a){var b=this.getStyle("background",a);"effects"!==a&&b&&(c[a]=b)},a);return c}f.Jh=function(){var a="",b=N(this,"contentIdentifier"),b=hv(b,"colorScheme"),c=L.j().get(Ea.PageStyles.dataType).getData("colorScheme");if(!Xe(b)&&!0===(null!=c)){var d=this.getStyle("colorScheme");null!=b[c][d]&&(a=b[c][d].backgroundType)}return a};f.Sf=function(){return this.getStyle("colorScheme")};
function cR(a,b,c){var d=af(a.getData()),e=xN(a,yN);l(d.style.colorScheme)||(d.style.colorScheme={});d.style.colorScheme[e]=b;c&&(dR(a,d.style),Zk(d,a.ca(),{}));Xi(a,d,!0)}function dR(a,b){var c=xN(a,yN);u(["background","backgroundSettings"],function(a){l(b[a])&&(z(b[a],function(e,g){l(e[c])&&delete e[c];Xe(b[a][g])&&delete b[a][g]},this),Xe(b[a])&&delete b[a])},a)}var aR="pageVariants",yN="pageStyles",bP="default";
function xN(a,b){var c=cv(N(a,"contentIdentifier"));return null!=c&&!0===c[b]&&"layout"===N(a,"context")?t.page.id:bP}$Q.prototype.Kd=function(){if(cv(N(this,"contentIdentifier")).backgroundVideo){var a=this.getStyle("backgroundSettings","default"),b=["videos",fr];if(na(a)&&F(b,a.mediaType))return(new XD).Sd(a)}return null};function eR(a,b,c){$k.call(this,a,b,c)}n(eR,$Q);eR.prototype.oa=function(){eR.l.oa.call(this);this.options.editable=!1;this.options.gc=!1};function fR(a,b,c){$k.call(this,a,b,c)}n(fR,$Q);fR.prototype.oa=function(){fR.l.oa.call(this);this.options.editable=!0;this.options.gc=!1};function gR(a,b,c){$k.call(this,a,b,c)}n(gR,$Q);gR.prototype.oa=function(){gR.l.oa.call(this);this.options.editable=!1;this.options.gc=!1;this.options.Ed=!1};function hR(a,b,c){$k.call(this,a,b,c)}n(hR,$Q);hR.prototype.oa=function(){hR.l.oa.call(this);this.options.editable=!1;this.options.gc=!1;this.options.Ed=!1};function iR(a,b,c){$k.call(this,a,b,c)}n(iR,$Q);iR.prototype.oa=function(){iR.l.oa.call(this);this.options.editable=!1;this.options.gc=!1};function jR(a,b){PP.call(this,a,b);this.W=null}n(jR,PP);f=jR.prototype;f.N=function(){var a=jR.l.N.call(this),b="",c=this.f.Kd();null!=c&&(b=iD(hD.j(),c));var c=this.f.getStyle("background","default"),d=this.f.Sf();return ff(a,{"color.class":[d,c].join(" "),"styles.backgroundClasses":bR(this.f),"styles.backgroundStyles":this.f.yo(q.FilesystemPreviewSize.small),"backgroundVideo.show":""!=b,"backgroundVideo.code":b})};
f.ef=function(){this.m||(this.m=ip("div",{"class":"wnd-temp-section-area"}),document.body.appendChild(this.m));return this.m};f.kq=function(){this.m&&(this.m.parentNode.removeChild(this.m),this.m=null,this.B().style.marginBottom="",this.B().style.marginTop="")};f.Ch=function(a,b){!0!==fa(this.B())&&(b&&Fl(this.B(),b),Dl(this.B(),a),this.notify("onAfterChangeColorScheme"))};
f.lh=function(a){var b;if(b=ky(this.B(),"wnd_section_background")&&jy(this.B(),"wnd_section_background").match("\\b"+a+"\\b")?this.B():this.B().querySelector('[data-wnd_section_background~="'+a+'"]'))a=this.f.getStyle("background",a),null!=a&&""!==a&&(Fl(b,a),R.setStyle(b,"backgroundImage","none")),"wnd-background-video"==a&&(b=this.B().querySelector("video"))&&sp(b)};
f.gn=function(){if(this.m){var a=x.PageZoneModel.topOffset,b=R.Kg(this.m),c=R.pa(this.m),d=ep(window),e=R.Zb(document);b.y<a?window.scrollTo(0,parseInt(e.y+b.y-a,10)):b.y+c.height>d.height&&window.scrollTo(0,parseInt(e.y+b.y+c.height+a-d.height,10))}};f.wi=function(){cJ()&&jR.l.wi.call(this)};
f.mt=function(){var a=[];ky(this.c,"wnd_section_background")&&jy(this.c,"wnd_section_background").match("\\bdefault\\b")&&a.push(this.c);u(this.c.querySelectorAll('[data-wnd_section_background~="default"]'),function(b){a.push(b)},this);return a};f.fc=function(){!0===this.f.Ve?kR(this,m(this.mt,this),m(this.fc,this)):jR.l.fc.call(this)};
function kR(a,b,c){a.f.Ve=!1;var d=!0,e=b.apply(a);ha(e)||(e=[e]);u(e,function(a){var e=R.pa(a),e=ip("div",{"class":x.Section.fadeOverlay.className,style:"width:"+e.width+"px;height:"+e.height+"px;"});a.appendChild(e);a=new xw(e,0,x.Section.fadeOverlay.finalOpacity,x.Section.fadeOverlay.duration);!0===d&&(Vm(a,"end",m(this.Ev,this,b,c)),d=!1);Vm(a,"end",m(function(a){sp(a.target.element)},this));a.play()},a)}
f.Ev=function(a,b){b.apply(this);var c=a.apply(this);ha(c)||(c=[c]);u(c,function(a){var b=R.pa(a),b=ip("div",{"class":x.Section.fadeOverlay.className,style:"width:"+b.width+"px;height:"+b.height+"px;"});a.appendChild(b);a=new xw(b,x.Section.fadeOverlay.finalOpacity,0,x.Section.fadeOverlay.duration);Vm(a,"end",m(function(a){sp(a.target.element)},this));a.play()},this)};f.Ej=function(){return R.getBounds(Dx())};
f.Dl=function(){var a=Um(x.frontendElements["wnd.pc.FeFooter"]),b=new pm(0,0,0,0);a&&(b=R.getBounds(a));return b};function lR(a,b){jR.call(this,a,b)}n(lR,jR);function mR(a,b){jR.call(this,a,b)}n(mR,jR);function nR(a,b){jR.call(this,a,b)}n(nR,jR);function oR(a,b){jR.call(this,a,b)}n(oR,jR);function pR(a,b){jR.call(this,a,b)}n(pR,jR);function vH(){K.call(this);this.g={};this.c=null;E.j().observe("onPopupMouseOver",m(this.h,this),this)}n(vH,K);da(vH);function qR(a){var b=vH.j(),c,d=x.HoverManager.type,e={},g;for(g in d)for(var h=1;h<=x.HoverManager.instNum;h++)if(c=g+(h?"_"+h:""),!a||l(d[g].dragDrop)&&-1!=d[g].dragDrop.indexOf(a)){if(!b.g[c]){var k,p=x.HoverManager.type[g].properties;null!=p&&(k={properties:p});b.g[c]=I.j().create(c,d[g]["class"],Dx(),ag.j().get("wnd.pc"),k)}e[c]=b.g[c]}return e}
vH.prototype.h=function(a){if(this.c){var b=this.c.Da();(!a||a&&b instanceof EK&&F(b.f.m(),a))&&this.c.pb()}};function rR(a,b){HA.call(this,a,b,Dx());this.la={}}n(rR,HA);f=rR.prototype;f.uc=function(a,b,c,d){return rR.l.uc.call(this,a,b,c,d,!0)};function sR(a){var b,c=qR("wnd.pc.PageZoneDragDrop"),d;for(d in c)for(var e in Ra)b=Ra[e],a.Ka(c[d].view.g[b],c[d])}function tR(a){var b=!1,c=!0;if(a instanceof EK){for(a=uR(a);a instanceof zL&&AL(a);)a=a.Ib;c=a instanceof GM&&a.Vl()}a instanceof yL&&(b=c&&!!D(a.Vf()));return b?"wnd.ui.FloatDropStripe":"wnd.ui.DropStripe"}
f.zi=function(a){rR.l.zi.call(this,a);if(this.M){var b=QA(this,this.M);if(b instanceof DA&&b.Ga()&&b.Od()){var c=this.M.tc;c instanceof rH&&(c=c.Da());var d=b.ld();!0===ky(this.M.Bb,"wnd_insert_type")?"wnd.pc.ImageBlock"===jy(this.M.Bb,"wnd_insert_type")&&GA(b,a.clientX,d):c instanceof zL?(c=c.B(),GA(b,a.clientX,d,c)):FA(b)}}};f.Ui=function(){};
f.Wi=function(a,b){var c=!1,d=b.tc;d instanceof rH&&(d=d.Da());if(d){var e=sH(this,a),g=a.ld().id,h=null;e?(h=e,c=h.C()===d.C()||"wnd.pc.ImageBlock"!=d.ca()&&a.Od()):h=I.j().get(g);"wnd.pc.BlogZone"===d.ca()&&BO(d)instanceof vR&&(c=BO(d).C()!==BO(h).C());!1===c&&(c=d.getContext()!==h.getContext())}return c};
function wR(a,b,c,d){var e="wnd.ui.DropStripe";if("left"==c||"right"==c)e="wnd.ui.FloatDropStripe";b=a.uc(b,c,null,e);b.Od()&&(c=tH(a,d.C(),c))&&(b.f.A.x=yA(c).x,b.f.o.x=c.f.o.x,om(b.f));a.la[b.getId()]=d}function sH(a,b){return"undefined"!=typeof a.la[b.getId()]?a.la[b.getId()]:null}function tH(a,b,c){return a.g[b+"_"+c+r.StripesDragDrop.stripeSuffix]}f.je=function(a){var b=Sz(this,a);null!==b.tc&&ma(b.tc.Da)&&!1===b.tc.Da().se()||rR.l.je.call(this,a)};
f.reset=function(){rR.l.reset.call(this);this.la={}};f.Ae=function(a,b){var c=Sz(this,a),c=QA(this,c);c.Ga()&&(this.Ih=c instanceof DA&&"float"==c.f.ye?c.getPosition():null);rR.l.Ae.call(this,a,b)};function xR(a,b,c){$k.call(this,a,b,c)}n(xR,fP);xR.prototype.Xe=function(){return xR.l.Xe.call(this)+"_"+N(this,"contentIdentifier")};function yR(a,b){mP.call(this,a,b)}n(yR,mP);function zR(a,b,c){$k.call(this,a,b,c)}n(zR,uP);zR.prototype.oa=function(){zR.l.oa.call(this);this.options.Pc=!0;this.options.Ed=!0;this.options.Ec=!0;this.options.gc=!0};zR.prototype.Xe=function(){return zR.l.Xe.call(this)+"_"+N(this,"contentIdentifier")};zR.prototype.Cn="";zR.prototype.Uc=function(){var a=Vi(this).getData(this.Cn);return a&&l(a.variant)?a.variant:"default"};function AR(a,b){PP.call(this,a,b)}n(AR,PP);AR.prototype.Ce=function(){cJ()&&AR.l.Ce.call(this)};function BR(a,b,c){$k.call(this,a,b,c);this.v=""}n(BR,zR);BR.prototype.Xe=function(){return $k.prototype.Xe.call(this)};BR.prototype.ya=function(){return N(this,"image").src};BR.prototype.Le=function(){var a=N(this,"image"),b=a.src,a=po(b,a.dataType,q.FilesystemPreviewSize.small);qo(b)&&this.v&&(a+=(0>a.indexOf("?")?"?":"&")+this.v);return a};BR.prototype.qf=function(a){this.v=a};function CR(a,b){PP.call(this,a,b);this.W=null}n(CR,AR);f=CR.prototype;f.N=function(){var a=this.f.getData(),b=!1,c={};null!=a.image&&(b=qo(a.image.src),c={id:this.f.C()+"_img"},b&&(c.type="image/svg+xml"),this.f.qf(Dv(DR(this),this.Oa())),c.src=this.f.Le());return ff(CR.l.N.call(this),{title:a.title,"img.attributes":c,"link.attributes":{href:a.link,target:"_blank"},showText:!0,showImage:!b,showEmbed:b,embedScript:""})};f.Oa=function(){this.m||(this.m=document.getElementById(this.f.C()+"_img"));return this.m};
f.Oc=function(){this.m=null;CR.l.Oc.call(this)};f.Mg=function(){if(!this.La||!this.m){var a=this.Oa();this.La=a?a.parentNode:null}return this.La};f.Km=function(a){var b=this.Mg();b&&R.setStyle(b,"position",a)};function DR(a){a.W||(a.W=new Cv);return a.W}f.Qe=function(){this.f.qf(Dv(DR(this),this.Oa()));DR(this).Qe(this.f.Le(),this.Oa())&&(this.m=null)};f.Cm=function(){var a=this.Oa(),b=this.Oa();a.outerHTML=b.outerHTML;this.m=null};
f.pf=function(a){var b=this.Oa();b&&(bq||aq)&&(b.style.visibility=a?"":"hidden")};function VM(a,b,c){RB.call(this,a,b,c);this.g=ER(tz(this));this.o=null;D(sQ(this.g.view))||(this.o=new CG(this.g.ud(),LN()));this.M=new TM(this,this.o,c)}n(VM,RB);VM.prototype.ua=function(){return this.getParent().ua()};VM.prototype.fa=function(){};VM.prototype.Mc=function(a,b){this.getParent().Mc(a,b);SN(this.M)};
VM.prototype.Y=function(a){VM.l.Y.call(this,a);null!=this.o&&"filesystem_files"==a.J()&&"dataDelete"==a.getType()&&"children_propagation"==a.h&&th(this.o.F,function(a){return"filesystem_files"==a.J()&&a.getId()!=this.o.Md},this)&&(WG(this.o),FG(this.o,XM(this.M)))};I.j().register("wnd.pc.EditLayoutContent",Lj,qB,VM);function FR(a,b,c){tC.call(this,a,b,c);this.o.ImageList=m(this.Ur,this);this.o.FileList=m(this.Tr,this);this.g={}}n(FR,tC);f=FR.prototype;f.Tr=function(){this.g.FileList=MG(E.j(),{showTypes:[Uj],activeType:Uj,checkLowResolution:!1});eC(this.g.FileList,"onInsert",this.mr,this);eC(this.g.FileList,"onClose",this.lr,this)};
f.Ur=function(){var a=L.j().get("project_info").getData(),a={filterMN:[{key:"category",value:[Ea.StaticServerCategory.templates,a.uikit_name,a.template_name,a.template_branch_id,Ea.StaticServerCategory.content],optional:[a.uikit_name,a.template_name,a.template_branch_id,Ea.StaticServerCategory.content]}],orderMN:{key:"category",value:Ea.StaticServerCategory.content,order:"DESC"}},b={};b.publicImages=a;b.publicIcons=a;this.g.ImageList=MG(E.j(),{showTypes:[Tj,"publicImages","publicIcons"],activeType:Tj,
collectionSettings:b,checkLowResolution:!1});eC(this.g.ImageList,"onInsert",this.mr,this);eC(this.g.ImageList,"onClose",this.lr,this)};f.Ii=function(){Yz(this).qb()&&this.notify("onCancel");this.Kk();return!0};f.mr=function(a,b){this.g.ImageList&&Ih(this.g.ImageList,"onInsert");this.g.FileList&&Ih(this.g.FileList,"onInsert");this.notify("onInsert",b[0])};f.lr=function(){this.notify("onClose")};I.j().register("wnd.pc.SelectMediaFooter",Oj,xB,FR);function GR(a,b,c){kF.call(this,a,b,c);this.qa=this.D=this.T=this.G=null}n(GR,kF);f=GR.prototype;f.ko=function(a){var b=this.view;b.v=Tr(Js,{name:Ml(a[Q(this.f,"name")])});b.Be().appendChild(b.v)};f.Cc=function(){HR(this);GR.l.Cc.call(this);null!=this.G&&this.G.reset();null!=this.T&&this.f.Ea(this.T.Fr,null,this.T);null!=this.D&&this.D.reset()};f.uj=function(a){var b=GR.l.uj.call(this,a);a instanceof Xz&&(b.value=parseInt(b.value,10));return b};
function HR(a){Fj(a.f,Q(a.f,"name"),function(a,c){if(null!=c){var d=this.view;null!==d.v&&(d.v.innerHTML=Ml(c))}},a)}f.So=function(){return{title:"Delete blog post",text:"Are you sure you want to delete this blog post?"}};f.wf=function(a,b,c){GR.l.wf.call(this,a,b,c);this.f.Ea(this.Gy,null,this)};f.Gy=function(a,b){l(b)&&l(b[Q(this.f,"identifier")])&&b[Q(this.f,"identifier")]!==this.qa.getValue()&&this.qa.lc("value",b[Q(this.f,"identifier")])};I.j().register("wnd.pc.BlogPostEdit",Yj,eL,GR);function IR(a,b,c){CF.call(this,a,b,c)}n(IR,CF);f=IR.prototype;f.Ll=function(){var a=IR.l.Ll.call(this);a.title="Blog";a.addButton=x.BlogAdminPopup.addButton;return a};f.Lo=function(){x.BlogAdminPopup.dataSettings.filter[0].value=P(this.f,"listingPageId");return{filter:x.BlogAdminPopup.dataSettings.filter}};f.Il=function(){var a=IR.l.Il.call(this);a.enabledDragDrop=!1;return a};f.vn=function(){IR.l.vn.call(this);var a=new H("onBeforePopupClose",this);a.h="children_propagation";this.ba(a)};
f.Cl=function(){var a=IR.l.Cl.call(this);a.buttons={Xc:"Edit Post","delete":"Delete"};return a};f.O=function(){IR.l.O.call(this);this.o.observe("onListItemActivate",m(this.bw,this),this);this.D.observe("onBlogAddArticle",m(this.pu,this),this)};f.bw=function(a,b){this.g.select(b)};f.pu=function(a,b){this.notify(a,b)};I.j().register("wnd.pc.BlogAdminPopup",Zj,nF,IR);function UM(a,b,c){wr.call(this,a,b,c);this.U=this.G=this.Na=this.o=this.v=null;this.h=I.j().get(P(a,"sectionId"));this.D=null;JR(this.h)&&(this.D=new CG(this.h.ud(),this.h.getStyle("colorScheme")));this.I={};this.g=new TM(this,this.D)}n(UM,wr);f=UM.prototype;f.ua=function(){return x.EditSection.groups["default"]};function YM(){return x.EditSection.groups.sectionEffects}function ZM(){return x.EditSection.groups.layoutEffects}f.O=function(){UM.l.O.call(this);this.c.H(this.B(),T,this.Xy)};
f.Xy=function(a){oF(this.view,new S(a.clientX,a.clientY))&&a.stopPropagation()};
f.fa=function(){P(this.f,"useLayoutOptions")&&(this.G=this.K(this.C()+"_layout_edit","wnd.pc.EditLayoutContent",null,{properties:{initRenderFlag:!1}}));this.v=this.K(this.C()+"_default_block","wnd.ui.PopupEmptyBlock",this.ua(),{properties:{initRenderFlag:!0,switchAnimation:!0,extendCssClass:"wnd-switch-block"}});if(null!=this.G){var a=this.G,b=this.v;m(this.Mc,this,ZM(),!1);if(null!==a.o||KR(a.g)){var c=b.K(a.C()+"_nav_default","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Website Background"}});
$M(a.getParent(),c,"layout#header",a.getParent().ua());null!=a.o?WM(a.M,b):KR(a.g)&&aN(a.M,b)}}if(JR(this.h)||1==kv(this.h)||LR(this.h)||this.h.sc())a="",a=this.h instanceof MR?"Website Header":this.h instanceof NR?"Website Footer":"Section",a=this.v.K(this.C()+"_nav_default","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:a}}),$M(this,a,"header",this.ua()),JR(this.h)?WM(this.g,this.v):1==kv(this.h)&&aN(this.g,this.v),LR(this.h)&&(a=OR(this),this.U=this.v.K(this.C()+"_variant",
"wnd.ui.StyleSwitcher",null,{properties:{initRenderFlag:!0,title:"Layout",items:a,selected:this.h.yk()}}),this.U.observe("selectItem",this.Tu,this),$M(this,this.U,"variant",this.ua())),this.h.sc()&&this.v.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",null,{properties:{controls:{right:["Delete"]},initRenderFlag:!0,extendCssClass:"wnd-edit-section-controls",confirmDeleteTitle:"Are you sure you want to delete this section?"}});JR(this.h)&&(this.o=this.K(this.C()+"_section_effects_block","wnd.ui.PopupEmptyBlock",
YM(),{properties:{initRenderFlag:!0,switchAnimation:!0,extendCssClass:"wnd-switch-block"}}),a=this.o.K(this.C()+"_nav_effects","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,switchContainer:this.getId(),switchGroups:[this.ua()]}}),$M(this,a,"header",YM()),dN(this.g,this.o),iN(this.g,this.o),lN(this.g,this.o),oN(this.g,this.o),rN(this.g,this.o),tN(this.g,this.o));null!==this.G&&(this.Na=this.K(this.C()+"_layout_effects_block","wnd.ui.PopupEmptyBlock",ZM(),{properties:{initRenderFlag:!0,
switchAnimation:!0,extendCssClass:"wnd-switch-block"}}),a=this.G,b=this.Na,D(sQ(a.g.view))||(c=b.K(a.C()+"_nav_effects","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,switchContainer:a.C(),switchGroups:[a.getParent().ua()]}}),$M(a.getParent(),c,"header",ZM(a.getParent())),dN(a.M,b),iN(a.M,b),lN(a.M,b),oN(a.M,b),rN(a.M,b),tN(a.M,b),b=[],(c=a.g.ud())&&(b=SG(c.mediaType)),RN(a.M,b),SN(a.M)));null!=this.o&&(a=[],(b=this.h.ud())&&(a=SG(b.mediaType)),RN(this.g,a),SN(this.g));this.Mc(this.ua(),
!0);ZB(this,this.ua())};f.Tu=function(a,b){var c=this.h,d=xN(c.f,aR),e={};e[d]=b;Xi(c.f,{variant:e});CN(c)};f.remove=function(){this.notify("onRemove");this.hide();var a=new H("inspectletInfo1",this);this.ba(a)};function OR(a){var b=gv(RG(a.h)),c=[];u(b,function(a){c.push(YD((new XD).Ha(a),nE))},a);return c}f.show=function(){UM.l.show.call(this);if(1!=kv(this.h)){var a=this.g;null===a.P||a.P.hide()}a=P(this.f,"useLayoutOptions")?new H("inspectletInfo2",this):new H("inspectletInfo3",this);this.ba(a)};
f.na=function(a){UM.l.na.call(this,a);a.c instanceof PR&&"colorSchemeChange"==a.getType()&&(a=this.g,null===a.P||a.P.Qd(bN(a),cN(a)||"",!0),null!=this.D&&FG(this.D,XM(this.g)))};f.Y=function(a){UM.l.Y.call(this,a);JR(this.h)&&null!=this.D&&"filesystem_files"==a.J()&&"dataDelete"==a.getType()&&"children_propagation"==a.h&&th(this.D.F,function(a){return"filesystem_files"==a.J()},this)&&(WG(this.D),FG(this.D,XM(this.g)))};
f.Mc=function(a,b){if(!b){var c=new ww(this.view.Va,this.view.Va.offsetHeight,QR(this,a),250);"top"===this.hb&&c.H("animate",m(this.yu,this));c.H("end",m(this.xu,this));c.play()}UM.l.Mc.call(this,a,b);SN(this.g)};f.yu=function(){wF(this)};f.xu=function(){wF(this);this.notify("onAnimateResizeEnd")};f.jc=function(){UM.l.jc.call(this);R.setHeight(this.view.Va,"auto");this.v.B().style.position="relative"};
function $M(a,b,c,d){b.Ya()&&(l(a.I[d])||(a.I[d]={}),a.I[d][c]=parseInt(R.pa(b.B()).height,10))}function QR(a,b){var c=0;if(!l(a.I[b]))return c;var d=["header","schemes"];b===YM()?d=zh(d,a.g.D):b===ZM()?d=zh(d,a.G.M.D):d=Ma(a.I[b]);z(a.I[b],function(a,b){F(d,b)&&(c+=a)},a);return c+x.EditSection.heightCorrection}f.xl=function(){var a=UM.l.xl.call(this),b=a.height,c=0;z(this.I,function(a){c=0;z(a,function(a){c+=a},this);c>b&&(b=c)},this);return new Ce(a.width,b)};
I.j().register("wnd.pc.EditSectionPopup",bk,pF,UM);function RR(a,b,c){wr.call(this,a,b,c)}n(RR,wr);RR.prototype.fa=function(){this.K(this.C()+"_layout_edit","wnd.pc.EditLayoutContent",this.ua(),{properties:{initRenderFlag:!0}})};RR.prototype.show=function(){RR.l.show.call(this);SR(!0)};RR.prototype.Hd=function(){RR.l.Hd.call(this);SR(!1)};function SR(a){var b=kr.j();!0===a?(b.pause(),(b=vH.j().c)&&b.pb(null,null,!0)):tr(b);LH=a}I.j().register("wnd.pc.LayoutPopup",bk,pF,RR);function GL(){A.call(this)}n(GL,A);da(GL);function FL(a,b,c,d){var e=!1,g=x.NewContentItemPopupsManager[b];null!=g&&(a.h=b,a.g=c,a.c=d?d:{},c=g.properties?g.properties:{},c.dataType=Ea.mvc.DataType,c.createMVCType=a.h,eC(E.j().create(g.mvcType,g.mvcType.split(/\./).pop()+"_"+b,document.body,null,{destroyAfterClose:!0},c),"onInsert",a.A,a),e=!0);return e}GL.prototype.A=function(a,b){Xe(this.c)||(b=ff(b,this.c));this.g(b)};function EK(a,b,c){GM.call(this,a,b,c);this.I=!1;this.S=null;this.T=!1}n(EK,GM);f=EK.prototype;f.kc=function(){return"container"};f.Xi=null;function TR(a){for(var b=a.f.m(),c=b.length,d=Vi(a.f).getData(),e,g=0;g<c;g++)e=d[b[g]].type,a.ag(b[g],e)}f.ag=function(a,b){return Ig.j().Ka(a,b,this,{id:a,properties:this.Gl(a,b)})};f.Gl=function(){return{}};f.rd=function(a,b,c,d,e){return Ig.j().create(a,this,b,c,d,e)};function QP(a){return VK(Ig.j(),a)}
function rJ(a,b,c){a=a.f.m();var d,e=[];d=[];if(a)for(var g=a.length,h=0;h<g;h++)d=QP(a[h]),e.push(d),b&&d instanceof EK&&(!c||-1!=c.indexOf(d.kc()))&&(d=rJ(d,!0,c),e=e.concat(d));return e}function UR(a,b,c,d,e){var g=rJ(a),h=g.length;a.I=!0;b.I=!0;b.Xi=rJ(b);for(var k=0;k<h;k++)e&&0<=e.indexOf(g[k].getId())||(g[k].move(b,c,d),c=g[k],d="bottom");a.I=!1;b.I=!1;wO(a,"out");wO(b,"in")}
f.Jb=function(a,b,c,d){EK.l.Jb.call(this,a,b,c,d);"data_created"!=b&&"data_deleted"!=b&&"data_updated"!=b||VR(this);a=!1;b=rJ(this);for(c=0;c<b.length;c++)if("wnd.pc.ContentZoneColWrapper"==b[c].ca()){a=!0;break}a!=this.f.xf()&&(this.f.vh=a,a=this.view,a.f.xf()?a.B().classList.remove("wnd-no-cols"):a.B().classList.add("wnd-no-cols"))};function VR(a){a=rJ(a);for(var b=0;b<a.length;b++)a[b].jb=0==b?null:a[b-1],a[b].Ib=b==a.length-1?null:a[b+1]}function WR(a){return 0==a.f.m().length}
function XR(a){return 1==a.f.m().length}function uR(a){var b=null;WR(a)||(a=a.f.m(),b=QP(a[0]));return b}f.Sa=function(){return this.view.Sa()};function wO(a,b){switch(b){case "in":a.Sc("data_created",!0);break;case "out":a.Sc("data_deleted",!0);break;default:a.Sc("data_updated",!0)}}f.Yd=function(){TR(this);VR(this)};function RG(a){return N(a.f,"contentIdentifier")}f.wl=function(){var a=rJ(this),b=[];u(a,function(a){kG(a)&&b.push(a)},this);return b};
function YR(a,b,c,d){b=new b;d=d||"bottom";b.data.parentId=a.C();a=a.getContext();b.data.context=a;b.data.referenceId=c?c.C():null;b.setPosition(d);return b}function ZR(a,b,c,d,e){var g=L.j().get("content_items").getData(b);e=e||{};b=Ig.j().Ka(b,g.type,a,{id:b,properties:e});a.Sc("data_created");c&&EM(b,a.Sa(),c.B(),d);return b}
function DL(a,b,c,d){kr.j().pause("addContent",!0);vJ("DisableContent").show();$R(a,c,d,x["wnd.pc.FromBlock"].placeholder.height);b=aS(a,b,c,d);var e=I.j().get(x.PageZoneModel.ZoneId);bS(e)?u(b,function(a){e.R.push(a)},a):(a=new gi("createForm",b.length),vL(Ph.j(),b,a))}function aS(a,b,c,d){var e,g=[];e="default";var h=YR(a,wv,c,d);h.data.form=b;h.data.variant=e;lf(h,m(a.nm,a,c,d));g.push(h);return g}
f.nm=function(a,b,c,d){cS(this);tr(kr.j());vJ("DisableContent").hide();"error"!==c&&(a=ZR(this,d.id,a,b),a=new H("formCreated",a),this.ba(a))};function EL(a,b,c){kr.j().pause("addContent",!0);vJ("DisableContent").show();$R(a,b,c,x["wnd.pc.FromBlock"].placeholder.height);b=dS(a,b,c);var d=I.j().get(x.PageZoneModel.ZoneId);bS(d)?u(b,function(a){d.R.push(a)},a):(a=new gi("createBlogRecentPosts",b.length),vL(Ph.j(),b,a))}
function dS(a,b,c){var d,e=[];d=x.CreateBlogRecentPostsServerRequest.variant;var g=YR(a,uv,b,c);g.data.variant=d;lf(g,m(a.Fu,a,b,c));e.push(g);return e}f.Fu=function(a,b,c,d){cS(this);tr(kr.j());vJ("DisableContent").hide();"error"!==c&&(a=ZR(this,d.id,a,b),a=new H("blogRecentPostsCreated",a),this.ba(a),a=new H("keenInfoAdd",this),this.ba(a))};
function $R(a,b,c,d){b=b?b.B():null;var e=a.view,g=e.ef();if(b){var h=b.className.trim();h&&El(g,h.split(" "));d||(d=R.pa(b).height);"bottom"==c||"right"==c?rp(g,b):qp(g,b)}else e.Sa().appendChild(g);d&&R.setHeight(g,d);e.gn();a.S||(a.S=I.j().create(a.C()+"_loading","wnd.ui.Loading",a.view.ef(),a,{properties:{type:"container"}}));a.S.show();a.Wc()}function cS(a){a.S&&(a.S.dispose(),a.S=null);a=a.view;a.v&&(sp(a.v),a.v=null);tr(kr.j())};function eS(a,b,c){EK.call(this,a,b,c)}n(eS,EK);eS.prototype.g=function(){this.rd(x[this.ca()].optionMVCType)};eS.prototype.ag=function(a,b){var c=eS.l.ag.call(this,a,b);c.L=!1;return c};eS.prototype.Y=function(a){eS.l.Y.call(this,a);"parent_propagation"==a.h&&"dataDelete"==a.getType()&&a.c.ca()===x[this.ca()].optionMVCType&&this.Wc()};
eS.prototype.na=function(a){eS.l.na.call(this,a);var b=!1;if("itemActivate"===a.getType()){var b=null===this.view.la,c=this.view;c.la||(c.la=Tr(Ut),c.B().appendChild(c.la));R.aa(c.la,!0);b&&(b=this.view.la)&&this.c.H(b,T,m(this.g,this));b=!0}"itemDeactivate"===a.getType()&&(R.aa(this.view.la,!1),b=!0);b&&(this.Wc(),a=new H("contentChange",this),a.h="parent_propagation",this.ba(a))};function fS(a,b,c){EK.call(this,a,b,c)}n(fS,eS);I.j().register("wnd.pc.CheckboxGroupOptions",iP,qP,fS);function gS(a,b,c){EK.call(this,a,b,c)}n(gS,eS);I.j().register("wnd.pc.RadioGroupOptions",kP,sP,gS);function hS(a,b,c){EK.call(this,a,b,c);this.view.Gi=this}n(hS,EK);hS.prototype.eh=function(a,b,c){var d=I.j(),e;c=c||this;if(Mg(d,a))e=d.get(a),e.view.tg=b,e.Ya()||e.show();else{var g=L.j().get("content_items").getData(a).type,h={id:a};c instanceof hS&&(h.properties={contentMap:iS(c,a,g)});e=d.create(a,g,b,c,h);a=new yg("dataCreate","parent_propagation",e.J(),e,e.getId());this.ba(a);e instanceof EK&&(a=e.f.m(),u(a,function(a){this.eh(a,e.Sa(),e)},this))}return e};
function iS(a,b,c){var d=N(a.f,"contentMap"),e;if(null!=d[c]&&na(d[c])){c=d[c];d={};for(e in c)d[c[e]]=e;e=d}else e={};d=e;b=null!=d[b]?d[b]:null;e=a.ca();(a=N(a.f,"contentIdentifier"))&&(e+="_"+a);return{parent:e,identifier:b}}hS.prototype.Gl=function(a,b){return ff(hS.l.Gl.call(this,a,b),{contentMap:iS(this,a,b)})};hS.prototype.X=function(){var a=I.j(),b=Bg.j().get("content_items"),c=[];z(N(this.f,"content"),function(a){c=zh(c,a)});Eh(c);u(c,function(c){Mg(a,c)||b["delete"](c)});hS.l.X.call(this)};
hS.prototype.getBounds=function(){return this.view.getBounds()};function kO(a,b,c){hS.call(this,a,b,c)}n(kO,hS);f=kO.prototype;f.kc=function(){return"form_field"};f.Ld=function(){return"FormFieldBaseHover"};f.Ja=function(){var a=[];jS(this)&&(!jS(this)||"name"!=N(this.f,"systemName"))||a.push(ti(li(ki(new ji,"field-properties"),this),m(this.az,this,"field-properties")));this.sc()&&this.xa&&a.push(pi(mi(ki(new ji,kS(this)),m(this.Kc,this)),!0));return a};function kS(a){var b="remove-confirm";XR(a.Z)&&(b="remove-form-confirm");return b}
f.az=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditFieldSettingsForm",b.view.M,b,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0}})};f.getId=function(){return this.f.getId()};f.Xd=function(){return this.f.Xd()};f.ze=function(a){null!==kH||kO.l.ze.call(this,a)};f.eh=function(a,b,c){a=kO.l.eh.call(this,a,b,c);a.L=!1;return a};f.ag=function(a,b){var c=kO.l.ag.call(this,a,b);c.L=!1;return c};
f.Kc=function(){var a=this.Z;XR(a)&&!1===cJ()?(a=a.Z,qH(this)&&qH(this).pb(this,null,!0),a.Kc()):kO.l.Kc.call(this)};f.ae=function(a){kO.l.ae.call(this,a);Om(rJ(this),function(b){if(b instanceof yO)throw lS(b,a),Lm;},this);return!0};function jS(a){return!0===N(a.f,"systemField")}f.sc=function(){return jS(this)?!1:kO.l.sc.call(this)};f.se=function(){var a;if(a=jS(this)){for(a=this.getParent();0==a instanceof mS;)a=a.getParent();a="wnd.pc.UserRegistrationFormBlock"!==a.ca()}return a?!1:kO.l.se.call(this)};function nS(a,b,c){hS.call(this,a,b,c)}n(nS,kO);nS.prototype.$d=function(){var a=this.view.B(),b=R.cc(a),c=x["wnd.pc.GroupField"].paddingBottom;b.bottom<c&&R.setStyle(a,"paddingBottom",c+"px");nS.l.$d.call(this);a=new H("itemActivate",this);a.h="children_propagation";this.ba(a)};nS.prototype.sb=function(){R.setStyle(this.view.B(),"paddingBottom","");nS.l.sb.call(this);var a=new H("itemDeactivate",this);a.h="children_propagation";this.ba(a)};function oS(a,b,c){hS.call(this,a,b,c)}n(oS,nS);I.j().register("wnd.pc.CheckboxGroupField",yP,UP,oS);function pS(a,b,c){hS.call(this,a,b,c)}n(pS,nS);I.j().register("wnd.pc.RadioGroupField",zP,VP,pS);function qS(a,b,c){hS.call(this,a,b,c)}n(qS,kO);function rS(a,b,c){hS.call(this,a,b,c)}n(rS,qS);I.j().register("wnd.pc.DateField",BP,XP,rS);function sS(a,b,c){hS.call(this,a,b,c)}n(sS,qS);I.j().register("wnd.pc.EmailField",CP,YP,sS);function tS(a,b,c){hS.call(this,a,b,c)}n(tS,qS);I.j().register("wnd.pc.FileUploadField",DP,ZP,tS);function uS(a,b,c){hS.call(this,a,b,c)}n(uS,qS);I.j().register("wnd.pc.LongTextField",EP,$P,uS);function vS(a,b,c){hS.call(this,a,b,c)}n(vS,qS);I.j().register("wnd.pc.NumberField",FP,aQ,vS);function wS(a,b,c){hS.call(this,a,b,c)}n(wS,qS);I.j().register("wnd.pc.PasswordField",GP,bQ,wS);function xS(a,b,c){hS.call(this,a,b,c)}n(xS,qS);I.j().register("wnd.pc.PhoneField",HP,cQ,xS);function xO(a,b,c){hS.call(this,a,b,c)}n(xO,qS);xO.prototype.Ja=function(){var a=[];a.push(pi(ti(li(ki(new ji,"edit-select-options"),this),m(this.g,this,"edit-select-options")),!0));return zh(a,xO.l.Ja.call(this))};xO.prototype.g=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditSelectboxFieldOptionsForm",b.view.M,b,{id:this.C(),properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0}})};I.j().register("wnd.pc.SelectboxField",IP,dQ,xO);function yS(a,b,c){hS.call(this,a,b,c)}n(yS,qS);I.j().register("wnd.pc.ShortTextField",JP,eQ,yS);function LO(a,b,c){a.Mm(c.C());hS.call(this,a,b,c)}n(LO,hS);f=LO.prototype;f.Ld=function(){return"PageBaseHover"};f.Ja=function(){var a=[];qO(this)&&a.push(pi(mi(ki(new ji,"edit"),m(this.Xc,this)),!0));return zh(a,LO.l.Ja.call(this))};f.Y=function(a){LO.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()==this.Z.J()&&a.g==this.Z.getId()&&this.f.update("data_updated")};
f.dispose=function(){this.f.Jl(function(a,b){if(b){var c=new gi("deleteItem",1);gr(Ph.j(),c);var d=Bg.j().get("listing_items");Zh(d,b["listing_items.id"],null,c)}},null,this);LO.l.dispose.call(this)};f.qo=function(){hS.prototype.dispose.call(this)};f.Xc=function(){this.f.Jl(function(a,b){window.location.href=t.listingsPrefix+b["listing_items.identifier"]+"/"},null,this)};f.$d=function(a){LO.l.$d.call(this,a);a=qH(this.Z);tK(a.view)};
f.Dc=function(a){LO.l.Dc.call(this,a);kG(this)&&a.stopPropagation();return!0};f.zj=function(){return this.f.zj()};function zS(a,b,c){LO.call(this,a,b,c)}n(zS,LO);I.j().register("wnd.pc.BlogItem",lQ,nQ,zS);function PR(a,b,c){this.D=!1;this.v=null;this.R=[];this.V=new rR(b.B(),m(this.bs,this));this.g={};this.ea=R.pa(document.body);hS.call(this,a,b,c);this.V.observe("onDragstart",this.xz,this);this.V.observe("onDragend",this.wz,this);this.V.observe("onDrop",this.yz,this);this.U=!1;this.V.init();this.U=!0;this.o=new lH(this.V);this.o.init();this.view.observe("onChangePageBackground",this.Pu,this);this.Bm=!0;setTimeout(m(this.Us,this),500)}n(PR,hS);f=PR.prototype;f.kc=function(){return"zone"};
f.bs=function(){sR(this.V);this.U&&z(this.g,function(a,b){Mg(I.j(),b)?I.j().get(b).rg():Ye(this.g,b)},this)};
f.rg=function(a,b){var c=this.V;if(WR(a))c.uc(a.B(),"bottom");else{var d=uR(a);XR(a)&&vO(d)||(d=tR(a),c.uc(a.B(),"left",null,d),c.uc(a.B(),"right",null,d))}c=b.length;for(d=0;d<c;d++){var e=this.V,g=b[d],h=g.B(),k=tR(g);nm(g)||BL(g)?(g instanceof zL||g instanceof cP||g instanceof TO)&&e.Ka(h,g):"wnd.pc.PhotoGalleryBlock"==g.ca()&&e.Ka(h,g);if(g instanceof EK){var p=void 0;for(p in Ra){var w=Ra[p],v=!1,C="left"==w||"right"==w;"bottom"!=w&&"right"!=w||!g.Ib?!vO(g)&&C?v=!0:vO(g)&&!C?v=!0:!C&&g.T&&(v=
!0):v=!1;v&&("left"==Ra[p]||"right"==Ra[p]?e.uc(h,Ra[p],null,k):e.uc(h,Ra[p]))}}else if((p=0==(g instanceof zL&&AL(g)))&&e.uc(h,"top"),!g.Vl()&&p&&(e.uc(h,"left",null,k),e.uc(h,"right",null,k)),!g.Ib&&p&&e.uc(h,"bottom"),g instanceof yO)for(h=g.Vf(),k=0,p=h.length;k<p;k++)0<k&&wR(e,h[k],"top",g),wR(e,h[k],"left",g),wR(e,h[k],"right",g)}this.g[a.C()]||(this.g[a.C()]=b)};
f.xz=function(a,b){if(!Qz){var c=null,d=null,e=[],g=!1,h=!1;if(ky(b.Bb,"wnd_insert_type"))c=jy(b.Bb,"wnd_insert_type"),Mg(I.j(),x.InsertContentPopup.mvcId)&&I.j().get(x.InsertContentPopup.mvcId).hide(),d=b.Bb;else{var k=b.tc;k instanceof rH&&(k=b.tc.Da());c=k.ca();k.Yb();d=k.B();k instanceof yL&&(e=k.El());h=g=!0;ma(k.Oo)&&(this.V.F=k.bk)}Uz(this.V,{blockType:c,sourceElement:d,floatElements:e,asSibling:g,realGrip:h})}};f.wz=function(){};
f.yz=function(a,b,c,d,e){var g=c.id;if(b.id!==g&&(ky(c,x.ContentBlock.separableParts.typeIsSeparable)&&(g=jy(c,x.ContentBlock.separableParts.typeSeparableId)),g)){var g=QP(g),h;BL(g)&&!1===g instanceof CL?h=g:h=xL(g);this.V.Ih&&(d="top");Tz(this.V);a=m(h.uw,h,a,b,c,d,e);b=jy(b,"wnd_insert_type");c=!0;e||(c=!FL(GL.j(),b,a));c&&a()}};f.Pe=function(a){null==Pz&&(a?(kr.j().reset(),this.V.reset(),this.o.reset(),this.V.init(),this.o.init()):IA(this.V,!0))};
f.O=function(){PR.l.O.call(this);this.c.H(this.ab(),T,m(this.ae,this));this.v=new Er(document.body);this.c.H(this.v,"key",this.zk)};f.Us=function(){if(R.pa(document.body).height!=this.ea.height){this.Pe(!0);var a=new H("contentChangeFinished");this.ba(a)}};f.Za=function(){PR.l.Za.call(this);null!==this.v&&(this.v.dispose(),this.v=null)};f.zk=function(a){PR.l.zk.call(this,a);a.ctrlKey&&!1===dM()&&!1===bS(this)&&(90===a.keyCode&&sM(),89===a.keyCode&&uM())};
function bS(a){var b=!1;a.P&&(b=!0);b||(b=Qe(dH(),function(a){return a.Fm()},a));return b}function AS(a){z(dH(),function(a){a.Fm()&&(this.D=!0,a.ra())},a);a.P&&(a.Gm(),clearTimeout(a.P),a.P=0)}f.ba=function(a){a instanceof yg&&"content_items"==a.J()&&a.c==this&&this.handleEvent(a);PR.l.ba.call(this,a)};
f.Y=function(a){if("content_items"==a.J()){if(this.D)this.Gm();else{var b=m(this.Gm,this,a);this.P&&clearTimeout(this.P);this.P=setTimeout(m(this.iq,this,b),200)}var b=null,c;if(c=null!=a.c)c=null!=a.c.B();c&&(b=a.c.B());uz(this,m(this.dr,this,a,b))}a.J()!=r.FeLanguages.DataType||"dataCreate"!=a.getType()&&"dataDelete"!=a.getType()||(b=Qi.j().vd(),yQ(this.view,1<b));"gui_pages"==a.J()&&a.g==t.page.id&&ma(a.c.Po)&&zQ(a.c.Po(),"title");"server_projects"==a.J()&&BS(this,a)};
function BS(a,b){var c=b.c;null!=c&&z(c.fb,function(a,b){switch(b){case "server_projects.favicon_w2":var c=JSON.parse(a),h=document.querySelector('link[rel="shortcut icon"]');null===h&&(h=ip("link",{rel:"shortcut icon"}),document.head.appendChild(h));h.href=po(c.src,c.dataType);break;case "server_projects.project_name":zQ(a,"name")}},a)}
f.Gm=function(){this.D=!1;var a=new gi("savePageData",this.R.length+1);gr(Ph.j(),a);var b=Bg.j().get("content_items"),c=m(this.Iw,this),b=Uh(b),d=b.fl();b.cq(d);var e=d.getData();!1===Xe(e)?(lf(d,m(b.Dy,b)),c&&lf(d,c),Rh(Ph.j(),d,a),b.A[d.getId()]=d):a&&Oh(Ph.j(),a);c=0;for(b=this.R.length;c<b;c++)Rh(Ph.j(),this.R[c],a);this.R=[]};f.Iw=function(){};
f.na=function(a){PR.l.na.call(this,a);var b=!1;"saveAndDeactivateContentItems"===a.getType()&&CS(this);"saveContentItems"===a.getType()&&AS(this);if("parent_propagation"==a.h&&a.c instanceof GM)switch(a.getType()){case "contentRemove":case "contentChange":b=!0;a.stopPropagation();break;case "microTemplateCellCreated":case "sectionCreated":case "formCreated":case "formFieldCreated":case "blogRecentPostsCreated":case "contentMove":case "fontChange":case "listingItemReload":b=!0}if("resizeWindow"===
a.getType()&&(b=!0,Mg(I.j(),x.InsertContentPopup.mvcId))){var c=I.j().get(x.InsertContentPopup.mvcId);c.Ra()&&c.hide()}if("delegatedStyleChanged"===a.getType()){var d=a.c,c=this.view,e=RG(d),d=N(d.f,"delegatedStyle");l(c.La[e])||(c.La[e]=document.querySelector('[data-wnd_delegated_style="'+e+'"]'));c=c.La[e];null!==c&&(c.className=d)}if(b){b=null;if(c=null!=a.c)c=null!=a.c.B();c&&(b=a.c.B());uz(this,m(this.dr,this,a,b))}};
f.dr=function(a,b){if(!cJ()){if(this.Bm){this.Pe(!0);var c=new H("contentChangeFinished");this.ba(c)}this.Bm=!0;var c=this.view,d=b||c.B();null===d.parentNode&&(d=c.B());qv("wnd-content-change",d)}};function KR(a){var b;if(b=!!bv("showColorSchemes"))b=null!=rQ(a.view);return b}f.yk=function(){return this.f.Uc()};
function TN(a){if(!bv("showColorSchemes"))return[];var b=[],c=bv("colorScheme");z(c,function(a,c){pv(c)||("none"===a.backgroundType?b.push(QC(PC(JC(YD(KC((new XD).Ha(c),a.color),mE),"solidColorSchemes"),"wnd-bgr-fx wnd-overlay-none"),a.backgroundType)):b.push(QC(JC(YD(KC((new XD).Ha(c),a.color),jE),"solidColorSchemes"),a.backgroundType)))},a);return b}function LN(){var a=pQ();return null!=a.colorScheme?a.colorScheme:null}
f.ud=function(){var a=pQ();return null!=a.backgroundSettings&&null!=a.backgroundSettings[FN()]?a.backgroundSettings[FN()]:null};function wN(a,b,c){a.view.Ch(b,LN());MN(a.f,b,c,!0);b=new H("colorSchemeChange",a);b.h="children_propagation";a.ba(b);qv("wnd-redraw",a.B())}
function KN(a,b,c){if("videos"!=b.ja){var d=null;"patterns"!=b.ja&&(d=q.FilesystemPreviewSize.small);Uq(Tq.j(),b.ya(),b.J(),m(function(a){var d=b.J();if("static_server"===d){var h=Sk(a),k=0,p=h.c.split("/"),w=0;switch(d){case "filesystem_files":w=4;break;case "static_server":w=6;break;default:throw new Oa("Unknown dataType: "+d);}p.length===w&&(d=parseInt(p[p.length-2],10),Ka(q.FilesystemPreviewSize,d)&&(k=d));k===q.FilesystemPreviewSize.small&&(h.h.remove("t"),a=h.toString())}uQ(this.view,a,c)},
a),null,d,!0)}"videos"==b.ja&&(d=iD(hD.j(),b),a.view.lh(vN(a)),wQ(a.view,d,c),a=I.j(),Mg(a,q.VideoLoaderManager.mvcID)&&a.get(q.VideoLoaderManager.mvcID).ha())}function ON(a,b,c,d){var e=c.getId();if("none"===e||"fx-none"===e)e="";xQ(a.view,e,a.Fc(b),b);a=a.f;var e=Bg.j().get("template_styles"),g=Uh(e).getData("background")||{};"none"===c.getId()||"fx-none"===c.getId()?l(g[b])&&delete g[b]:g[b]=c.getId();e.update("background",g);d||HN(a)}
function VN(a,b){KN(a,b);if(b.c)ON(a,"effects",b.c,!0);else{var c=NN("effects");null!=c&&ON(a,"effects",c,!0)}var c=a.f,d=PN(b,!0),e=b.ke;if(null!=e){var g=VG(e);d.backgroundSettings[FN()].effectDefinition={type:e.getType(),parent:g}}"videos"==b.ja&&(d.backgroundSettings[FN()].poster={id:b.getId(),src:b.bb,dataType:b.J(),width:b.Ma()||null,height:b.getHeight()||null});Ag(Bg.j().get("template_styles"),d);HN(c);QN(a)}
function vN(a){var b=["wnd-background-image","wnd-background-pattern"],c=a.Fc("effects");c&&b.push(c);(c=a.Fc("overlays"))&&b.push(c);(a=a.Fc("position"))&&b.push(a);return b}function NN(a){a=mv(a);return null!=a?(new XD).Ha(a):null}function CS(a){z(dH(),function(a){a.sb()},a);AS(a)}function dO(a){var b=[],c=bv("background","attachment");null!=c&&z(c,function(a,c){l(a.type)&&"attachment"===a.type&&b.push(YD(PC((new XD).Ha(c),"wnd-bgr-fx wnd-preview-"+c),mE))},a);return b}
f.Fc=function(a){var b=pQ();return null!=b.background&&null!=b.background[a]?b.background[a]:"effects"===a?"fx-none":""};function QN(a){var b=a.ud();if(b&&l(b.id)&&l(b.src)&&l(b.dataType)&&l(b.mediaType)){var c=b.id,d=b.src,e=b.dataType;b.poster&&(c=b.poster.id,d=b.poster.src,e=b.poster.dataType);er(new br(c,d,e),m(a.vz,a))}}f.vz=function(a){a=PG(this,a);a=nv(a);wN(this,a,!1);fO(this)};
function fO(a){null!=a.f.Kd()&&(a=I.j(),Mg(a,q.VideoLoaderManager.mvcID)&&a.get(q.VideoLoaderManager.mvcID).ha())}f.Pu=function(){var a=new H("pageBackgroundChange",this);this.ba(a);qv("wnd-redraw",this.B())};I.j().register("wnd.pc.PageZone",oQ,qQ,PR);function DS(a,b,c){EK.call(this,a,b,c)}n(DS,EK);DS.prototype.kc=function(){return"column_wrapper"};
DS.prototype.Jb=function(a,b,c,d){DS.l.Jb.call(this,a,b,c,d);if(!this.I&&!cJ()){c=this.f.m();a=!1;if("data_deleted"==b&&WR(this))this.dispose();else if("data_deleted"==b&&XR(this))a=!0,b=uR(this),UR(b,this.Z,this,"bottom"),b.dispose(),this.dispose();else if("data_created"==b)if(a=!0,null!==this.Xi){d=rJ(this);var e=d.length;b=[];c=100;for(var g=0,h=0;h<e;h++)-1==this.Xi.indexOf(d[h])?(b.push(d[h]),g+=wJ(d[h])):c-=wJ(d[h]);this.Xi=null;if(g!==c)for(d=b.length,e=100-c,g=0;g<d;g++)h=wJ(b[g]),h=parseFloat((c-
c/100*h).toFixed(2)),b[g].Tc(h),e+=h,d===g+1&&(100<e?(h=parseFloat((h-(e-100)).toFixed(2)),b[g].Tc(h)):100>e&&(h=parseFloat((h+(100-e)).toFixed(2)),b[g].Tc(h)))}else{ES(this);b=rJ(this);c=b.length;d=parseFloat((100/c).toFixed(2));for(var e=null,h=g=0,k=!1,p=0;p<c;p++)if(0===wJ(b[p])){if(null!==e){k=!0;e=null;break}e=b[p]}else{var h=h+wJ(b[p]),w=parseFloat((wJ(b[p])-d/100*wJ(b[p])).toFixed(2)),v=parseFloat((w-d).toFixed(2)),v=0>v?-1*v:v;.01!==v||100!==d*c&&99.99!==d*c||(w=d);b[p].Tc(w);g+=w}null!==
e&&e.Tc(parseFloat((h-g).toFixed(2)));if(!0===k)for(d=parseFloat((100/c).toFixed(2)),e=0;e<c;e++)b[e].Tc(d)}else if("data_deleted"==b&&1<c.length){a=!0;b=rJ(this);c=b.length;d=parseFloat((100/c).toFixed(2));e=0;g=null;for(h=0;h<c;h++)wJ(b[h]),e+=d,100<e&&(d=parseFloat((d+(100-e)).toFixed(2))),b[h].Tc(d),g=b[h];null!==g&&(100>e&&(d=parseFloat((d+(100-e)).toFixed(2)),g.Tc(d)),FS(g).init())}a&&this.bi(!0)}};
function ES(a){var b=N(a.f,"widthPercentage");"undefined"===typeof b&&(b=100/(R.getBounds(a.B()).width/x.ContentResizeStripe.minDifference),b=parseFloat(b.toFixed(2)),Wi(a.f,"widthPercentage",b));return b}DS.prototype.bi=function(a){for(var b=rJ(this),c=b.length,d=0;d<c;d++)b[d].bi(a)};I.j().register("wnd.pc.ContentZoneColWrapper",AQ,BQ,DS);function GS(a,b,c){EK.call(this,a,b,c);this.zg=wJ(this)}n(GS,EK);function FS(a){var b=a.getId()+x.ContentResizeStripe.suffixId;!0===Mg(I.j(),b)?a.g=I.j().get(b):a.g=I.j().create(b,"wnd.pc.ContentResizeStripe",Dx(),a);return a.g}f=GS.prototype;f.kc=function(){return"column"};f.Jb=function(a,b,c,d){GS.l.Jb.call(this,a,b,c,d);this.I||cJ()||"data_deleted"!=b||(WR(this)?this.dispose():XR(this)&&(a=uR(this),vO(a)&&UR(a,this.Z,this,"bottom")))};
function wJ(a){if("undefined"===typeof N(a.f,"style"))return 0;a=N(a.f,"style").width;return"undefined"===typeof a?0:a}
function xJ(a,b,c){var d=ES(a.Z),e=a.zg,g=!1,h=0,k=wJ(a);0!==c&&("left"===b?(e=a.zg-d*c,h=k-e,g=!0):"right"===b&&(e=a.zg+d*c,h=e-k,g=!1));e=parseFloat(e.toFixed(2));if(!(b=e<x.ContentResizeStripe.minWidth)){a:{b=a.getParent();b=rJ(b);c=0;for(d=b.length;c<d;c++)if(wJ(b[c])>x.ContentResizeStripe.minWidth){b=!0;break a}b=!1}b=!1===b}if(!b&&!0===a.Tc(e))a:{c=a.getParent();b=h;var d=g,g=null,p,w=!0,h=0;c=rJ(c);for(var v=0,C=c.length;v<C;v++)h+=wJ(c[v]),a===c[v]?w=!1:!0!==w&&null===g&&(0===b?p=c[v].zg:
p=!0===d?parseFloat((wJ(c[v])+b).toFixed(2)):parseFloat((wJ(c[v])-b).toFixed(2)),g=c[v],h-=wJ(c[v]));100<p+e&&(p-=parseFloat((p+e-100).toFixed(2)));100>h&&(p=parseFloat((100-h).toFixed(2)));if(p<x.ContentResizeStripe.minWidth){b=x.ContentResizeStripe.minWidth-p;if(e-b<x.ContentResizeStripe.minWidth){a.Tc(k);break a}p=x.ContentResizeStripe.minWidth;k=parseFloat((e-b).toFixed(2));a.Tc(k)}100<h&&(k=parseFloat((e-(h-100+p)).toFixed(2)),a.Tc(k));null!==g&&g.Tc(p)}}
f.Tc=function(a){if(0>=a||100<a)return!1;var b={};"object"===typeof N(this.f,"style")&&(b=af(N(this.f,"style")));b.width=a;this.f.P=!0;this.view.Tc(a);Wi(this.f,"style",b);this.f.P=!1;return!0};f.bi=function(a){for(var b=rJ(this,!0),c=b.length,d=0;d<c;d++)nm(b[d])&&b[d].Xg()&&b[d].resize(a)};f.nm=function(a,b,c,d,e,g){GS.l.nm.call(this,a,b,c,d,e,g);"error"===c&&WR(this)&&this.dispose()};
f.na=function(a){GS.l.na.call(this,a);"contentChangeFinished"!==a.getType()||"children_propagation"!==a.h||!this.Ib||FS(this).init()};I.j().register("wnd.pc.ContentZoneCol",CQ,DQ,GS);function QG(a,b,c){hS.call(this,a,b,c);this.U=this.g=this.o=this.D=null;this.ea=!1;this.view.observe("onAfterChangeColorScheme",this.fm,this)}n(QG,hS);f=QG.prototype;f.kc=function(){return"section"};function HS(a){if(a.yi()){var b=a.getBounds(),c=kr.j();c.Ka(b,"sectionToolbox","mouseover",m(a.kr,a),0,a.Nd());c.Ka(b,"sectionToolbox",gq,m(a.ir,a),0,a.Nd());a.Nf=!0;IS(a)}}f.Yd=function(){QG.l.Yd.call(this);HS(this)};
f.$s=function(){this.o=E.j().create("wnd.pc.EditSectionPopup","wnd-popup-edit_"+this.C(),document.body,this,{withOverlay:!1},{coordinates:m(this.ut,this),sectionId:this.C(),useLayoutOptions:this.ea});this.Yb();this.o.observe("onRemove",this.Cz,this);this.o.observe("onAfterClose",this.vu,this);this.kr();Zf.j().A[JS(this)]=this.o};function uN(a,b){a.view.lh("default");a.view.Ch(b,a.f.Sf(),!0);cR(a.f,b,!0);CN(a)}f.fm=function(){var a=new H("colorSchemeChange",this);a.h="children_propagation";this.ba(a)};
function zN(a,b,c){a=af(a.f.getData());null!=a.style||(a.style={});null!=a.style.background||(a.style.background={});null!=a.style.background["default"]||(a.style.background["default"]={});c&&(a.style.background["default"][b]=c);null!=a.style.backgroundSettings||(a.style.backgroundSettings={});if(!l(a.style.backgroundSettings["default"])||ha(a.style.backgroundSettings["default"]))a.style.backgroundSettings["default"]={};return a}
function IN(a,b,c,d){var e=xN(a.f,yN);d=zN(a,e,d);var g={id:b.getId(),src:b.ya(),dataType:b.J(),mime:b.Rc,mediaType:b.ja||null,width:b.Ma()||null,height:b.getHeight()||null};c?(cf(d.style.backgroundSettings["default"][e],g),null!=d.style.backgroundSettings["default"][e].poster&&delete d.style.backgroundSettings["default"][e].poster,"videos"==b.ja&&(d.style.backgroundSettings["default"][e].poster={id:b.getId(),src:b.bb,dataType:b.J(),width:b.Ma()||null,height:b.getHeight()||null})):d.style.backgroundSettings["default"][e]=
g;c=!1;if(null!=a.f.Kd()||"videos"==b.ja||b.ja==fr)c=!0;a.observe("afterChangeBackground",m(a.tu,a,b,c),a);return d}function AN(a,b,c){!1===(null!=a.style.colorScheme)&&(a.style.colorScheme={});a.style.colorScheme[b]=c}function BN(a,b){var c=(new XD).Ha("none");b.style=ff(b.style,aO(a,c,"effects"));b.style=ff(b.style,aO(a,c,"overlays"))}
function UN(a,b){var c=xN(a.f,yN),d=IN(a,b,!0);if(b.c)var e={style:aO(a,b.c,"effects")},d=ff(d,e);e=b.ke;if(null!=e){var g=VG(e);d.style.backgroundSettings["default"][c].effectDefinition={type:e.getType(),parent:g}}else JN(a,d,"effects",c);Xi(a.f,d,!0)}function eO(a){null!=a.f.Kd()&&(a=I.j(),Mg(a,q.VideoLoaderManager.mvcID)&&a.get(q.VideoLoaderManager.mvcID).ha())}f.tu=function(a,b){bO(this);b&&eO(this);Ih(this,"afterChangeBackground")};
function JN(a,b,c,d){var e=mv(c,"section",RG(a));if(e)a=e;else if(e=L.j().get("section_styles").getData(),e[RG(a)]&&e[RG(a)].background&&e[RG(a)].background[c]){var g=xN(a.f,yN);a=e[RG(a)].background[c][g]}else a=null;l(b.style.background)||(b.style.background={});l(b.style.background[c])||(b.style.background[c]={});b.style.background[c][d]=null!=a?a:""}f.Ua=function(a){QG.l.Ua.call(this,a);this.notify("afterChangeBackground");a=new H("sectionBackgroundChange",this);this.ba(a)};
function aO(a,b,c){b=b.getId();"none"===b&&(b="");a=xN(a.f,yN);var d={background:{}};d.background[c]={};d.background[c][a]=b;return d}f.getStyle=function(a,b){return this.f.getStyle(a,b)};f.Cz=function(){this.sc()&&(eO(this),requestAnimationFrame(m(function(){this.o.hide(null,!0);var a=new Aw(this.B(),x.ContentItem.fxDurationRemove);Vm(a,"end",m(this.dispose,this));a.play()},this)))};f.X=function(){Zf.j().remove(JS(this));this.g&&this.g.dispose();QG.l.X.call(this)};
f.ud=function(){var a=N(this.f,"style"),b=xN(this.f,yN);return!0===(null!=a.backgroundSettings)&&!0===(null!=a.backgroundSettings["default"])&&!0===(null!=a.backgroundSettings["default"][b])?a.backgroundSettings["default"][b]:null};
f.yi=function(){if(null==this.D){var a;if(!(a=this.sc())&&(a=JR(this)))a:{a=this.view;if(!0===l(a.W)){if(ky(a.c,"wnd_section_background")&&jy(a.c,"wnd_section_background").match("\\bdefault\\b")){a=a.W=!0;break a}a.W=null!=a.c.querySelector('[data-wnd_section_background~="default"]')}a=a.W}this.D=a||1==kv(this)||LR(this)}return this.D};function JS(a){return a.C()+"_toolbox"}function KS(a){a.U||(a.U=[pi(mi(ki(new ji,"section-edit"),m(a.$s,a)),!0)]);return a.U}
f.kr=function(){var a=!1;!this.yi()||Zf.j().Ra(JS(this))||this.animate&&(1==this.animate.ec||!0!==qO(this))||(Zf.j().show(JS(this),KS(this),this.Nd())&&this.Nf&&(IS(this),this.Nf=!1),a=!0);return a};f.ir=function(){Zf.j().hide(JS(this));return!0};f.ut=function(){var a=Zf.j().get(JS(this));return R.getBounds(a.le("section-edit"))};function IS(a){var b=Zf.j();a.yi()&&$f(b,JS(a))&&(b=b.get(JS(a)),b.Ya()&&(a=a.view.getBounds(),a.top+=x.Section.topOffset,b.f.qd=a,gG(b)))}f.vu=function(){LS(this)};
f.Jh=function(){return this.f.Jh()};f.Sf=function(){return this.f.Sf()};function MH(a){var b=a.getBounds(),c=a.view.Dl();a=a.view.Ej();return b.height+c.height+x.PageZoneModel.topOffset>=a.height}function MS(a,b,c){LH=!1;a.g&&(a.g.dispose(),a.g=null);c||MH(a)?a.view.kq():(c=a.B(),a.animate=new rw(c,[x.Section.animation.end],[x.Section.animation.start],x.Section.animation.collapseTime,de),a.animate.H("animate",m(a.jr,a,b)),a.animate.H("end",m(a.view.kq,a.view)),a.animate.play())}
f.jr=function(a,b){if("top"==a){var c=this.view,d=b.c[0];c.B().style.marginTop=d+"px";var e=c.getBounds();R.setPosition(c.ef(),e.left,e.top-d)}else c=this.view,d=b.c[0],c.B().style.marginBottom=d+"px",e=c.getBounds(),R.setPosition(c.ef(),e.left,e.top+e.height);R.setSize(c.ef(),e.width,d);IS(this)};f.Aa=function(){this.g||(this.g=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.view.ef(),this,{properties:{type:"section"}}));this.g.show()};
function kv(a){a=hv(RG(a),"colorScheme");var b=L.j().get(Ea.PageStyles.dataType).getData("colorScheme");return a&&l(a[b])?a[b]:null}function JR(a){a=hv(RG(a),"background");return null!=a&&We(a,"default")}function LR(a){a=gv(RG(a));return ha(a)&&1<a.length}function cO(a){var b=[],c=hv(RG(a),"background");null!=c&&We(c,"attachment")&&z(c.attachment,function(a,c){l(a.type)&&"attachment"===a.type&&b.push(YD(PC((new XD).Ha(c),"wnd-bgr-fx wnd-preview-"+c),mE))},a);return b}
f.Fc=function(a){var b=N(this.f,"style"),c=xN(this.f,yN);return!0===(null!=b.background)&&!0===(null!=b.background[a])&&!0===(null!=b.background[a][c])?b.background[a][c]:""};f.Sk=function(){var a=this.getBounds().top<=x.PageZoneModel.topOffset,b=this.jb instanceof NS;return"page"===this.getContext()&&!a&&!b};f.Qk=function(){return!0};
f.ka=function(a){QG.l.ka.call(this,a);a=this.B();var b=x.Section.renderAnimation.start,c=R.pa(this.B()).height;a=new rw(a,[b],[c],x.Section.renderAnimation.expandTime,de);a.H("begin",m(this.ix,this));a.H("animate",m(this.hx,this));a.H("end",m(this.jx,this));a.play()};f.ix=function(){this.Yb();kr.j().pause();vJ("DisableContent").show()};
f.hx=function(a){a=a.c[0];R.setHeight(this.B(),a);var b=x.PageZoneModel.topOffset,c=R.Kg(this.B()),d=ep(window),e=R.Zb(document);c.y+a+b>d.height&&c.y>b&&c.y<d.height&&window.scrollTo(0,parseInt(e.y+c.y+a+b-d.height,10))};f.jx=function(){this.B().style.height="";tr(kr.j());vJ("DisableContent").hide();var a=new H("contentChange",this);this.ba(a)};f.mg=function(){cJ()&&this.view.wi()};
f.na=function(a){QG.l.na.call(this,a);"resizeWindow"===a.getType()&&IS(this);"contentChangeFinished"===a.getType()&&"children_propagation"===a.h&&(LS(this),HS(this))};function LS(a){if(Zf.j().Ra(JS(a))){var b;b=kr.j().F;var c=a.getBounds();b&&(b.y<=c.top||b.y>=c.top+c.height)&&a.ir()}}function bO(a){var b=a.ud();if(b&&l(b.id)&&l(b.src)&&l(b.dataType)&&l(b.mediaType)){var c=b.id,d=b.src,e=b.dataType;b.poster&&(c=b.poster.id,d=b.poster.src,e=b.poster.dataType);er(new br(c,d,e),m(a.Bz,a))}}
f.Bz=function(a){a=PG(this,a);var b=this.f.Sf();(a=nv(a,"section",RG(this)))&&b!==a&&(this.view.Ch(a,b,!1),cR(this.f,a,!1));CN(this);eO(this)};f.Y=function(a){if("parent_propagation"==a.h&&"dataDelete"==a.getType()&&this.sc()&&1<OS(this.Z).length){for(var b=!0,c=rJ(this),d=0;d<c.length;d++)if(!BL(c[d])||!WR(c[d])){b=!1;break}b&&this.dispose()}QG.l.Y.call(this,a)};
function CN(a){var b=I.j().get(x.PageZoneModel.ZoneId),b=lv(b.yk());l(b.delegatedStyles)&&-1!==nh(b.delegatedStyles,RG(a))&&(Xi(a.f,{delegatedStyle:a.B().className}),a.ba(new H("delegatedStyleChanged",a)))}f.sc=function(){this.f.options.gc&&u(rJ(this,!0),function(a){a instanceof PS&&(this.f.options.gc=!1)},this);return this.f.options.gc};I.j().register("wnd.pc.Section",$Q,jR,QG);function NS(a,b,c){QG.call(this,a,b,c)}n(NS,QG);NS.prototype.Sk=function(){return!1};NS.prototype.Qk=function(){return!1};I.j().register("wnd.pc.BlogDetailHeaderSection",eR,lR,NS);function vR(a,b,c){QG.call(this,a,b,c)}n(vR,QG);I.j().register("wnd.pc.BlogSection",fR,mR,vR);function NR(a,b,c){QG.call(this,a,b,c)}n(NR,QG);I.j().register("wnd.pc.FooterSection",gR,nR,NR);function MR(a,b,c){QG.call(this,a,b,c);this.ea=t.page.isHomepage}n(MR,QG);MR.prototype.yi=function(){return MR.l.yi.call(this)||t.page.isHomepage};MR.prototype.Sk=function(){return!1};MR.prototype.Qk=function(){return!1};I.j().register("wnd.pc.HeaderSection",hR,oR,MR);function QS(a,b,c){QG.call(this,a,b,c)}n(QS,QG);I.j().register("wnd.pc.MasterSection",iR,pR,QS);function RS(a,b,c){EK.call(this,a,b,c)}n(RS,EK);function SS(a){if(a.g){var b=a.B();a.g.c=b;a.g.observe("onDragstart",a.hn,a);a.g.observe("onDragend",a.Ny,a);a.g.observe("onDrop",a.jn,a);a.g.init()}}f=RS.prototype;f.hn=function(a,b){var c=b.tc;c&&(c instanceof rH&&(c=b.tc.Da()),c.Yb());!0===ma(c.Oo)&&(this.g.F=c.bk);Uz(this.g,{blockType:c.ca(),sourceElement:c.B(),limitingBlock:c.Z.B(),parentContainer:c.Z,asSibling:!0,realGrip:!0})};f.Ny=function(){};
f.jn=function(a,b,c,d,e){a=QP(c.id);b=e;b instanceof rH&&(b=e.Da());a.C()!==b.C()&&b.move(this,a,d);this.g.reset();this.g.init()};f.Pe=function(){if(this.g&&null==Pz){this.g.reset();var a=this.B();this.g.c=a;this.g.init()}};f.X=function(){this.g&&(this.g.dispose(),this.g=null);RS.l.X.call(this)};f.Go=function(){return rJ(this)};
f.$r=function(){for(var a=this.Go(),b=null,c=null,d=!1,e=BJ(this),g=0,h=a.length;g<h;g++){b=a[g];d=g==h-1;if(!d&&"x"==e)var k=c=a[g+1],c=b.getBounds(),k=k.getBounds(),d=c.left>k.left;var c=this.g,k=b,p="left",w="right";"y"==e&&(p="top",w="bottom");var v=k.B();c.uc(v,p,null,"wnd.pc.ContainerDropStripe",!0);c.Ka(v,k);d&&c.uc(v,w,null,"wnd.pc.ContainerDropStripe",!0);this.In(b)}var a=this.g,e=qR("wnd.pc.ContainerDragDrop"),C;for(C in e)for(var G in Ra)b=Ra[G],a.Ka(e[C].view.g[b],e[C])};
function BJ(a){var b=rJ(a),c="x";D(b)||(b=R.pa(b[0].B()),a=R.pa(a.B()),1==Math.round(a.width/b.width)&&(c="y"));return c}f.In=function(){};f.na=function(a){RS.l.na.call(this,a);"contentChangeFinished"===a.getType()&&"children_propagation"===a.h&&this.Pe()};function TS(a,b,c){this.g=new DJ(this);EK.call(this,a,b,c)}n(TS,RS);TS.prototype.o=null;TS.prototype.Pe=function(){0<this.F.length&&(TS.l.Pe.call(this),this.o&&(this.o.reset(),this.o.init()))};TS.prototype.Yd=function(){TS.l.Yd.call(this);SS(this);this.o||(this.o=new yH(this.g),this.o.init())};TS.prototype.X=function(){this.o&&this.o.dispose();TS.l.X.call(this)};function US(a,b,c){this.g=new OH(this);EK.call(this,a,b,c);this.la=this.ea=!1}n(US,RS);function uL(a,b,c,d,e,g){var h=[];a.ea=!0;d=d||"default";var k=YR(a,xv,e,g);c&&(k.data.emptyContent=c);k.data.section=b;k.data.variant=d;b=VS(a,b);k.data.colorSchemes=b;lf(k,m(a.Kw,a,e,g));h.push(k);return h}f=US.prototype;
f.Kw=function(a,b,c,d){c=d.id;this.ea=!1;null!=this.o&&(MS(this.o,this.U,!0),this.o=null);a=ZR(this,c,a,b,{newSection:!0});WS(this,rJ(a,!0));b=new H("sectionCreated",a);this.ba(b);O(a.f,"newSection",!1);this.la&&(vC(wC.j()),this.la=!1)};function WS(a,b){var c=I.j().get(q.ImageSizeManager.mvcID);u(b,function(a){c.Ka(a.C(),a.ca())},a)}
f.Jb=function(a,b,c,d){US.l.Jb.call(this,a,b,c,d);if("page"===this.getContext()&&0==this.la&&!1===cJ()&&D(OS(this))&&!XS(this)&&!YS(this))for(this.la=!0,a=I.j().get(x.PageZoneModel.ZoneId),b=uL(this,"default",!0),c=0;c<b.length;c++)a.R.push(b[c])};function XS(a){var b=rJ(a),c=[],d=!1;u(b,function(a){KH(a)&&c.push(a)},a);1!=c.length||c[0].sc()||(b=c[0].getBounds(),d=a.view.Dl(),a=a.view.Ej(),d=b.height+d.height+x.PageZoneModel.topOffset>=a.height);return d}
f.Y=function(a){"parent_propagation"==a.h&&(a=m(this.Qt,this,a),this.P&&clearTimeout(this.P),this.P=setTimeout(m(this.iq,this,a),100))};function OS(a){var b=[],c=rJ(a);u(c,function(a){KH(a)&&a.sc()&&b.push(a)},a);return b}function YS(a){var b=!1,c=rJ(a);u(c,function(a){KH(a)&&a instanceof NS&&(b=!0)},a);return b}f.Qt=function(){if(!WR(this)||YS(this)){var a=rJ(this);u(a,function(a){KH(a)&&IS(a)},this)}};
f.as=function(){for(var a=rJ(this),b=!1,c=0,d=a.length;c<d;c++){var b=c==d-1,e=this.g,g=a[c],h=g.B();e.uc(h,"top",null,"",!0);e.Ka(h,g);b&&e.uc(h,"bottom",null,"",!0)}};f.Yd=function(){US.l.Yd.call(this);this.se()&&SS(this);this.D=new NH(null,m(this.Ct,this));this.D.init()};function ZS(a,b,c,d,e){var g=a.top;"bottom"===d&&(g=a.top+a.height);return{$x:new pm(a.left,g,a.width,0),gs:new pm(a.left,g-b,a.width,2*c),position:d,Dq:e}}
f.Ct=function(){var a=rJ(this),b=x.AddSectionManager.maxDistance,c=[],d=this.view.Ej();if("page"==this.getContext()){var e=null,g=null;u(a,function(a){e=a.getBounds();g=b;!a.jb&&(g=0);a.Sk()&&c.push(ZS(e,g,b,"top",a.C()));a.Ib||!a.Qk()&&!D(c)||(g=b,e.top+e.height>d.height-b/2&&(e.height=e.height-b),c.push(ZS(e,g,b,"bottom",a.C())))},this);D(c)&&(e=R.getBounds(this.B()),c.push(ZS(e,b,b,"top",this.C())))}return c};
function VS(a,b){if(!hv(b,"changeByContent"))return[];var c=$S(a),d=[];u(c,function(a){var b="";"none"===a.Jh()?b=L.j().get(Ea.PageStyles.dataType).getData("colorScheme"):b=a.Sf();d.push(b)},a);return d}function $S(a){if(!a.o)return[];var b=null,c=[a.o];a.o.jb||"top"!==a.U?"top"===a.U?b=a.o.jb:(b=a.o.Ib,null===b&&(a=a.Ib)&&"wnd.pc.SectionWrapper"===a.ca()&&(b=uR(a))):(a=a.jb)&&"wnd.pc.SectionWrapper"===a.ca()&&(b=null,WR(a)||(b=a.f.m(),b=QP(b[b.length-1])));b&&c.push(b);return c}
f.Aq=function(a){var b=E.j().create("wnd.pc.InsertContentPopup",x.InsertContentPopup.mvcId,Dx(),tz(this),{destroyAfterClose:!1,centered:!1});eH(b,nL);this.o?(gH(b,this.o.B(),this.U),eC(b,"onSelectInsertType",this.Qw,this),eC(b,"onClose",this.Vv,this)):gH(b,this.B(),"bottom");hH(b,a)};f.Qw=function(){this.ea=!0;this.o.Aa()};f.Vv=function(){tr(kr.j());this.ea||(MS(this.o,this.U),this.o=null)};f.Pe=function(){0<this.F.length&&(this.se()&&US.l.Pe.call(this),this.D.reset(),this.D.init())};
f.X=function(){this.D&&this.D.dispose();US.l.X.call(this)};I.j().register("wnd.pc.SectionWrapper",lP,tP,US);function aT(a,b,c){TS.call(this,a,b,c);this.T=!0}n(aT,TS);f=aT.prototype;f.kc=function(){return"microtemplate"};f.jv=function(a,b,c,d){c=d.id;cS(this);a=ZR(this,c,a,b,{newCell:!0});XR(this)&&this.view.fc();a.mg();b=new H("microTemplateCellCreated",a);this.ba(b);O(a.f,"newCell",!1);vJ("DisableContent").hide()};
f.Sq=function(a,b){vJ("DisableContent").show();kr.j().pause("addContent",!0);oH();this.ba(new H("saveContentItems",this));var c,d=[];c=b||"bottom";a&&$R(this,a,c);var e=YR(this,Jg,a,c);lf(e,m(this.jv,this,a,c));d.push(e);c=new gi("createMicroTemplateCell",d.length);vL(Ph.j(),d,c);d=new H("inspectletInfo1",this);this.ba(d)};f.In=function(a){var b=rJ(a);u(b,function(b){0==b instanceof yO&&this.g.Ka(b.B(),a)},this)};
f.Y=function(a){aT.l.Y.call(this,a);"parent_propagation"==a.h&&"dataDelete"==a.getType()&&a.J()==this.J()&&a.c instanceof TJ&&WR(this)&&this.sc()&&this.Kc()};I.j().register("wnd.pc.MicroTemplate",xR,yR,aT);function TJ(a,b,c){a.Cn=c.C();hS.call(this,a,b,c);this.o="wnd.pc.ImageBlock wnd.pc.PhotoGalleryBlock wnd.pc.TextBlock wnd.pc.StyledInlineTextBlock wnd.pc.InlineTextBlock wnd.pc.ButtonBlock wnd.pc.MapBlock wnd.pc.VideoBlock wnd.pc.LogoBlock wnd.pc.HtmlBlock".split(" ");this.G=[]}n(TJ,hS);f=TJ.prototype;f.kc=function(){return"microtemplate_cell"};f.Ld=function(){return"MicroTemplateCellBaseHover"};
f.Y=function(a){TJ.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()==this.Z.J()&&a.g==this.Z.getId()&&this.f.update("data_updated")};f.Dc=function(a){TJ.l.Dc.call(this,a);kG(this)&&(qH(this.Z).pb(),a.stopPropagation());return!0};f.ze=function(a){null!==kH||TJ.l.ze.call(this,a)};f.eh=function(a,b,c){a=TJ.l.eh.call(this,a,b,c);a.L=!1;return a};f.ag=function(a,b){var c=TJ.l.ag.call(this,a,b);c.L=!1;return c};f.$i=function(){var a=rJ(this);u(a,function(a){kG(a)&&a.sb()},this)};
function bT(a){a=dv(RG(a));return l(a.hasLink)?!!a.hasLink:!1}
f.Ja=function(){var a=[];if(N(this.f,"link")){var b=0!==N(this.f,"link").indexOf("/");a.push(ri(qi(oi(ki(new ji,"go-to"),N(this.f,"link")),N(this.f,"link")),b));a.push(ti(ni(li(ki(new ji,"edit-or-remove-link"),this),"Edit link"),m(this.ar,this,"edit-or-remove-link")))}var c=rJ(this);u(this.o,function(b){z(c,function(c){b===c.ca()&&(a=zh(a,c.oe()))},this)},this);bT(this)&&!N(this.f,"link")&&a.push(ti(li(ki(new ji,"add-link"),this),m(this.ar,this,"add-link")));return zh(a,TJ.l.Ja.call(this))};
f.ar=function(a,b,c){return I.j().create(this.C()+"_"+a,"wnd.pc.EditLinkForm",b.view.M,b,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0,canBeEmpty:"edit-or-remove-link"===c.c}})};f.yv=function(a){for(var b=0,c=this.G.length;b<c;b++)if(kG(this.G[b])){lS(this.G[b],a);return}lS(this.G[0],a)};I.j().register("wnd.pc.MicroTemplateCell",zR,AR,TJ);function cT(a,b){nF.call(this,a,b);this.h["class"]+=" wnd-photogallery"}n(cT,nF);function dT(a,b,c){NB.call(this,a,b,c)}n(dT,NB);f=dT.prototype;f.ua=function(){return"PhotoGalleryList"};function eT(a,b){b?(a.Mc(b),ZB(a,b)):(a.Mc("PhotoGalleryList"),ZB(a,"PhotoGalleryList"));aq&&a.B().focus()}function fT(a){if(a)var b="Insert photo gallery";return b||"Photo gallery"}
f.fa=function(){var a;a=this.ua();a=this.K(this.C()+"_list_area","wnd.ui.PopupEmptyBlock",a,{properties:{initRenderFlag:!0,switchAnimation:!0}});this.o=a.K(this.C()+"_navigation_image_list","wnd.pc.AddPhotoIntoGallery",null,{properties:{blockId:this.C(),title:fT(P(this.f,"isEmpty")),extendCssClass:"wnd-photogallery",switchGroups:["addImages"]}});this.g=a.K(this.C()+"_content_image_list","wnd.pc.PhotoGalleryListContent",null,{id:P(this.f,"blockId"),properties:{blockId:this.C(),fileGroup:sD,canUpload:!0,
toolbox:!0,dragDrop:!0,width:x.PhotoGalleryListContent.width,extendCssClass:"wnd-media-list-area wnd-photo-list",multipleUpload:!0,height:x.PhotoGalleryBlock.dimension.withImages.height,resize:!0}});this.g.observe("onInitUpload",this.Az,this);this.g.observe("onFinishUpload",this.zz,this);this.o.observe("onUploadClick",this.g.bh,this.g);this.v=a.K(this.C()+"_control_image_list","wnd.pc.AddPhotoGalleryControlBar",null,{properties:{controls:{left:[],right:["Cancel","Close"]},switchContainer:this.getId()}});
this.v.observe("onUploadCancel",this.g.ah,this.g);eT(this,"PhotoGalleryList");a=this.o;var b=fT(this.g.isEmpty());O(a.f,"title",b);a.view.fc()};f.xm=function(a){this.g.xm(a)};
f.Az=function(){this.v.cb("Cancel",!0);this.v.cb("Close",!1);R.aa(this.o.view.xa,!1);this.g.isEmpty()&&(this.resize(x.DefaultPopupProperties["wnd.pc.PhotoGalleryPopup"].width,x.DefaultPopupProperties["wnd.pc.PhotoGalleryPopup"].height),this.g.resize(x.PhotoGalleryBlock.dimension.withImages.width,x.PhotoGalleryBlock.dimension.withImages.height));this.o.Aa();this.notify("onInit")};
f.zz=function(a,b){this.v.cb("Cancel",!1);this.v.cb("Close",!0);this.o.Fa();R.aa(this.o.view.xa,!0);this.notify("onFinish",b)};
f.show=function(){dT.l.show.call(this);this.g.isEmpty()?(this.v.cb("Close",!1),this.v.cb("Cancel",!0),R.aa(this.o.view.xa,!1),this.resize(x.DefaultPopupProperties["wnd.pc.SelectMediaPopup"].width,x.DefaultPopupProperties["wnd.pc.SelectMediaPopup"].height),this.g.resize(x.PhotoGalleryBlock.dimension.withoutImages.width,x.PhotoGalleryBlock.dimension.withoutImages.height)):(this.v.cb("Cancel",!1),this.v.cb("Close",!0),R.aa(this.o.view.xa,!0),this.g.resize(x.PhotoGalleryBlock.dimension.withImages.width,
x.PhotoGalleryBlock.dimension.withImages.height));this.o.Fa()};f.hide=function(a,b){return this.qb()?!1:dT.l.hide.call(this,a,b)};f.jc=function(){dT.l.jc.call(this);var a=this.o,b=fT(this.g.isEmpty());O(a.f,"title",b);a.view.fc();this.view.wn()};f.Y=function(a){dT.l.Y.call(this,a);a.J()==this.J()&&"parent_propagation"==a.h&&this.B()&&eT(this);"children_propagation"==a.h&&a.c&&a.c.getId()==this.getParent().getId()&&(PE(this.g),this.g.V.reset(),this.g.V.init())};f.qb=function(){return this.g.ga&&this.g.ga.qb()};
I.j().register("wnd.pc.PhotoGalleryPopup",Ik,cT,dT);function gT(a,b,c){EK.call(this,a,b,c);this.U=!0;this.D=this.o=!1;this.g=null;this.T=!0}n(gT,EK);f=gT.prototype;f.Ja=function(){var a=[];qO(this)&&a.push(pi(mi(ki(new ji,"edit"),m(this.Xc,this)),!0));return zh(a,gT.l.Ja.call(this))};f.Jb=function(a,b,c,d){gT.l.Jb.call(this,a,b,c,d)};
f.ka=function(a){gT.l.ka.call(this,a);this.U&&Zi(this.f)&&(this.U=!1,this.zb=E.j().create("wnd.pc.PhotoGalleryPopup",this.C()+"_popup",document.body,this,{},{blockId:this.C()}),eC(this.zb,"onClose",this.ev,this),eC(this.zb,"onInit",this.gr,this),eC(this.zb,"onFinish",this.fr,this))};
f.Xc=function(a){a.stopPropagation();this.Yb();qO(this)&&(this.zb=E.j().create("wnd.pc.PhotoGalleryPopup",this.C()+"_popup",document.body,this,{},{blockId:this.C(),isEmpty:this.isEmpty()}),eC(this.zb,"onInit",this.gr,this),eC(this.zb,"onFinish",this.fr,this))};f.Sc=function(a,b){!1===this.o&&this.f.update(a,b)};f.ev=function(){this.D||this.dispose()};f.gr=function(){this.D=this.o=!0;this.g=null};
f.fr=function(a,b){if(!0===this.o){if(null!=b){for(var c={},c={},d={},e=Ma(b),g=0;g<e.length;g++)c={"=imageId":b[e[g]].getId(),"=imageSrc":b[e[g]].ya(),"=dataType":b[e[g]].J(),"=width":b[e[g]].Ma(),"=height":b[e[g]].getHeight()},c=Yi(I.j(),"wnd.pc.PhotoImageBlock",c),d[e[g]]=this.rd("wnd.pc.PhotoImageBlock",void 0,void 0,c);this.zb.xm(d)}d=new H("photoGalleryChange",this);this.ba(d);this.o=!1;this.Sc("data_created");null!==this.g&&(this.ba(this.g),this.g=null)}};f.isEmpty=function(){return 0==this.f.getData().content.length};
f.Y=function(a){a.J()==this.J()&&"parent_propagation"==a.h&&"dataUpdate"==a.getType()&&a.g==this.C()&&gT.l.Y.call(this,a)};f.ig=function(a){a instanceof yg&&"dataCreate"==a.getType()&&a.c&&"wnd.pc.PhotoImageBlock"==a.c.ca()?this.g=a:gT.l.ig.call(this,a)};I.j().register("wnd.pc.PhotoGalleryBlock",jP,rP,gT);function hT(a,b){kI.call(this,a,b)}n(hT,kI);
hT.prototype.N=function(){var a=N(this.f,"image"),b=q.FilesystemPreviewSize.small,c=N(this.f,"image"),d={src:po(c.src,c.dataType,b),width:0,height:0},e=c.width,c=c.height;e>c?(d.width=b,d.height=Math.round(b/e*c)):(d.width=Math.round(b/c*e),d.height=b);b=po(a.src,a.dataType);e=["wnd-orientation-"+this.f.Fl()];return ff(hT.l.N.call(this),{id:N(this.f,"id"),title:N(this.f,"description"),"detail.src":b,"preview.src":d.src,"detail.width":a.width,"detail.height":a.height,"preview.width":d.width,"preview.height":d.height,
"contentElement.class":e.join(" ")})};function iT(a,b,c){GM.call(this,a,b,c);a.v=c.C()}n(iT,GM);iT.prototype.kc=function(){return"container_item"};iT.prototype.Y=function(a){iT.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()==this.Z.J()&&a.g==this.Z.getId()&&F(this.Z.f.m(),this.C())&&this.f.update("data_updated")};iT.prototype.Jb=function(){var a=new H("photoGalleryChange",this);this.ba(a)};iT.prototype.getImageData=function(){return l(this.f.getData().image)?this.f.getData().image:null};
I.j().register("wnd.pc.PhotoImageBlock",tv,hT,iT);function jT(a,b,c){NB.call(this,a,b,c)}n(jT,OL);f=jT.prototype;
f.fa=function(){this.K(this.C()+"_navigation_upload_image","wnd.ui.BasicNavigationBar",null,{properties:{title:"image"==P(this.f,"fileGroup")?"Insert image":"Insert file",extendCssClass:"image"==P(this.f,"fileGroup")?"wnd-upload-image":"wnd-upload-file",initRenderFlag:!0}});this.o=this.K(this.C()+"_content_upload_image","wnd.pc.SelectMediaContent",null,{properties:{popupId:this.C(),closeAfterUpload:!0,fileGroup:P(this.f,"fileGroup"),initRenderFlag:!0,width:"100%",height:200,multipleUpload:!1}});this.o.observe("onInsert",
this.Np,this);this.o.observe("onInit",this.Rv,this);this.o.observe("onClose",this.Cp,this);this.o.observe("onFinish",this.Kz,this);var a={right:["Cancel"]};"image"==P(this.f,"fileGroup")&&(a.left=["ImageList"]);this.g=this.K(this.C()+"_footer_upload_image","wnd.pc.SelectMediaFooter",null,{properties:{controls:a,fileGroup:P(this.f,"fileGroup"),initRenderFlag:!0,height:x.SelectMediaFooter.height}});this.g.observe("onInsert",this.Np,this);this.g.observe("onClose",this.Cp,this);this.g.observe("onCancel",
this.o.Hu,this.o)};f.Rv=function(){"image"==P(this.f,"fileGroup")?this.g.cb("ImageList",!1):this.g.cb("FileList",!1)};f.Kz=function(a,b){"image"==P(this.f,"fileGroup")?this.g.cb("ImageList",!0):this.g.cb("FileList",!0);b||this.hide()};f.hide=function(a,b){return this.qb()?!1:jT.l.hide.call(this,a,b)};f.show=function(){jT.l.show.call(this);"image"==P(this.f,"fileGroup")?this.g.cb("ImageList",!0):this.g.cb("FileList",!0)};
f.Ml=function(a){var b={},c=P(this.f,"createMVCType");"wnd.pc.FileBlock"===c&&(b={"=fileId":a.id,"=fileSrc":a.src,"=dataType":a.dataType});"wnd.pc.ImageBlock"===c&&(b={"=imageId":a.id,"=imageSrc":a.src,"=dataType":a.dataType});return b};
f.Ho=function(a){var b={},c=P(this.f,"createMVCType");if("wnd.pc.FileBlock"===c){b=Ga("wnd.pc.FileBlock.download");""!==b&&(b+=" ");a:{var d=b+a.name,b=25;if(b<d.length){var e=d.replace(/\.+/g,"."),g=e.lastIndexOf(".");if(0>=g){b=d;break a}d=e.substr(g+1);e=e.substr(0,g);b-=1+d.length;g=e.substr(-(b/5));b-=3+g.length;d=e.substr(0,b)+"..."+g+"."+d}b=d}b={code:b}}"wnd.pc.ImageBlock"===c&&(b={image:{size:{width:a.width,height:a.height}}});return b};
f.Np=function(a,b){var c={id:b.getId(),dataType:b.J(),src:b.ya(),name:b.Fg,width:b.Ma(),height:b.getHeight(),mediaType:b.ja};this.notify("onInsert",this.Uf(c));Ih(this,"onClose")};f.Cp=function(){this.hide()};f.Hd=function(){this.o.ah();this.notify("onClose")};f.qb=function(){return this.o.ga&&this.o.ga.qb()};I.j().register("wnd.pc.SelectMediaPopup",Zj,nF,jT);function zL(a,b,c){CO.call(this,a,b,c);c instanceof TJ&&(a.Gi=!0);this.G=m(this.hz,this);this.S=m(this.fz,this);this.I=m(this.ez,this);this.o=null;c instanceof hS&&(a.options.mh=!1)}n(zL,QO);f=zL.prototype;f.Ld=function(){var a="PageEditHover";0==this.L&&(a="ButtonHover");return a};
f.Ja=function(){var a=[];qO(this)&&("link"===N(this.f,"variant")&&N(this.f,"link")&&a.push(ri(qi(ki(new ji,"go-to"),N(this.f,"link")),/^[a-z]+:\/\//.test(N(this.f,"link")))),a.push(pi(mi(ki(new ji,"edit"),m(this.Xc,this)),!0)));return zh(a,zL.l.Ja.call(this))};f.oe=function(){var a=[];qO(this)&&a.push(mi(ki(new ji,"change-image"),m(this.Ox,this)));return zh(a,zL.l.oe.call(this))};f.O=function(){zL.l.O.call(this);Zp&&this.view.Oa()&&this.c.H(this.view.Oa(),eq,m(this.Qv,this))};f.Qv=function(a){a.preventDefault()};
f.iz=function(){this.dispose()};f.cg=function(a){this.V&&(this.V.dispose(),this.V=null);zL.l.cg.call(this,a)};f.ka=function(a){zL.l.ka.call(this,a);cJ()||!0===(null!=jv(this))&&P(jv(this).f,"newSection")||(this.Ac(),CH(this.f,null,null,!0,!0)&&(uJ(this.Z)&&(this.f.L={left:0,right:0}),this.ra()))};f.Ac=function(){zL.l.Ac.call(this);AH(this.f);this.f.Jm(this.view.Kh());if(AL(this)){var a=R.pa(this.Z.B()).width;this.f.wc=a}};
f.Wn=function(a,b){if(!BH(this.f))return!1;var c=this.f.Lg().height,d=this.f.Lg().width;if(0!==b)switch(a){case "top":c=c-b;break;case "down":c+=b}var e=d,g=x.ImageBlock.snapOffset,h=(c-g)*e/c,g=(c+g)*e/c,k=c*BH(this.f).width/BH(this.f).height;0<h&&h<k&&k<g&&(c=e*BH(this.f).height/BH(this.f).width);c=parseFloat(c.toFixed(2));d=parseFloat(d.toFixed(2));CH(this.f,d,c)&&(d=this.f.T,this.view.Sa().style.paddingBottom=d+"%",yI(this.view,this.f.Na),sI(this.view,this.f.L));kT(this);return!0};
f.Xn=function(a,b,c){if(!BH(this.f))return!1;var d;AL(this)?d=this.f.wa.width:(d=this.f.Lg().width,b*=2);0!==b&&(c==a?d+=b:d=d-b);d=parseFloat(d.toFixed(2));AL(this)?(FH(this.f,d),a=this.f.fb,R.setWidth(this.view.B(),a?a+"%":"")):(this.f.Lf(d),sI(this.view,this.f.L));kT(this);return!0};f.resize=function(a){AL(this)||(this.Ac(),uJ(this.Z)?this.f.L={left:0,right:0}:this.f.Lf(null,null,!0),sI(this.view,this.f.L),a&&this.ra())};f.Yb=function(){this.ea||zL.l.Yb.call(this)};
f.Xc=function(a){a.stopPropagation();this.Yb();qO(this)&&(E.j().create("wnd.pc.EditImagePopup",this.C()+"_popup_edit",document.body,this,{},{blockId:this.C(),directoryId:x.ImageBlock.directoryId,onRemove:m(this.iz,this)}),a=new H("inspectletInfo1",this),this.ba(a))};
f.Ox=function(){var a=N(this.f,"image"),b=L.j().get("project_info").getData(),c={key:"category",value:"",order:"DESC"},b={key:"category",value:[Ea.StaticServerCategory.templates,b.uikit_name,b.template_name,b.template_branch_id],optional:[b.uikit_name,b.template_name,b.template_branch_id]},d=I.j().get(this.getId());SK(d)?(d=RG(SK(d)),d=dv(d),d=Ea.StaticServerCategory.microtemplatePrefix+d.type,b.value.push(Ea.StaticServerCategory.microtemplate),b.value.push(d),b.optional.push(d),b.optional.push(Ea.StaticServerCategory.microtemplate),
c.value=Ea.StaticServerCategory.microtemplate):(b.value.push(Ea.StaticServerCategory.content),b.optional.push(Ea.StaticServerCategory.content),c.value=Ea.StaticServerCategory.content);c={filterMN:[b],orderMN:c};b={};b.publicImages=c;b.publicIcons=c;eC(MG(E.j(),{showTypes:[Tj,"publicImages","publicIcons"],activeType:HC(a.dataType,a.src),collectionSettings:b,checkLowResolution:!1}),"onInsert",this.gz,this);l(qH(this).m)&&qH(this).m.hide();this.Yb()};f.gz=function(a,b){this.f.hk(b[0])};
f.Y=function(a){kG(this)&&"dataUpdate"==a.getType()&&this.Z&&this.Z.C()==a.g&&kT(this);"dataUpdate"==a.getType()&&BO(this)&&BO(this).J()==a.J()&&BO(this).C()==a.g&&lT(this);"dataUpdate"==a.getType()&&a.J()==this.J()&&a.g==this.C()&&((a=a.A)&&(a.width||a.height)?(this.Ac(),CH(this.f,null,null,!0,!0)&&(this.ra(),this.resize(!0))):this.f.update("data_updated",!0))};
f.na=function(a){zL.l.na.call(this,a);"colorSchemeChange"==a.getType()&&lT(this);a.c===BO(this)&&"sectionCreated"==a.getType()&&lT(this,!0)};function lT(a,b){var c=!1;if(qo(a.f.ya())&&(c=a.view.Qe(),bq)){requestAnimationFrame(m(a.jz,a));return}b&&c&&a.Aa()}f.jz=function(){this.view.Cm()};f.fz=function(){vJ("Move").show();this.g={lb:{va:null,step:0},Qa:{va:null,step:0}}};f.ez=function(){vJ("Move").hide();this.ra(!0)};
f.hz=function(){var a=this.V.Yc(),b=Math.floor(a.lb.difference/x.ContentResizeStripe.minDifference),c=Math.floor(a.Qa.difference/x.ContentResizeStripe.minDifference);if(null===this.g.lb.va&&null===this.g.Qa.va){this.D=R.getPosition(AI(this.view));var d=this.view;R.Me(d.Oa(),d.Sa()).round();this.Ac()}"vertical"==mT(this)?null===this.g.lb.va||this.g.lb.va===a.lb.va&&this.g.lb.step===b?(this.g.lb.va=a.lb.va,this.g.lb.step=b):(this.g.lb.va=a.lb.va,this.g.lb.step=b,nT(this,a.lb.va,b)):"horizontal"==mT(this)&&
(null===this.g.Qa.va||this.g.Qa.va===a.Qa.va&&this.g.Qa.step===c?(this.g.Qa.va=a.Qa.va,this.g.Qa.step=c):(this.g.Qa.va=a.Qa.va,this.g.Qa.step=c,nT(this,a.Qa.va,c)))};
function nT(a,b,c){if(BH(a.f)){var d=null,e=null,g=0,g=0,h=x.ImageBlock.sliderOffset,k=R.getBounds(zI(a.view));if(0!==c)switch(b){case "top":g=a.D.y-c;d=100*g/(k.height-h);break;case "down":g=a.D.y+c;d=100*g/(k.height-h);break;case "left":g=a.D.x-c;e=100*g/(k.width-h);break;case "right":g=a.D.x+c,e=100*g/(k.width-h)}null!==d&&(100<d?d=100:0>d&&(d=0),b=d+"%",R.setPosition(AI(a.view),"",b));null!==e&&(100<e?e=100:0>e&&(e=0),b=e+"%",R.setPosition(AI(a.view),b,""));b=a.f;h=e;k=BH(b).width;g=BH(b).height;
e=b.v.width;c=b.v.height;var p=g/k,w=c/e;h&&k/g>e/c?(d=c*k/g-e,b.S.Qa=EH(d/(d/100*h))):d&&p>w&&(h=e*g/k-c,b.S.lb=EH(h/(h/100*d)));DH(b,e,c);yI(a.view,a.f.Na)}}f.$d=function(a){zL.l.$d.call(this,a);1==this.L&&(R.aa(zI(this.view),!0),!this.V&&this.B()&&(this.V=new Nz,this.V.T=!1,Rz(this.V,Dx()),this.V.Ka(AI(this.view)),this.V.observe("onDragstart",this.S,this),this.V.observe("onDragend",this.I,this),this.V.observe("onMouseMove",this.G,this),this.V.init()),this.Ac(),kT(this))};
f.sb=function(a){zL.l.sb.call(this,a);1==this.L&&R.aa(zI(this.view),!1)};
function kT(a){var b,c,d=mT(a),e=null!==d;R.aa(zI(a.view),e);if(d){var g=x.ImageBlock.sliderOffset,h=x.ImageBlock.rangeAreaOffset,e=a.f;b=100/e.S.lb;c=100/e.S.Qa;var k=R.getBounds(a.view.Sa()),p=0,w=0,v=e="";Hl(zI(a.view),"horizontal","horizontal"==d);"vertical"==d?(e=b+"%",R.setPosition(AI(a.view),"",e),p=k.top,w=k.left+k.width,e=k.height-g-2*h):(v=c+"%",R.setPosition(AI(a.view),v,""),p=k.top+k.height,w=k.left,v=k.width-g-2*h);g=w;h=p;R.setPosition(zI(a.view),g,h);g=v;R.setSize(zI(a.view),g,e)}}
function mT(a){var b=a.view.Kh();a=R.pa(a.view.Oa());var c=null;(b.width/b.height).toFixed(1)!==(a.width/a.height).toFixed(1)&&(a.height>b.height?c="vertical":a.width>b.width&&(c="horizontal"));return c}function AL(a){a=a.f.ic?a.f.ic:N(a.f,"style")["float"];return"left"==a||"right"==a}f.Ua=function(a){zL.l.Ua.call(this,a);lT(this)};
f.Aa=function(){var a=this.view.Sa();if(a&&qo(this.f.ya())){this.view.pf(!1);this.o||(this.o=I.j().create(this.C()+"_loading","wnd.ui.Loading",a,this,{properties:{type:"icon",contentSize:Ee(this.view.Kh())}}));this.o.show();var b=this.o.view;b.B().parentNode!==a&&(b.tg=a,a=b.B(),b.ab().appendChild(a));this.view.Oa()&&this.c.H(this.view.Oa(),"load",m(this.Fa,this))}};f.Fa=function(){this.o&&(this.o.dispose(),this.o=null);this.view.pf(!0)};
f.getImageData=function(){return l(this.f.getData().image)?this.f.getData().image:null};I.j().register("wnd.pc.ImageBlock",zH,wI,zL);function oT(a,b,c){NB.call(this,a,b,c)}n(oT,NB);
oT.prototype.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"SOCIAL NETWORKING ICON",initRenderFlag:!0,extendCssClass:"wnd-upload-image"}});var a=this.K(this.C()+"_content","wnd.ui.PopupEmptyBlock",this.ua(),{properties:{initRenderFlag:!0}});this.o=a.K(this.C()+"_image_detail","wnd.pc.SocialIconsImage",null,{id:P(this.f,"blockId"),properties:{initRenderFlag:!0,imageId:P(this.f,"imageId"),directoryId:x.ImageBlock.directoryId,buttonType:"Edit",width:x.SocialIconsImage.width,
height:x.SocialIconsImage.height}});this.g=a.K(this.C()+"_form","wnd.pc.SocialIconsEditForm",null,{id:P(this.f,"blockId"),properties:{id:this.C()+"-form-content",initRenderFlag:!0,width:x.SocialIconsEditForm.width}});this.K(this.C()+"_control","wnd.ui.BasicControlBar",this.ua(),{properties:{controls:{right:["Submit"]},initRenderFlag:!0}})};oT.prototype.show=function(){this.g&&this.g.Cc();oT.l.show.call(this)};oT.prototype.mb=function(){this.g.ra()&&this.hide()};
I.j().register("wnd.pc.SocialIconsEditPopup",Zj,nF,oT);function pT(a,b,c){TJ.call(this,a,b,c);this.g=null}n(pT,TJ);f=pT.prototype;f.Ja=function(){var a=[];a.push(pi(mi(ki(new ji,"edit"),m(this.Xc,this)),!0));return zh(a,pT.l.Ja.call(this))};f.Xc=function(a){a.stopPropagation();E.j().create("wnd.pc.SocialIconsEditPopup","wnd-popup-edit-social-icon_"+this.C(),document.body,this,{},{blockId:this.C()})};function qT(a){a.view.Oa()&&qo(a.f.ya())&&(a.view.Qe(),bq?requestAnimationFrame(m(a.Lz,a)):a.Aa())}f.Lz=function(){this.view.Cm()};
f.na=function(a){pT.l.na.call(this,a);"colorSchemeChange"==a.getType()&&qT(this)};f.Ua=function(a){pT.l.Ua.call(this,a);qT(this)};f.Aa=function(){var a=this.view.Mg();a&&qo(this.f.ya())&&(this.view.pf(!1),this.g||(this.g=I.j().create(this.C()+"_loading","wnd.ui.Loading",a,this,{properties:{type:"icon"}})),this.g.show(),this.view.Km("relative"),this.view.Oa()&&this.c.H(this.view.Oa(),"load",m(this.Fa,this)))};f.Fa=function(){this.g&&(this.g.dispose(),this.g=null);this.view.pf(!0)};
I.j().register("wnd.pc.SocialIconsCell",BR,CR,pT);function rT(a,b){nF.call(this,a,b);this.Ff=null}n(rT,nF);rT.prototype.da=function(){rT.l.da.call(this);var a=gs(Fu,{uri:t.projectUrl,link:t.projectDomain});this.Ff=a.querySelector(".wnd-start-button");this.Va.appendChild(a)};function sT(a,b,c){NB.call(this,a,b,c);O(this.f,"extendCssClass","wnd-welcome")}n(sT,NB);sT.prototype.show=function(){sT.l.show.call(this)};sT.prototype.O=function(){sT.l.O.call(this);null!==this.view.Ff&&this.c.H(this.view.Ff,T,m(this.hide,this,null,!0))};sT.prototype.hide=function(a,b){var c=sT.l.hide.call(this,a,b);!0===c&&(He(Je,"welcomeDone","1",86400,"/"),na(window.history)&&ma(window.history.replaceState)&&window.history.replaceState({},"",t.baseUrl));return c};
I.j().register("wnd.pc.WelcomePopup",Jk,rT,sT);function tT(a,b,c){wr.call(this,a,b,c);this.v=this.o=this.g=null}n(tT,wr);f=tT.prototype;f.fa=function(){this.g=this.K(this.C()+"_content","wnd.pc.WysiwygLinkForm",null,{properties:{id:this.C(),width:x.WysiwygLinkForm.width,attributes:P(this.f,"attributes"),initRenderFlag:!0}})};
f.mb=function(a){if(this.Ya()&&this.g.ra()){var b=gC(this.g,"href");if(null!=b)if(""===b.kd())P(this.f,"unlink").call(P(this.f,"object"));else{var c=b.getValue(),d=gC(this.g,"target");"insertLink"===P(this.f,"action")&&1==(null!=this.o)&&this.v===this.o.innerHTML&&sp(this.o);this.v=b.me()||c;this.o=P(this.f,"process").call(P(this.f,"object"),{href:c,target:d.getValue()?"_blank":""},this.v)}"fromHide"!=a&&this.hide(null);this.getParent().Wc()}};
f.hide=function(a){if(null!=a&&a instanceof iq){if(-1<this.B().outerHTML.indexOf(a.target.outerHTML))return!1;this.mb("fromHide")}else l(a)||this.mb("fromHide");a=tT.l.hide.call(this,a);!0===a&&(P(this.f,"cancel").call(P(this.f,"object")),setTimeout(m(function(){if(!0===(null!=this.g)){var a=this.g;null!=a.g&&a.g.close()}},this),500));return a};f.Hd=function(){this.notify("onClose")};f.Er=function(a){13===a.keyCode&&this.mb()};f.O=function(){tT.l.O.call(this);this.c.H(this.B(),T,this.Tz)};f.Tz=function(a){a.stopPropagation()};
I.j().register("wnd.pc.WysiwygLinkPopup",bk,pF,tT);function yO(a,b,c){CO.call(this,a,b,c);this.I=!1;this.S=[];this.G=0;this.o=null;uT();this.T=this.D=this.xa=!1;qO(this)||(a=this.view,JI(a)&&Hl(JI(a),LI(),!1));vT(this)}var wT;n(yO,CO);f=yO.prototype;f.be=null;f.Ld=function(){return"PageBaseHover"};
f.Wa=function(a){if(this.Qi()){this.T=!1;if(!this.I){var b=JI(this.view);do if("A"==b.nodeName&&b.hasAttribute("href")&&(iy(b,"wnd_href",b.getAttribute("href")),b.removeAttribute("href")),b===this.B())break;while(b=b.parentNode);this.I=!0}var b=qO(this)&&uT().Ga(this),c=a.target&&!Ap(this.B(),a.target);xT(this,c);yO.l.Wa.call(this,a);this.Z instanceof TJ&&(!0===b&&!0===uT().Wm()?qH(this.Z).m.hide():uT().nk(!1))}else yO.l.Wa.call(this,a)};f.Qi=function(){return!0};
f.Ua=function(a){yO.l.Ua.call(this,a);this.I=!1;OI(this.view,"",!0);this.Wc()};f.ih=function(){vT(this);uT().remove(this)};f.cg=function(a){yO.l.cg.call(this,a);uT().Ga(this)&&this.ih()};
function xT(a,b){if(!a.ub){a.be||(a.be={});null!=b&&(a.be.setCursor=b);var c;c=a.view;if(!c.vh){var d=document.getElementById(c.f.C()+"_wsw_container");d&&(c.vh=d.cloneNode(!1).outerHTML)}(c=c.vh)&&(a.be.textContainerHTML=c);MI(a.view)&&a.be&&!0===a.be.disableFormatting&&(JI(a.view).innerHTML="&nbsp;");(c=SK(a))&&(a.be.editorDimension=m(c.getBounds,c));qO(a)&&!uT().Ga(a)&&(c=NI(a.view),uT().Wa(a,a.be),a.f.P=!0,d=new H("inspectletInfo1",a),a.ba(d),yT(a,c))}}
f.sb=function(a){if(Zp&&a){var b=null;!0===(null!=sO(this))?b=R.getBounds(sO(this).view.B()):!0===(null!=rO(this))&&(b=R.getBounds(rO(this).view.B()));if(b){var c=pr(kr.j(),a);if(b.contains(c))return}}b=NI(this.view);this.ra();this.ih();yO.l.sb.call(this,a);yT(this,b)};function zT(a){var b=uT().getContent();MI(a.view)?(b="",JI(a.view).innerHTML=""):b=AT(b);b={code:b};a.f.options.Gg&&(b.style={cssClasses:{fontSize:a.f.ha}});return b}
f.Jb=function(a,b,c,d){yO.l.Jb.call(this,a,b,c,d);c&&this.D&&!this.Z.ub&&(ER(tz(this)).Bm=!1)};f.ra=function(){if(uT().Ga(this)){var a=zT(this);this.f.ra(!0,a);this.Vf(!0);this.f.P=!1;return!0}return!1};function AT(a){a=a.replace(/ id="[^"]*"/g,"");return a=a.replace(/ data-wnd[^=]+="[^"]*"/g,"")}f.X=function(){kG(this)?this.sb():this.ih();yO.l.X.call(this)};function uT(){"undefined"==typeof wT&&(wT=new yK);return wT}f.Vf=function(a){a=this.view.Vf(a||!1);this.f.En=a.length;return a};
function BT(a,b){var c,d=a.view;c=JI(d).cloneNode(!0);for(var d=KI(d,c,!0,!1),d=xp(d[b]),e;d;)e=xp(d),sp(d),d=e;c=c.innerHTML;d=a.view;e=KI(d,JI(d),!1,!1);for(var g=e.length,h=b;h<g;h++)sp(e[h]);KI(d,JI(d),!0,!0);d=JI(d).innerHTML;Wi(a.f,"code",d);return c}f.Pg=function(){return this.view.Pg()};f.Fj=function(){return uT().getContent()};f.Fm=function(){var a=N(this.f,"code"),b=this.Fj(),c=$g(b);return!0===(b!=a&&c!=a)};
f.Dc=function(a){var b=yO.l.Dc.call(this,a);uT().Ga(this)||this.Wa(a);kG(this)&&(a.stopPropagation(),a.target===this.B()&&a.preventDefault());return b};f.Jc=function(){var a=this.f.options.Pc;0==this.L&&(a=!1);return a};f.Th=function(){return this.f.options.Ec};f.cc=function(){var a=null;SK(this)?a=new Ym(0,0,0,0):a=yO.l.cc.call(this);return a};f.$i=function(){var a=NI(this.view);uT().Ga(this)&&(this.ra(),this.ih());this.Wc();yT(this,a)};
f.Rz=function(a){var b=a.currentTarget.href;if(b){a.stopPropagation();a=new H("saveAndDeactivateContentItems",this);this.ba(a);a=window.location.href.match(Rn);var c=b.match(Rn);!1===(a[3]==c[3]&&a[4]==c[4])?window.open(b,"_blank"):window.location.href=b}};
f.Ja=function(){var a=[];if(this.f.options.lj&&ev()){var b=this.f.getData(),c="";b.style&&b.style.cssClasses&&b.style.cssClasses.fontFamily&&(c=b.style.cssClasses.fontFamily);a.push(mi(si(li(ni(ki(new ji,dG),"Font"),this),TH(this.f)).eb(c),m(this.Ku,this)))}return zh(a,yO.l.Ja.call(this))};f.oe=function(){var a=[],b=SK(this);a.push(li(mi(ki(new ji,XF),m(b.yv,b)),this));F(b.G,this)||b.G.push(this);return zh(a,yO.l.oe.call(this))};
f.lf=function(a){uT().Ga(this)||xT(this);var b=NI(this.view);uT().Em(a);OI(this.view,"",!0);this.Wc();yT(this,b)};f.As=function(){var a=qH(this).m,b=mi(ki(new ji,"remove-confirm"),m(this.Kc,this));a.Ya()||(a.show(),a.view.show());a.I=!0;MF(a.view,!!P(a.f,"arrow"));gG(a);switch(b.c){case "remove-confirm":case "remove-form-confirm":a.al(b)}};function lS(a,b){b.stopPropagation();!1===kG(a)&&(a.Dc(b),a.ae(b));a.be&&a.be.disableFormatting||qH(a.Z).m.hide();uT().nk(!0)}
function yT(a,b){if(!De(b,NI(a.view))){var c=new H("contentChange",a);a.ba(c)}}f.Pd=function(a){yO.l.Pd.call(this,a);if(a&&this.f.options.Gg){var b=Cr(a.keyCode);if("keypress"===a.type){a=a.charCode||b||a.which;b=String.fromCharCode(a);if(32===a||8===a)b="&nbsp;";OI(this.view,b,!1)}}2<Math.abs(this.f.Hf-II(this.view).length)&&OI(this.view,"",!0);this.D=!1;a=m(this.Pt,this);this.U&&clearTimeout(this.U);this.U=setTimeout(a,500);kr.j().pause("addContent",!0)};
f.Pt=function(){var a=this.Fj();a!=this.f.zn&&(this.f.zn=a,this.Vf(!0),a=new H("contentChange",this),this.ba(a),tr(kr.j()));this.D=!0};f.Ku=function(a,b){this.D=this.f.P=!1;var c={};uT().Ga(this)&&(c=zT(this));c.style={cssClasses:{fontFamily:b}};Xi(this.f,c);c=NI(this.view);OI(this.view,"",!0);this.fo(c,b);if(!F(this.S,b)){if(null===this.o){var c=qH(this),d=lO(c);this.o=I.j().create(this.C()+"_loading","wnd.ui.Loading",c.view.g.top,this,{properties:{type:"wnd-block",height:d.height,width:d.width}})}this.o.show()}};
f.Yj=function(a,b){this.D=this.f.P=!1;var c={};uT().Ga(this)&&(c=zT(this));c=HO(c,b);Xi(this.f,c)};f.fo=function(a,b){var c=NI(this.view);this.G<x.InlineTextBlock.waitForResize.count&&!F(this.S,b)&&De(a,c)?(this.G++,setTimeout(m(this.fo,this,a,b),x.InlineTextBlock.waitForResize.time)):(F(this.S,b)||this.S.push(b),this.G=0,OI(this.view,"",!0),this.Wc(),null!=this.o&&(this.o.dispose(),this.o=null),c=new H("fontChange",this),this.ba(c))};
f.Ls=function(a,b){this.gj=E.j().create("wnd.pc.WysiwygLinkPopup","wnd-wysiwyg-link",document.body,a,{destroyAfterClose:!0,withOverlay:!1},b)};f.Y=function(a){yO.l.Y.call(this,a);"children_propagation"===a.h&&vT(this)};f.na=function(a){yO.l.na.call(this,a);"resizeWindow"===a.getType()&&vT(this)};function vT(a){if(a.Z&&uJ(a.Z)&&JI(a.view)&&MI(a.view)){var b=NI(a.view),c=b.width<x.WysiwygBlock.placeholder.visibilityWidth;a.T!=c&&(a.T=c,JI(a.view).innerHTML=c?"&nbsp;":"",yT(a,b))}};function CT(a,b,c){yO.call(this,a,b,c);this.be={disableFormatting:!0}}n(CT,yO);CT.prototype.Pd=function(a){CT.l.Pd.call(this,a);a&&("keydown"==a.type&&MI(this.view)&&(JI(this.view).innerHTML=""),"keydown"==a.type&&13==a.keyCode&&this.sb(a))};CT.prototype.Ja=function(){var a=CT.l.Ja.call(this);this.sc()&&a.push(pi(mi(ki(new ji,"remove-confirm"),m(this.Kc,this)),!0));return a};CT.prototype.oe=function(){return[]};
CT.prototype.Dc=function(a){CT.l.Dc.call(this,a);MI(this.view)&&Zp&&(a.stopPropagation(),a.preventDefault(),JI(this.view).focus());return!0};function DT(a,b,c){CT.call(this,a,b,c)}n(DT,CT);f=DT.prototype;f.Tf=function(){return"buttonColors"};f.Ja=function(){var a=[];if(N(this.f,"link")){var b=0!==N(this.f,"link").indexOf("/");a.push(ri(qi(oi(ki(new ji,"go-to"),N(this.f,"link")),N(this.f,"link")),b))}qO(this)&&(b=N(this.f,"link")?"edit-link":"add-link",a.push(ti(li(ki(new ji,b),this),m(this.Uq,this,b))));return zh(a,DT.l.Ja.call(this))};
f.oe=function(){var a=[];qO(this)&&a.push(ti(li(ki(new ji,"edit-link"),this),m(this.Uq,this,"edit-link")));return zh(a,DT.l.oe.call(this))};f.Uq=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditLinkForm",b.view.M,b,{id:this.C(),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0}})};f.Y=function(a){DT.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.c&&"wnd.pc.EditLinkForm"==a.c.ca()&&a.c.getId()==this.getId()&&(this.I=!1)};f.Jc=function(){return this.f.options.Pc};
I.j().register("wnd.pc.ButtonBlock",VH,UI,DT);function ET(a,b,c){CT.call(this,a,b,c)}n(ET,CT);ET.prototype.Tf=function(){return"fileColors"};ET.prototype.Jc=function(){return this.f.options.Pc};I.j().register("wnd.pc.FileBlock",WH,VI,ET);function FT(a,b,c){CT.call(this,a,b,c);a.Fb=c.C();this.B()&&!1===this.view.Wg()&&(Zp||bq||aq)&&YI(this.view)}n(FT,CT);f=FT.prototype;f.Tf=function(){return"buttonColors"};f.Ld=function(){return"FormSubmitBaseHover"};
f.Ja=function(){var a=[];"wnd.pc.UserLoginFormBlock"==this.getParent().ca()&&a.push(GT(this,"form-action-after-login",m(this.Fs,this,"form-action-after-login")));!F(["wnd.pc.UserLoginFormBlock","wnd.pc.UserChangePasswordFormBlock"],this.getParent().ca())&&a.push(GT(this,"form-submit-action",m(this.bz,this,"form-submit-action")));!F(["wnd.pc.UserLoginFormBlock","wnd.pc.UserChangePasswordFormBlock","wnd.pc.UserRecoveryFormBlock"],this.getParent().ca())&&a.push(GT(this,"edit-email-notification",m(this.Ks,
this,"edit-email-notification"),HT(this)));return zh(a,FT.l.Ja.call(this))};function HT(a){var b=null;"wnd.pc.UserRegistrationFormBlock"===a.getParent().ca()&&(b="Email notification");return b}function GT(a,b,c,d){b=li(ki(new ji,b),a);a=m(a.vt,a);b.g=a;c=ti(b,c);null!=d&&ni(c,d);return c}f.bz=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditFormActionForm",b.view.M,b,{id:this.f.Fb,properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0,height:x.EditFormActionForm.height}})};
f.Fs=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditDefaultPageForm",b.view.M,b,{id:this.f.Fb,properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0,height:x.EditDefaultPageForm.height}})};f.Ks=function(a,b){return I.j().create(this.C()+"_"+a,"wnd.pc.EditEmailNotificationForm",b.view.M,b,{id:this.f.Fb,properties:{initRenderFlag:!0,updateBeforeShow:!0,autoSave:!0,legend:IT(this)}})};
function IT(a){var b=null;"wnd.pc.UserRegistrationFormBlock"===a.getParent().ca()&&(b="Notify me about new registrations:");return b}f.vt=function(){return this.f.Fb};f.se=function(){return!1};f.Jc=function(){return!0};f.sc=function(){return!1};f.Ua=function(a){FT.l.Ua.call(this,a);(Zp||bq||aq)&&YI(this.view)};f.Pd=function(a){FT.l.Pd.call(this,a);(Zp||bq||aq)&&$I(this.view)};f.na=function(a){FT.l.na.call(this,a);F(["resizeWindow","contentChangeFinished"],a.getType())&&(Zp||bq||aq)&&$I(this.view)};
f.ih=function(){FT.l.ih.call(this);(Zp||bq||aq)&&$I(this.view)};I.j().register("wnd.pc.FormSubmitBlock",XH,WI,FT);function JT(a,b,c){CT.call(this,a,b,c);c&&c instanceof kO&&(a.options.gc=!1,a.options.Ed=!1)}n(JT,CT);JT.prototype.Ja=function(){this.Jq=xi;var a=[];xh(a,pi(mi(ki(new ji,YF),m(this.lf,this,"Bold")),!0));xh(a,pi(mi(ki(new ji,ZF),m(this.lf,this,"Italic")),!0));xh(a,pi(mi(ki(new ji,aG),m(this.lf,this,"IncreaseFont")),!0));xh(a,pi(mi(ki(new ji,$F),m(this.lf,this,"DecreaseFont")),!0));return a=zh(a,JT.l.Ja.call(this))};I.j().register("wnd.pc.InlineTextBlock",YH,aJ,JT);function nO(a,b,c){JT.call(this,a,b,c);if(qO(this)){switch($H(this.f)){case "DATE_TIME":this.g=new Cx(!1,"fe")}this.g&&this.g.observe("onChange",this.lz,this)}this.f.options.Gg=!1;this.f.options.lj=!1;a=dJ(this.view);this.f.te=a.trim();this.f.observe("onRefUpdate",this.Jb,this)}n(nO,JT);f=nO.prototype;
f.ra=function(){var a=this.Fj(),b=!1;"DATE_TIME"!==$H(this.f)&&MI(this.view)&&(a="",JI(this.view).innerHTML="");if(this.mn(a)){var b=this.f,c=aI(this.f,a),a=b.getData();if(aI(b,b.te)!=c){var d=c;"DATE_TIME"==$H(b)&&(d=parseInt(c,10));c={};c[a.refDataKey]=d;d=Bg.j().get(a.refDataType);b=m(b.v,b);d.c(a.refDataId,c,null,b,void 0)}b=!0}else a=this.f.te,JI(this.view).innerHTML=a;this.f.P=!1;return b};
f.Jb=function(a,b,c,d){nO.l.Jb.call(this,a,b,c,d);!1===cJ()&&(b=aI(this.f,dJ(this.view)),c=aI(this.f,this.f.te),this.f.te=b.trim(),"DATE_TIME"==$H(this.f)&&(b=parseInt(b,10),c=parseInt(c,10)),a=this.f.getData(),d={},d[a.refDataKey]=c,c=new nf,of(c,{dataType:a.refDataType,action:"update",id:a.refDataId,data:d}),d={},d[a.refDataKey]=b,b=new nf,of(b,{dataType:a.refDataType,action:"update",id:a.refDataId,data:d}),oM(wC.j(),c,b))};
f.mn=function(a){var b=!0,c=$H(this.f);if("DATE_TIME"==c)return this.Ay(a);var d=t.format.fe;l(d)&&l(d[c])&&l(d[c].regexp)&&(b=null!==(new RegExp(d[c].regexp)).exec(a));return b};f.Ay=function(a){var b=fg.j().get("validateDate");a=Pf(this.f.Pn,a);return b.c(a,"")};f.ae=function(a){nO.l.ae.call(this,a);kG(this)&&this.g&&!this.g.Ra()&&(this.g.show(this.B(),aI(this.f,dJ(this.view))),JI(this.view).focus(),kr.j().pause("sectionToolbox"),kr.j().pause("addContent",!0),Zf.j().pause());return!0};
f.Ja=function(){return this.g?[]:nO.l.Ja.call(this)};f.sb=function(a){nO.l.sb.call(this,a);this.g&&(this.g.hide(),tr(kr.j()),Zf.j().h=!0)};f.lz=function(a,b){JI(this.view).innerHTML=b};f.Pd=function(a){nO.l.Pd.call(this,a);a&&"keydown"==a.type&&MI(this.view)&&(JI(this.view).innerHTML="")};
f.Y=function(a){nO.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()==N(this.f,"refDataType")&&a.g==N(this.f,"refDataId")&&(a=a.A,null!=a&&We(a,N(this.f,"refDataKey"))&&this.f.notify("onRefUpdate","data_updated",void 0,void 0))};I.j().register("wnd.pc.InlineDataBlock",ZH,bJ,nO);function KT(a,b,c){nO.call(this,a,b,c);a=null!=c&&c.getParent()instanceof CL;this.f.wh=a}n(KT,nO);KT.prototype.mn=function(a){return Q(this.f,"name","listing_items")!==N(this.f,"refDataKey")||a?KT.l.mn.call(this,a):!1};I.j().register("wnd.pc.ListingDataBlock",bI,eJ,KT);function LT(a,b,c){CT.call(this,a,b,c);this.g=null;this.la=[Tj,"publicIcons"]}n(LT,CT);f=LT.prototype;
f.Ja=function(){var a=[],b={};u(LT.l.Ja.call(this),function(a){b[a.c]=a},this);t.page.isHomepage||a.push(qi(ki(new ji,"go-to"),Xf(this.f.qh)));if(!1===MT(this))a.push(ni(mi(ki(new ji,"logo-add-image"),m(this.Zn,this)),"Add logo"));else{var c=ni(ki(new ji,"logo-image-tools"),"Logo");ui(c,[ni(mi(ki(new ji,"logo-change-image"),m(this.Zn,this)),"Change logo"),ni(mi(ki(new ji,"logo-remove-image"),m(this.Fw,this)),"Remove logo")]);a.push(c)}var c=wi(ni(ki(new ji,bG),"Format")),d=[];xh(d,pi(mi(ki(new ji,
YF),m(this.lf,this,"Bold")),!0));xh(d,pi(mi(ki(new ji,ZF),m(this.lf,this,"Italic")),!0));xh(d,pi(mi(ki(new ji,aG),m(this.lf,this,"IncreaseFont")),!0));xh(d,pi(mi(ki(new ji,$F),m(this.lf,this,"DecreaseFont")),!0));l(b[dG])&&xh(d,b[dG]);l(b[cG])&&xh(d,b[cG]);c.h=d;a.push(c);return a};
f.Zn=function(a){a.stopPropagation();a=N(this.f,"image");var b=Tj;MT(this)&&(b=HC(a.dataType,a.src));a=E.j();var c=this.la,d=L.j().get("project_info").getData(),e={};e.publicIcons={filterMN:[{key:"category",value:[Ea.StaticServerCategory.templates,d.uikit_name,d.template_name,d.template_branch_id,Ea.StaticServerCategory.logo],optional:[d.uikit_name,d.template_name,d.template_branch_id,Ea.StaticServerCategory.logo]}],orderMN:{key:"category",value:Ea.StaticServerCategory.logo,order:"DESC"}};eC(MG(a,
{showTypes:c,activeType:b,collectionSettings:e,checkLowResolution:!1}),"onInsert",this.Sv,this);qH(this).m.hide();this.Yb()};f.ra=function(a){a=LT.l.ra.call(this,a);NT(this);return a};
f.Sv=function(a,b){var c=this.f.getData(),d=b[0],d={"=context":"layout","=id":this.C(),"=imageId":d.getId(),"=imageSrc":d.ya(),"=dataType":d.J(),"=width":d.Ma(),"=height":d.getHeight()},d=Yi(I.j(),this.ca(),d);d.code=c.code;l(c.style)&&(d.style=c.style);Xi(this.f,d,!0);I.j().get(q.ImageSizeManager.mvcID).Ka(this.C(),this.ca());this.Ak();NT(this);OT(this);PT(this)};
f.Fw=function(a){a.stopPropagation();a=af(this.f.getData());Zk(a,this.ca(),{"=imageId":a.image.id,"=dataType":a.image.dataType});delete a.image;a.refs&&delete a.refs;Xi(this.f,a,!0);I.j().get(q.ImageSizeManager.mvcID);a=this.C();Kz(this.ca())&&bj()["delete"](a);qH(this).m.hide();this.Yb();NT(this);OT(this)};
function NT(a){var b=a.view,c={text:II(b).length?x.LogoBlock.styleClasses.withText:"",icon:""};b.Oa()&&(qo(b.Oa().src)?c.icon=x.LogoBlock.styleClasses.vector:(b=b.Oa().offsetWidth/b.Oa().offsetHeight,c.icon=1.5>b?x.LogoBlock.styleClasses["img-1-1"]:2.5>b?x.LogoBlock.styleClasses["img-2-1"]:3.5>b?x.LogoBlock.styleClasses["img-3-1"]:4.5>b?x.LogoBlock.styleClasses["img-4-1"]:x.LogoBlock.styleClasses["img-max"]));(b=c.text!==dI(a.f,"text"))||(b=c.icon!==dI(a.f,"icon"));b&&(hJ(a.view,c),a.f.ra(!0,{style:{cssClasses:c}}))}
function OT(a){a.f.options.Gg&&(OI(a.view,"",!0),a.f.ra(!0,{style:{cssClasses:{fontSize:a.f.ha}}}))}function MT(a){return null!=a.f.getData().image}f.na=function(a){LT.l.na.call(this,a);"colorSchemeChange"!=a.getType()&&"sectionBackgroundChange"!==a.getType()&&"pageBackgroundChange"!==a.getType()||requestAnimationFrame(m(this.Ak,this))};f.Y=function(a){LT.l.Y.call(this,a);"dataUpdate"==a.getType()&&a.J()===this.J()&&a.g===this.getId()&&(requestAnimationFrame(m(this.Ak,this)),this.Fa())};
f.Ak=function(){MT(this)&&qo(this.f.ya())&&this.view.Qe()};f.sb=function(a){for(var b=this.view,c=JI(b),b=b.B();c!==b;)c.scrollTop=0,c=c.parentNode;b.scrollTop=0;LT.l.sb.call(this,a)};function PT(a){var b=a.view.Oa();b&&("IMG"===b.nodeName?a.c.H(b,"dragstart",a.vv):a.c.H(b,"load",m(a.Fa,a)))}f.vv=function(a){a.preventDefault()};f.Tf=function(){return"logoColors"};f.Ua=function(a){LT.l.Ua.call(this,a);this.Aa()};
f.Aa=function(){var a=this.view.Mg();a&&qo(this.f.ya())&&(this.view.pf(!1),this.g||(this.g=I.j().create(this.C()+"_loading_logo","wnd.ui.Loading",a,this,{properties:{type:"icon"}})),this.g.show(),this.view.Km("relative"))};f.Fa=function(){this.g&&(this.g.dispose(),this.g=null);this.view.pf(!0)};f.O=function(){LT.l.O.call(this);PT(this)};f.Yj=function(a,b){LT.l.Yj.call(this,a,b);this.Ak();this.Fa()};
f.ae=function(a){var b=LT.l.ae.call(this,a);a.target===this.view.Mg()&&(a=qH(this).Pa(),l(a)&&qG(a));return b};f.Pd=function(a){LT.l.Pd.call(this,a);a&&"keydown"==a.type&&requestAnimationFrame(m(function(a){a!==MI(this.view)&&NT(this)},this,MI(this.view)))};I.j().register("wnd.pc.LogoBlock",cI,fJ,LT);function QT(a,b,c){JT.call(this,a,b,c);c&&(b=c.getParent(),c=b.getId(),a.rl=c,b=b.Xd(),a.cr=b);this.L=!1}n(QT,JT);f=QT.prototype;f.O=function(){QT.l.O.call(this);var a=this.B();this.c.H(a,gq,m(this.qz,this));this.c.H(a,"mouseover",m(this.rz,this))};function RT(a){if(kG(a.Z.Z)){var b=null===a.view.ea,c=a.view;c.ea||(c.ea=Tr(Tt),c.B().appendChild(c.ea));R.aa(c.ea,!0);b&&(b=a.view.ea)&&a.c.H(b,eq,m(a.Ix,a))}}f.Dc=function(a){a=QT.l.Dc.call(this,a);RT(this);return a};f.Yb=function(){};
f.Ix=function(a){a.stopPropagation();this.Kc()};f.Kc=function(){var a=this.Z;XR(a)?a.Z.Kc():QT.l.Kc.call(this)};f.rz=function(){RT(this)};f.qz=function(){if(kG(this.Z.Z)){var a=this.view;a.ea&&R.aa(a.ea,!1)}};function ST(a,b,c){QT.call(this,a,b,c)}n(ST,QT);I.j().register("wnd.pc.CheckboxGroupOption",fI,jJ,ST);function TT(a,b,c){QT.call(this,a,b,c)}n(TT,QT);I.j().register("wnd.pc.RadioGroupOption",gI,kJ,TT);function ML(a,b,c){TS.call(this,a,b,c);a.v=c.C();this.D=null}n(ML,TS);f=ML.prototype;f.Go=function(){var a=[];u(rJ(this),function(b){b.se()&&a.push(b)},this);return a};f.Sq=function(a,b,c){this.D=E.j().create("wnd.pc.InsertFormFieldPopup",x.InsertFormFieldPopup.mvcId,Dx(),tz(this),{destroyAfterClose:!1,centered:!1});eH(this.D,"form-field");var d=this.D,e=this.g;d.v!==e&&(null!==d.v&&(d.v.reset(),d.v.init()),d.v=e,LL(d));a?gH(this.D,a.B(),b):gH(this.D,this.B(),"bottom");hH(this.D,c)};
f.hn=function(a,b){if(!Qz)if(ky(b.Bb,"wnd_insert_type")){var c=jy(b.Bb,"wnd_insert_type");this.D&&this.D.hide();Uz(this.g,{blockType:c,sourceElement:b.Bb,limitingBlock:this.B(),asSibling:!1,realGrip:!1})}else ML.l.hn.call(this,a,b)};f.jn=function(a,b,c,d,e){!0===ky(b,"wnd_insert_type")?(a=QP(c.id),Tz(this.g),b=jy(b,"wnd_insert_type"),NL(this,b,a,d)):ML.l.jn.call(this,a,b,c,d,e)};
function NL(a,b,c,d){var e,g=[];e="default";c&&$R(a,c,d,x["wnd.pc.Field"].placeholder.height);e=e||"default";var h=YR(a,vv,c,d);h.data.field=b;h.data.variant=e;lf(h,m(a.Fv,a,c,d));g.push(h);a=new gi("createFormField",g.length);vL(Ph.j(),g,a)}f.Fv=function(a,b,c,d){cS(this);"error"!==c&&(a=ZR(this,d.id,a,b),a=new H("formFieldCreated",a),this.ba(a))};I.j().register("wnd.pc.FormFieldsetBlock",gP,oP,ML);function mS(a,b,c){hS.call(this,a,b,c);this.T=!0}n(mS,hS);var LJ="message",MJ="redirect";I.j().register("wnd.pc.FormBlock",wP,SP,mS);function UT(a,b,c){JT.call(this,a,b,c)}n(UT,JT);UT.prototype.Tf=function(){return"inlineColors"};I.j().register("wnd.pc.StyledInlineTextBlock",hI,lJ,UT);function VT(a,b,c){JT.call(this,a,b,c);this.f.options.lj=!1}n(VT,JT);VT.prototype.Ja=function(){var a=[];this.Qi()?a=VT.l.Ja.call(this):a.push(pi(mi(ki(new ji,UE),m(this.Kc,this)),!0));return a};VT.prototype.Kc=function(){this.Qi()?VT.l.Kc.call(this):(this.sb(),$L())};VT.prototype.Qi=function(){return vo.j().hasFeature("customize_footer")};I.j().register("wnd.pc.SystemFooterBlock",iI,mJ,VT);function PS(a,b,c){mS.call(this,a,b,c)}n(PS,mS);I.j().register("wnd.pc.SystemFormBlock",KP,fQ,PS);function yL(a,b,c){yO.call(this,a,b,c);this.g=[]}n(yL,yO);function WT(a,b){if(0==a.g.length||b){var c=a;for(a.g=[];c.jb&&c.jb instanceof zL&&AL(c.jb);)c=c.jb,a.g.push(c)}return a.g}f=yL.prototype;f.El=function(){for(var a=this,b=[];a.jb&&a.jb instanceof zL&&AL(a.jb);)a=a.jb,b.push(a.B());return b};f.Vl=function(){for(var a=this,b=0;a=a.jb;)b++;return b==WT(this,!0).length&&!this.Ib};f.move=function(a,b,c){yL.l.move.call(this,a,b,c);ph(WT(this),function(b){b.move(a,this,"top")},this)};
f.X=function(){u(WT(this),function(a){a.dispose()},this);yL.l.X.call(this)};f.Fj=function(){var a=uT().getContent();MI(this.view)||(a=AT(a));return a};I.j().register("wnd.pc.TextBlock",jI,nJ,yL);function XT(a,b,c){mS.call(this,a,b,c)}n(XT,PS);I.j().register("wnd.pc.UserChangePasswordFormBlock",LP,gQ,XT);function ZT(a,b,c){mS.call(this,a,b,c)}n(ZT,PS);I.j().register("wnd.pc.UserLoginFormBlock",MP,hQ,ZT);function $T(a,b,c){mS.call(this,a,b,c)}n($T,PS);I.j().register("wnd.pc.UserRecoveryFormBlock",NP,iQ,$T);function aU(a,b,c){mS.call(this,a,b,c)}n(aU,PS);I.j().register("wnd.pc.UserRegistrationFormBlock",OP,jQ,aU);function bU(a,b,c){EK.call(this,a,b,c)}n(bU,EK);bU.prototype.kc=function(){return"zone"};I.j().register("wnd.pc.ContentZone",EQ,FQ,bU);function cU(a,b,c){EK.call(this,a,b,c)}n(cU,bU);f=cU.prototype;f.ln=!0;function dU(a){a=rJ(a,!0,["column","column_wrapper"]);for(var b=a.length,c=0;c<b;c++)uJ(a[c])&&a[c].Ib&&FS(a[c]).init()}function eU(a){a.V.observe("onDragstart",a.Zy,a);a.V.observe("onDragend",a.Yy,a);a.V.observe("onDrop",a.$y,a);a.rg()}f.rg=function(){this.g=rJ(this,!0,["column","column_wrapper"]);xL(this,"wnd.pc.PageZone").rg(this,this.g)};f.Zy=function(){};f.Yy=function(){};f.$y=function(){};
f.uw=function(a,b,c,d,e,g){ky(c,x.ContentBlock.separableParts.typeIsSeparable)&&(c=wL(this,c,d));c=QP(c.id);this.V.Ih&&(uJ(c)||BL(c))&&(c=uR(c));if("top"==d||"bottom"==d)c==this?(a=this,c=null):a=c.Z;else{var h;if(c instanceof GS)h=c.Z,a=h.rd("wnd.pc.ContentZoneCol",c,d);else{c instanceof yL&&WT(c);h=c==this?this.rd("wnd.pc.ContentZoneColWrapper"):c.Z.rd("wnd.pc.ContentZoneColWrapper",c,d);var k=h.rd("wnd.pc.ContentZoneCol"),p=h.rd("wnd.pc.ContentZoneCol");a="left"==d?k:p;k="left"==d?p:k;c==this?
(c=[h.getId()],UR(this,k,null,null,c)):c.move(k)}c=null}if(!0===ky(b,"wnd_insert_type"))""!==jy(b,"wnd_insert_type")&&(e=jy(b,"wnd_insert_type"),"wnd.pc.FormBlock"===e?(b=jy(b,"wnd_insert_content_identifier"),DL(a,b,c,d)):"wnd.pc.BlogRecentPosts"===e?EL(a,c,d):(d=a.rd(e,c,d,g),HL(this,d)));else if(e){b=e;b instanceof rH&&(b=e.Da());e=c;if("top"==d&&e instanceof yL)for(;e.jb instanceof zL&&AL(e.jb);)e=e.jb;(c=e)&&c.C()===b.C()||b.move(a,c,d);HL(this,b);c?b.Xg()&&b.resize(!0):a.bi(!0)}};
function HL(a,b){if(b instanceof zL){var c=a.V.Ih;if(c||AL(b)){b.f.kk(c?c:"none");b.f.fb=void 0;c&&(sI(b.view,{left:0,right:0}),b.Ac(),FH(b.f));var d=b.f.fb;R.setWidth(b.view.B(),d?d+"%":"");b.view.kk(c);b.ra()}}}f.Y=function(a){"parent_propagation"==a.h&&(a.c instanceof yO&&"dataCreate"!=a.getType()&&this.notify("onChangeTextContent",this),uz(this,m(this.Wq,this,a)))};f.na=function(a){"parent_propagation"==a.h&&a.c instanceof GM&&"contentMove"===a.getType()&&uz(this,m(this.Wq,this,a))};
f.Wq=function(){WR(this)&&this.f.Df&&this.rd("wnd.pc.TextBlock").mg()};f.Jb=function(a,b,c,d){cU.l.Jb.call(this,a,b,c,d);!this.I&&cJ()&&(!this.V&&this.ln&&(this.V=xL(this,"wnd.pc.PageZone").V,this.g=[],eU(this)),dU(this))};
function wL(a,b,c){var d=null,e=jy(b,x.ContentBlock.separableParts.typeSeparableId);if(e){d=QP(e);b=parseInt(jy(b,x.ContentBlock.separableParts.typeSeparableIndex),10);if(0===b&&("left"===a.V.Ih||"right"===a.V.Ih))return d.B();a=BT(d,b?b:1);a=d.Z.rd(d.ca(),d,"bottom",{code:a},{noScrollIntoViewport:!0});if(0==b)return d.B();"left"!==c&&"right"!==c||!1!==(d.f.En===parseInt(b,10)+1)||(c=BT(a,1),a.Z.rd(a.ca(),a,"bottom",{code:c}));d=a.B()}return d}
f.bi=function(a){for(var b=rJ(this),c=b.length,d=0;d<c;d++)nm(b[d])&&b[d].Xg()&&b[d].resize(a)};f.Yd=function(){cU.l.Yd.call(this);this.ln&&(this.V=xL(this,"wnd.pc.PageZone").V,this.g=[],eU(this));dU(this)};I.j().register("wnd.pc.EditZone",GQ,HQ,cU);function CL(a,b,c){EK.call(this,a,b,c);this.D=!1;this.ea=this.la=this.wa=this.U=null;this.g=!1;this.o=null;this.qa=!1;a=window.location.pathname;do{a=a.match(/^(.*)\/(p-[a-z0-9]+)\/([0-9]+)\/(.*)$/);if(!a)break;b=parseInt(a[3],10);a[2]==NQ(this.f)&&b&&(this.f.page=b);a=a[1]}while(a)}n(CL,bU);f=CL.prototype;f.Ld=function(){return"ListingItemHover"};f.Ja=function(){var a=[];this.f.$a()&&(a.push(this.$k()),a.push(this.cl()),a.push(fU(this)));return a};
f.$k=function(a){a=a||"list-add";return pi(mi(ki(new ji,a),m(this.Kn,this)),!1)};f.cl=function(a){a=a||"list-manager";return pi(mi(ki(new ji,a),m(this.Tx,this)),!1)};
function fU(a){a.U=wi(pi(ki(new ji,"list-layout"),!1));if(!D(Nu(a.f.ca()))){var b=[];a.wa=vi(si(mi(ni(ki(new ji,eG),"Style"),m(a.mz,a)),gU(a)).eb(N(a.f,"variant")),x.ContentBlock.dropdownHeight.listingVariants);b.push(a.wa);QQ(a.f,"changeCount")&&(a.la=yi(pi(mi(ki(new ji,"list-increase-items"),m(a.Ap,a,"increase")),!0),Number(N(a.f,"limit"))>=x.ListingZone.maxItemsOnPage),b.push(a.la),a.ea=yi(pi(mi(ki(new ji,"list-decrease-items"),m(a.Ap,a,"decrease")),!0),1>=Number(N(a.f,"limit"))),b.push(a.ea));
a.U.h=b}return a.U}function gU(a){var b=[];u(Nu(a.f.ca()),function(a){b.push(YD(ZD((new XD).Ha(a),hU(a)),vE))},a);return b}f.Kn=function(a){a.stopPropagation();this.Yb();a=this.f.$a();E.j().create("wnd.pc.AddListingItemPopup","wnd_popup_listing_add",document.body,this,{},{listingPageId:a,width:x.DefaultPopupProperties["wnd.pc.AddListingItemPopup"].width})};
f.Tx=function(a){a.stopPropagation();this.Yb();this.o=E.j().create("wnd.pc.BlogAdminPopup",x.BlogAdminPopup.mvcId,document.body,this,{},{zoneId:this.C(),listingPageId:this.f.$a()});eC(this.o,"onBlogAddArticle",this.qu,this);eC(this.o,"onClose",this.jw,this)};f.qu=function(a,b){this.Kn(b)};f.jw=function(){this.o.v&&iU(this,!0)};f.mz=function(a,b){Wi(this.f,"variant",b);this.Wc();kG(this)&&UQ(this.view,!0)};
f.Ap=function(a){if(!this.g){var b;b=N(this.f,"limit");b=null!=b?"decrease"===a&&0===this.f.page&&b>this.F.length?this.F.length:b:this.F.length;if("decrease"===a?1<b:"increase"===a&&b<x.ListingZone.maxItemsOnPage)b+="increase"===a?1:-1,Wi(this.f,"limit",b),this.ba(new H("saveContentItems",this)),iU(this,!1),a=b,yi(this.ea,1>=a),yi(this.la,a>=x.ListingZone.maxItemsOnPage)}};
f.Y=function(a){CL.l.Y.call(this,a);if("dataDelete"==a.getType()&&"listing_items"==a.J()){var b;b=a.g;for(var c=rJ(this),d,e=0;e<c.length;e++)c[e].f.getData().listingItemId==b&&(d=c[e]);if(b=d)b.dispose(),this.f.update("data_updated")}"dataUpdate"==a.getType()&&"listing_items"==a.J()&&"children_propagation"==a.h&&iU(this,!0)};f.na=function(a){CL.l.na.call(this,a);"listingItemReload"===a.getType()&&iU(this,!1)};f.$d=function(a){CL.l.$d.call(this,a);UQ(this.view,!0)};
f.sb=function(a){this.g||(CL.l.sb.call(this,a),UQ(this.view,!1))};f.Dc=function(a){kG(this)||(this.D=!1);if(this.Jc()){var b=qH(this),c;if(c=b)c=null!=b.Pa();c&&b.Pa().Ya()&&qG(b.Pa())}return CL.l.Dc.call(this,a)};f.ae=function(a){this.D||CL.l.ae.call(this,a);kG(this)&&(this.D=!0);return!0};
function iU(a,b){if(!a.g){a.f.P=!0;a.qa=b;a.g=!0;var c=[],d=new Kg;d.data.mvcId=a.C();d.data.listingPageId=a.f.$a();lf(d,m(a.$w,a));c.push(d);d=new gi("listingZoneUpdate",c.length);vL(Ph.j(),c,d);kG(a)&&a.Aa()}}f.$w=function(a,b){l(b.changedItems)&&(la(b.totalItems)&&(this.f.Gb=b.totalItems),L.j().get("listing_items").Ea(m(this.dw,this,b.changedItems)))};
f.dw=function(a){nP(this.view);jU(this);this.f.page=0;na(window.history)&&ma(window.history.replaceState)&&window.history.replaceState({},"",OQ(this.f));Ig.j().h=!0;Hg(Ig.j(),a);Ig.j().h=!1;D(a[this.C()].content)||TR(this);this.view.fc();a=this.view;a.B()&&R.setSize(a.B(),"","");this.Fa();this.g=this.f.P=!1;this.Wc();this.qa&&this.ba(new H("listingItemReload",this));kG(this)&&UQ(this.view,!0)};function jU(a){var b=eg(a.F);u(b,function(a){ma(a.qo)&&a.qo()},a)}f.Aa=function(){(new Aw(this.B(),400)).play()};
f.Fa=function(){(new Bw(this.B(),400)).play()};function hU(a){var b="";switch(a){case "default":b="Basic";break;case "basic":b="Headings";break;case "textGrid":b="Text Grid";break;case "textOverImage":b="Large Tiles";break;case "classic":b="Left Thumbnail";break;case "classicGrid":b="Classic Grid";break;case "feed":b="Feed";break;case "large":b="Large Image";break;case "largeGrid":b="Tiles with Text";break;case "photoBlog":b="Photo Blog";break;default:b=a}return b};function kU(a,b,c){CL.call(this,a,b,c);this.T=!0}n(kU,CL);kU.prototype.$k=function(){return kU.l.$k.call(this,"blog-add")};kU.prototype.cl=function(){return kU.l.cl.call(this,"blog-manager")};I.j().register("wnd.pc.BlogZone",RQ,VQ,kU);function lU(a,b,c){kU.call(this,a,b,c)}n(lU,kU);lU.prototype.Ja=function(){var a=[];this.sc()&&this.xa&&a.push(pi(mi(ki(new ji,"remove-confirm"),m(this.Kc,this)),!0));return zh(lU.l.Ja.call(this),a)};lU.prototype.X=function(){this.$a=!1;lU.l.X.call(this)};lU.prototype.Y=function(a){lU.l.Y.call(this,a);"dataDelete"==a.getType()&&"gui_pages"==a.J()&&"children_propagation"==a.h&&this.f.$t==a.g&&iU(this,!0)};I.j().register("wnd.pc.BlogRecentPosts",SQ,WQ,lU);function mU(a,b,c){this.ln=!1;EK.call(this,a,b,c)}n(mU,cU);mU.prototype.Wa=function(a){mU.l.Wa.call(this,a);WR(this)&&(a=m(this.rd,this,"wnd.pc.ImageBlock",null,null),FL(GL.j(),"wnd.pc.ImageBlock",a)||a())};mU.prototype.Dc=function(a){return WR(this)?mU.l.Dc.call(this,a):!1};mU.prototype.Ua=function(a){mU.l.Ua.call(this,a);ZQ(this.view)};I.j().register("wnd.pc.MediaZone",XQ,YQ,mU);function nU(a,b){Hi.call(this,a,b)}n(nU,Hi);
nU.prototype.cq=function(a){var b,c=this.fl(),d=oU(this);Xe(d.page_content_items)||(t.isListingDetail?b={dataType:"listing_items",dataKey:"listing_items.content_items",dataSettings:{id:t.listing_item.id}}:b={dataType:"gui_pages",dataKey:"gui_pages.content_items",dataSettings:{id:t.page.id}},Bf(a,d.page_content_items,this.c.page_content_items,b,this.J()),Bf(c,this.c.page_content_items,d.page_content_items,b,this.J()));Xe(d.template_content_items)||(b=t.page.template.id,t.isListingDetail&&(b=t.listing_page.template_id),
b={dataType:"gui_page_templates",dataKey:"gui_page_templates.content_items",dataSettings:{id:b}},Bf(a,d.template_content_items,this.c.template_content_items,b,this.J()),Bf(c,this.c.template_content_items,d.template_content_items,b,this.J()));oM(wC.j(),c,a);this.c=d};nU.prototype.kg=function(){this.m=!1;nU.l.kg.call(this);Xe(this.c)&&this.fi()};
function oU(a){var b={},c={},d=Bg.j().get("temp_content_items");Ag(d,af(a.getData()));d=Uh(d).getData();d=pU(a,d);z(d,function(a,d){null!=a.temp||("page"==a.context?b[d]=a:c[d]=a)},a);return{page_content_items:b,template_content_items:c}}function pU(a,b){var c=qU(a,b);0<c.length&&u(c,function(a){b[a].content=[]},a);return b}function qU(a,b){var c=[];z(b,function(a){"wnd.pc.BlogZone"!==a.type&&"wnd.pc.BlogRecentPosts"!==a.type||c.push(a.id)},a);return c}nU.prototype.fl=function(){return new Df};
nU.prototype.fi=function(){"content_items"===this.dataType&&(this.c=oU(this))};L.j().register("wnd.pc.ContentItemDataCollection",nU);function rU(a){Bi.call(this,a,x);this.g=this.o=this.L=0}n(rU,Bi);f=rU.prototype;
f.init=function(){var a={id:x.PageZoneModel.ZoneId};I.j().create(x.PageZoneModel.ZoneId,"wnd.pc.PageZone",document.body,this,a);I.j().create(q.ImageSizeManager.mvcID,"wnd.static.ImageSizeManager",document.body,this);I.j().create(q.VideoLoaderManager.mvcID,"wnd.static.VideoLoaderManager",document.body,this);sU(this);"?aw=1"===window.location.search&&"1"!==Je.get("welcomeDone")&&E.j().create("wnd.pc.WelcomePopup",x.WelcomePopup.mvcId,document.body,this,{withOverlay:!0,destroyAfterClose:!0,centered:!0});
tU(this);Vm(new fw,["online","offline"],m(this.Ou,this),!1,this)};function tU(a){var b=rJ(ER(),!0,["container","section"]),c=!1;u(b,function(a){"wnd.pc.HeaderSection"==a.ca()&&(c=!0)},a);c||(a.c=E.j().create("wnd.ui.Toolbox","wnd_ui_Toolbox_layout",document.body,a,{withOverlay:!1},{className:"transparent",noScroll:!0}),b=[pi(mi(ki(new ji,"section-edit"),m(a.Zs,a)),!0)],bg(a.c,b,!0),b=R.getBounds(ER().B()),b.top+=x.Section.topOffset,a.c.f.qd=b,gG(a.c))}
f.resize=function(){this.v&&clearTimeout(this.v);this.v=setTimeout(m(this.dk,this,"resizeWindow"),100)};f.focus=function(){this.o&&clearTimeout(this.o);this.o=setTimeout(m(this.dk,this,"focusWindow"),100)};f.blur=function(){this.g&&clearTimeout(this.g);this.g=setTimeout(m(this.dk,this,"blurWindow"),100)};f.dk=function(a){a=new H(a);a.h="children_propagation";Ci(ag.j(),a)};function ER(){return I.j().get(x.PageZoneModel.ZoneId)}function Dx(){return Um(x.WorkareaElementId)}
function vJ(a){return nA.j().get(a,document.body,"pageblocks")}f.xt=function(){return R.getBounds(this.c.le("section-edit"))};f.Zs=function(a){a.stopPropagation();E.j().create("wnd.pc.LayoutPopup",x.LayoutPopup.mvcId,document.body,this,{destroyAfterClose:!1},{coordinates:m(this.xt,this)});return!0};f.Ou=function(a){"offline"===a.type&&YL()};
function sU(a){z(x.frontendElements,function(a,c){if(!Mg(I.j(),a)){var d=Um(a);if(d){var e=document.body;d&&d.parentNode&&(e=d.parentNode);d={id:a};I.j().create(a,c,e,this,d)}}},a)};function uU(a,b,c){tC.call(this,a,b,c);this.o.Choose=m(this.g,this)}n(uU,tC);uU.prototype.g=function(){var a=Yz(this),b=!0,c=vo.j();"dfc.generic.membersArea"!==a.fg.identifier||c.hasFeature("member_login")||(aM(),b=!1);if(!b)return!1;a=P(this.f,"switchGroups");a=ha(a)?a[0]:null;b=Yz(this);if(!na(b.fg)||null===a)return!1;a=P(this.f,"switchContainer").toString();!0===Mg(I.j(),a)&&vU(I.j().get(a));return!0};I.j().register("wnd.pm.AddNewPageControlBar",Oj,xB,uU);function wU(a,b){ly.call(this,a,b);this.h={"class":"wnd-page-template-wrapper"}}n(wU,ly);wU.prototype.da=function(){this.c||this.Of();Qr(this.c,Cs,{title:P(this.f,"pageTemplateTitle"),src:this.ya()})};
wU.prototype.ya=function(){var a="";switch(P(this.f,"pageTemplateIcon")){case "dfc.generic.blankPage":a="blank_page.jpg";break;case "dfc.generic.aboutUs":a="about_us.jpg";break;case "dfc.generic.contact":case "dfc.generic.contactUs":a="contact_us.jpg";break;case "dfc.generic.blog":a="blog.jpg";break;case "dfc.generic.twoCols":a="two_cols.jpg";break;case "dfc.generic.threeCols":a="three_cols.jpg";break;case "dfc.generic.twoCols.images":a="two_cols_images.jpg";break;case "dfc.generic.threeCols.images":a=
"three_cols_images.jpg";break;case "dfc.generic.team":a="team.jpg";break;case "dfc.generic.services":a="services.jpg";break;case "dfc.generic.pricelist":a="pricelist.jpg";break;case "dfc.generic.map":a="map.jpg";break;case "dfc.generic.form":a="form.jpg";break;case "dfc.generic.orderForm":a="order_form.jpg";break;case "dfc.generic.testimonials":a="testimonials.jpg";break;case "dfc.generic.faq":a="faq.jpg";break;case "dfc.generic.photoGallery":a="photogallery.jpg";break;case "dfc.generic.photoGallery.slideshow":a=
"slideshow.jpg";break;case "dfc.generic.imageHeader":a="image_header.jpg";break;case "dfc.generic.products":a="products.jpg";break;case "dfc.generic.membersArea":a="members_area.jpg";break;default:a="blank_page.jpg"}return no("client/img/popup/page-templates/"+a)};wU.prototype.eb=function(a){Hl(this.B(),Md.AddNewPagePattern.selectedClassName,a)};function xU(a,b,c){sz.call(this,a,b,c)}n(xU,sz);f=xU.prototype;f.O=function(){xU.l.O.call(this);this.c.H(this.B(),T,this.Uz);this.c.H(this.B(),"dblclick",this.pv)};f.Uz=function(){this.eb(!0)};f.pv=function(){var a=P(this.f,"parentSwitchContainer").toString();!0===Mg(I.j(),a)&&(this.eb(!0),vU(I.j().get(a)))};
f.eb=function(a){!0===a&&(Yz(this.getParent()).fg={patternId:P(this.f,"pageTemplateId"),pageName:P(this.f,"pageTemplateTitle"),identifier:P(this.f,"pageTemplateIdentifier")});this.view.eb(a);this.f.eb(a);this.notify("onChangeSelection",this,a)};f.Id=function(a){var b=!1;z(a,function(a,d){P(this.f,d)!=a&&(O(this.f,d,a),b=!0)},this);b&&this.view.fc()};I.j().register("wnd.pm.AddNewPagePattern",al,wU,xU);function yU(a,b){qB.call(this,a,b)}n(yU,qB);yU.prototype.T=function(a){this.c.style.overflow=!0===a?"hidden":"auto"};function zU(a,b,c){RB.call(this,a,b,c);this.D={};this.o=[];this.I=this.g=this.v=null;this.G=0}n(zU,RB);f=zU.prototype;f.fa=function(){};function AU(a){Xe(a.D)||(a.Aa(),a.f.Ea(m(a.rr,a),null,a))}
f.rr=function(a,b,c,d){if("success"===a){this.Fa();a=0;for(c=d.order.length;a<c;a++){var e=b[d.order[a]],g=e[Q(this.f,"identifier")],h=!0;switch(g){case "dfc.generic.blog":h=Ue("blog");break;case "dfc.generic.membersArea":h=Ue("member_login")}h&&(h=this.C()+"_page_"+e["tpl_page_templates.id"],e={parentSwitchContainer:P(this.f,"switchContainer"),parentSwitchGroup:P(this.f,"switchGroups")[0],initRenderFlag:!0,pageTemplateId:e[Q(this.f,"id")],pageTemplateIdentifier:g,pageTemplateTitle:e[Q(this.f,"title")],
pageTemplatePageName:"",pageTemplateIcon:e[Q(this.f,"icon")],pageTemplateSrc:e[Q(this.f,"src")]},this.D[h]?this.D[h].Id(e):(g=h,e=this.K(g,"wnd.pm.AddNewPagePattern",null,{properties:e}),e.observe("onChangeSelection",m(this.Ru,this),e),this.D[g]=e,null===this.v&&(this.v=e),this.o.push(g)))}this.view.T(!1)}};f.ka=function(a){zU.l.ka.call(this,a);this.Aa();this.f.Ea(m(this.rr,this),null,this)};f.Ru=function(a,b,c){c&&(this.g&&this.g.C()!==b.C()&&this.g.eb(!1),this.g=b)};
f.O=function(){zU.l.O.call(this);this.I=new Er(document.body);this.c.H(this.I,"key",m(this.Vz,this))};f.Za=function(){zU.l.Za.call(this);null!=this.I&&this.I.dispose()};
f.Vz=function(a){var b=!0;switch(a.keyCode){case 13:var c=P(this.f,"switchContainer");Mg(I.j(),c)&&vU(I.j().get(c));break;case 37:c=BU(this);CU(this,this.o[c-1]);break;case 39:c=BU(this);CU(this,this.o[c+1]);break;case 38:c=BU(this);c=this.o[c-DU(this)];l(c)||(c=this.o[0]);CU(this,c);break;case 40:c=BU(this);c=this.o[c+DU(this)];l(c)||(c=mh(this.o));CU(this,c);break;default:b=!1}b&&(a.stopPropagation(),a.preventDefault())};function BU(a){return nh(a.o,a.g.C())}
function CU(a,b){if(l(a.D[b])){a.D[b].eb(!0);var c=R.zl(a.D[b].B(),a.B(),!0);a.B().scrollTop=c.y}}function DU(a){0===a.G&&null!=a.v&&(a.G=Math.floor(a.B().offsetWidth/a.v.B().offsetWidth));return a.G}f.Y=function(a){zU.l.Y.call(this,a);if("dataDelete"===a.getType()&&a.c&&"wnd.pm.PagesTreeItem"==a.c.ca()){var b=!1;null!=t.listings&&u(Ve(t.listings),function(c){a.g==c.page_id&&(b=!0)},this);b&&AU(this)}};I.j().register("wnd.pm.AddNewPagePatterns",bl,yU,zU);function EU(a,b){zB.call(this,a,b)}n(EU,zB);EU.prototype.N=function(){return{title:"Choose page template",Ue:P(this.f,"switchGroups")}};function FU(a,b,c){RB.call(this,a,b,c)}n(FU,yC);I.j().register("wnd.pm.AddNewPageTopBar",Pj,EU,FU);function GU(a,b,c){tC.call(this,a,b,c);this.o.Create=m(this.g,this)}n(GU,tC);GU.prototype.g=function(){Yz(this).mb();return!0};I.j().register("wnd.pm.NewPageControlBar",Oj,xB,GU);function HU(a,b){uB.call(this,a,b);this.h={"class":"wnd-new-page-form"}}n(HU,uB);function IU(a,b,c){Fz.call(this,a,b,c);this.I=!1;this.D=""}n(IU,Fz);f=IU.prototype;f.fa=function(){this.g=this.K("wnd-new-page-name","wnd.ui.ShortTextFormItem",null,{create:{data:{value:""}},properties:{id:dC(this),name:Q(this.f,"name"),label:"Page title",defaultValue:"New page",hideLabel:!1,required:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},validateContinuous:!0}});Ka(t.visibleRelease,"contextHelp")&&this.g.observe("onKey",m(this.Xz,this),this)};
f.show=function(){IU.l.show.call(this);if(this.g instanceof cA){var a=Yz(this).fg.pageName||this.g.getValue();this.g.lc("value",a);this.g.focus(!0);sp(this.g.view.ce);this.I=!1;this.D=""}};f.O=function(){this.Za();IU.l.O.call(this)};
f.Ye=function(){var a=Yz(this),b=a.fg,a=Si(Qi.j(),a.yj()),c=Vf(a),d=Wf(a),e=this.g.getValue()||b.pageName,a=new gi("createNewPage",1);gr(Ph.j(),a);var g=Bg.j().get(this.f.J()),e={"gui_pages.name":e},b={parentId:d,langFe:c,templateId:parseInt(b.patternId,10)},c=m(this.lv,this);Ki(g,e,b,c,a);0<this.D.length&&(this.D="")};
f.lv=function(a,b){var c=Yz(this);null!=c&&(c=c.fg,null!=c&&"dfc.generic.membersArea"===c.identifier&&Qa.mc("ml_end_add_page_member_area"));var d=b.id,e=this;L.j().get(this.f.J(),{filter:[{prefix:"",key:"gui_pages.id",operator:"=",value:d,suffix:""}]}).Ea(function(a,b){if(!0===l(b[d]))window.location.href="/"+b[d][Q(e.f,"identifier")]+"/";else{var c=new yg("dataCreate","parent_propagation",e.f.J(),e,b.id);e.ba(c);e.Fa();Yz(e).hide()}},null,this)};
f.zc=function(a){null!=this.g&&this.g.Ta().blur();IU.l.zc.call(this,a)};
f.Xz=function(){var a=this.g.getValue(),b=!1,c=null;a.length>Md.TooLongPageName.notice?(b=!0,a.length>Md.TooLongPageName.warning&&(c=Py),this.D.length<a.length&&(this.D=a)):c=My;this.g.setState(c);!1===this.I&&b&&(Yz(this).resize(Md.AddNewPagePopup.formContent.width,Md.AddNewPagePopup.formContent.tooltipHeight),this.resize(Md.NewPageForm.width,Md.NewPageForm.tooltipHeight),this.g.Rk('Tip: Short page names help visitors navigate your site better. e.g. "About" instead of "About our company".',"wnd-page-name-alert"),
this.I=b)};f.resize=function(a,b){la(a)&&(a+="px");la(b)&&(b+="px");this.view.setSize(a,b)};I.j().register("wnd.pm.NewPageForm",cl,HU,IU);function JU(a,b){zB.call(this,a,b)}n(JU,zB);JU.prototype.N=function(){return{title:"Enter page name"}};function KU(a,b,c){RB.call(this,a,b,c)}n(KU,yC);I.j().register("wnd.pm.NewPageTopBar",Pj,JU,KU);function LU(a,b){uB.call(this,a,b);this.h={"class":"wnd-page-edit"};this.m=this.v=this.W=null;this.G={}}n(LU,uB);LU.prototype.nd=function(){return this.W};LU.prototype.U=function(){return this.v};function MU(a,b){null!==a.v&&R.aa(a.v,b)}function NU(a,b,c){null!==a.m&&sp(a.m);b=b.querySelector("label");a.m=gs(Xt,{href:"/"+c+"/"});rp(a.m,b)}LU.prototype.pa=function(){return R.pa(this.Be())};function OU(a,b,c){vz.call(this,a,b,c)}n(OU,cA);OU.prototype.tf=function(a){this.getValue()&&OU.l.tf.call(this,a)};OU.prototype.hm=function(a){wz(this)===Ny&&N(this.f,"value")&&!this.getValue()?this.reset():OU.l.hm.call(this,a)};I.j().register("wnd.pm.PageNameFormItem",qj,dz,OU);function PU(a,b,c){Fz.call(this,a,b,c);this.wa=this.qa=this.D=this.I=this.W=this.g=null;this.U=!1;this.Ca=[];this.G=this.T=null;this.Ia="";this.f.observe("onUpdateCancelled",this.aA,this)}n(PU,oC);f=PU.prototype;f.sw=function(a,b,c,d){!Ez(this)||null!=this.T&&this.T===this.getId()||u(this.Zc(),function(a){a.ee()},this);O(this.f,"isSystemPage",d);O(this.f,"isRoot",c);this.getId()!==b&&this.Ha(b);null!=this.T&&(this.Fa(),this.T=null);this.Ia=""};f.Po=function(){return this.W.getValue()||this.g.getValue()};
f.bq=function(){this.notify("onPageNameChange",this.g.getValue())};f.$j=function(){this.Cc()};f.Y=function(a){PU.l.Y.call(this,a);"children_propagation"==a.h&&a.J()==this.J()&&a.g==this.getId()&&this.Cc()};f.na=function(a){PU.l.na.call(this,a);"openPagesManager"===a.getType()&&QU(this)};f.Cc=function(){PU.l.Cc.call(this);QU(this);null!=this.G&&this.f.Ea(this.G.Fr,null,this.G)};
function QU(a){RU(a);null!=a.view.U()&&MU(a.view,!P(a.f,"isRoot")&&!SU(a));null!=a.D&&0==a.D.getValue()&&NU(a.view,a.D.B(),a.I.getValue());null!=a.I&&a.I.view.sn(!!P(a.f,"isRoot"));Hl(a.wa,"wnd-disabled",SU(a));null!=a.G&&u(a.G.F,function(a){var c="defaultItem";SU(this)&&(c=dj);a.setState(c)},a)}f.fa=function(){this.f.Ea(this.bA,null,this)};function TU(){return"wnd_page_edit_"}
f.bA=function(a,b){this.Fa();var c=this.f.cd.On,d=this.f.cd.Ki;ZB(this,c);var e=this.K(TU()+c,"wnd.ui.Fieldset",c,{properties:{initRenderFlag:!0,switchAnimation:!0}});this.Ca.push(e);this.g=e.K(TU()+"name","wnd.pm.PageNameFormItem",null,{create:{data:{value:b[Q(this.f,"name")]}},properties:{id:dC(this),name:Q(this.f,"name"),defaultValue:b[Q(this.f,"name")],identifier:b[Q(this.f,"identifier")],required:!0,label:"Page name",hideLabel:!0,initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255},
validateContinuous:!0,extendCssClass:"wnd-page-edit-name"}});this.g.observe("onReset",this.bq,this);Ue("contextHelp")&&this.g.observe("onKey",m(this.$z,this),this);this.D=e.K(TU()+"show_in_menu","wnd.ui.CheckboxFormItem",null,{create:{data:{value:parseInt(b[Q(this.f,"show_in_menu")],10)}},properties:{id:dC(this),label:"Show page in navigation menu",name:Q(this.f,"show_in_menu"),defaultValue:parseInt(b[Q(this.f,"show_in_menu")],10),initRenderFlag:!0,extendCssClass:"wnd-switch wnd-page-show-in-menu"}});
0==this.D.getValue()&&NU(this.view,this.D.B(),b[Q(this.f,"identifier")]);this.G=e.K(TU()+"_private_access_area","wnd.ui.PrivateAccessFieldset",null,{properties:{initRenderFlag:!0,data:b,dataType:this.f.J()}});var c=this.view,e=e.B(),g=gs(Vt,{type:d});e.appendChild(g);this.wa=c.G[d]=g;Md.PageEdit.homepageIdentifier===b[Q(this.f,"identifier")]&&MU(this.view,!1);d=this.f.cd.Ki;d=this.K(TU()+d,"wnd.ui.Fieldset",d,{properties:{initRenderFlag:!0,switchAnimation:!0,css:"wnd-page-edit-advanced"}});d.hide();
this.qa=d;this.Ca.push(d);this.W=d.K(TU()+"html_title","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"html_title")]}},properties:{id:dC(this),label:"Page title",name:Q(this.f,"html_title"),defaultValue:b[Q(this.f,"html_title")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});this.I=d.K(TU()+"identifier","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"identifier")]}},properties:{id:dC(this),label:"Page address (URL)",name:Q(this.f,"identifier"),
defaultValue:b[Q(this.f,"identifier")],initRenderFlag:!0,required:!0,disabled:Md.PageEdit.homepageIdentifier===b[Q(this.f,"identifier")],validateType:"validateIdentifier",validateArgs:{max:255},validateContinuous:!0}});d.K(TU()+"meta_description","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_description")]}},properties:{id:dC(this),label:"Meta description",name:Q(this.f,"meta_description"),defaultValue:b[Q(this.f,"meta_description")],initRenderFlag:!0,validateType:"validateLessThan",
validateArgs:{max:255}}});d.K(TU()+"meta_keywords","wnd.ui.ShortTextFormItem",null,{create:{data:{value:b[Q(this.f,"meta_keywords")]}},properties:{id:dC(this),label:"Meta keywords",name:Q(this.f,"meta_keywords"),defaultValue:b[Q(this.f,"meta_keywords")],initRenderFlag:!0,validateType:"validateLessThan",validateArgs:{max:255}}});d.K(TU()+"header_code","wnd.ui.LongTextFormItem",null,{create:{data:{value:b[Q(this.f,"header_code")]}},properties:{id:dC(this),label:"Custom HTML header code",name:Q(this.f,
"header_code"),defaultValue:b[Q(this.f,"header_code")],initRenderFlag:!0}});d.K(TU()+"footer_code","wnd.ui.LongTextFormItem",null,{create:{data:{value:b[Q(this.f,"footer_code")]}},properties:{id:dC(this),label:"Custom HTML footer code",name:Q(this.f,"footer_code"),defaultValue:b[Q(this.f,"footer_code")],initRenderFlag:!0}});d.K(TU()+"hide_from_robots","wnd.ui.CheckboxFormItem",null,{create:{data:{value:parseInt(b[Q(this.f,"hide_from_robots")],10)}},properties:{id:dC(this),label:"Hide this page from search engines",
name:Q(this.f,"hide_from_robots"),defaultValue:parseInt(b[Q(this.f,"hide_from_robots")],10),initRenderFlag:!0,extendCssClass:"wnd-switch"}});O(this.f,"switchContainer",this.C());d=this.view;c=Tr(Wt);d.B().appendChild(c);d.v=c.querySelector(".wnd-ctrl-type-delete");d.W=c.querySelector(".wnd-ctrl-type-close");QU(this);this.O()};f.$z=function(){var a=this.g.getValue(),b=null;a.length>Md.TooLongPageName.warning&&(b=Py);this.Ia.length<a.length?this.Ia=a:b=My;null!=b&&this.g.setState(b)};
f.O=function(){this.Za();PU.l.O.call(this);null!==this.g&&(this.c.H(this.g.B(),"keyup",m(this.bq,this)),this.c.H(this.view.nd(),T,m(this.fv,this)),this.c.H(this.view.U(),T,m(this.ys,this)),this.c.H(this.wa,T,m(this.gy,this)))};f.fv=function(){Yz(this).hide(null,!0)};f.ra=function(a){(a=PU.l.ra.call(this,a))?this.Ia="":(this.Fa(),this.g.Wh()&&UU(this));return a};
f.ys=function(a){a.stopPropagation();var b=E.j();a=m(this.Ss,this,a);uC(b,{title:"Are you sure you want to delete this page?",text:"Warning: all content will be permanently removed!",leftButtons:["ConfirmDelete"]},this,a)};f.Ss=function(a){a.stopPropagation();if(!P(this.f,"isRoot")){this.notify("beforeDeletePage");this.Aa();a=new gi("deletePage",1);var b=Bg.j().get(this.f.J()),c=this.getId(),d=m(this.Zz,this);Zh(b,c,d,a)}};
f.Zz=function(a){if("success"===a){this.T=this.getId();if(null!=t.listings&&null!=t.listings.blog){var b=t.page.langId;z(t.listings.blog,function(a,d){d==b&&this.getId()==a.page_id&&(a.removed=!0)},this)}this.notify("onDeletePage")}};f.wf=function(){this.Fa();this.f.Ea(this.Yz,null,this);if(0==this.D.getValue())NU(this.view,this.D.B(),this.I.getValue());else{var a=this.view;null!==a.m&&sp(a.m)}};
f.Yz=function(a,b){if("object"===typeof b&&"undefined"!==typeof b[Q(this.f,"identifier")]){var c="/"+b[Q(this.f,"identifier")]+"/";if(t.page.id==this.getId()&&location.pathname!=c){if(b[Q(this.f,"identifier")]!==Md.PageEdit.homepageIdentifier||"/"!==location.pathname)window.location.href=c+"#activate="+Yz(this).ca()}else b[Q(this.f,"identifier")]!==this.I.getValue()&&this.I.lc("value",b[Q(this.f,"identifier")])}};
function UU(a){a.U||(a.qa.show(),a.U=!0,a=a.view,Hl(a.G[a.f.cd.Ki],"activated",!0))}function RU(a){null!==a.qa&&null!==a.wa&&(a.qa.hide(),a.U=!1,a=a.view,Hl(a.G[a.f.cd.Ki],"activated",!1))}f.gy=function(){SU(this)||(this.U?RU(this):UU(this))};f.Aa=function(){if(null===this.o){var a=this.view.pa();this.o=I.j().create(this.C()+"_loading","wnd.ui.Loading",this.view.Be(),this,{properties:{type:vj,height:a.height,width:a.width}})}this.o.Ya()||(u(this.Ca,function(a){a.hide()},this),this.o.show())};
f.Fa=function(){PU.l.Fa.call(this);u(this.Ca,function(a){a.show()},this);!1===this.U&&RU(this)};f.aA=function(){this.Fa()};function SU(a){return P(a.f,"isSystemPage")}I.j().register("wnd.pm.PageEdit",dl,LU,PU);function VU(a,b){zB.call(this,a,b);this.h={"class":"wnd-popup-header wnd-pages"};this.m=this.yf=null}n(VU,zB);VU.prototype.da=function(){VU.l.da.call(this);var a=Md.PagesAdmin.contentGroups;u(this.c.querySelectorAll("[data-wnd_content_switch]"),function(b){switch(jy(b,"wnd_content_switch")){case a.PM_LANGUAGE_SWITCHER:this.m=b;break;case a.PM_ADD_PAGE:this.yf=b}},this)};VU.prototype.N=function(){var a=Md.PagesAdmin.contentGroups;return{title:"Pages",Ue:[a.PM_LANGUAGE_SWITCHER,a.PM_ADD_PAGE]}};
VU.prototype.D=function(){return this.m};VU.prototype.Se=function(a){R.aa(this.D(),a)};function WU(a,b,c){RB.call(this,a,b,c);this.g=null}n(WU,yC);WU.prototype.ka=function(a){WU.l.ka.call(this,a);1!==Qi.j().vd()&&(this.g=I.j().create(this.C()+"_language_switcher","wnd.ui.LanguageSwitcher",this.view.D(),this,{properties:{initRenderFlag:!0,fullTitle:!0,fullItemName:!0,showArrow:!0}}),this.g.observe("selectItem",m(this.o,this),this),this.g.observe("showSwitcher",m(this.Se,this,!0),this),this.g.observe("hideSwitcher",m(this.Se,this,!1),this))};WU.prototype.Xf=function(){};
WU.prototype.Se=function(a){this.view.Se(a)};WU.prototype.o=function(a,b){this.notify("onSelectLanguage",parseInt(b,10))};I.j().register("wnd.pm.PagesTopBar",Pj,VU,WU);function XU(a,b){ly.call(this,a,b)}n(XU,oz);function YU(a,b,c){gB.call(this,a,b,c)}n(YU,gB);I.j().register("wnd.pm.PagesTreeGroup",el,XU,YU);function ZU(a,b){qz.call(this,a,b)}n(ZU,qz);ZU.prototype.hd=function(a,b,c){ZU.l.hd.call(this,a,b,c);null!=c&&c.hasOwnProperty("private_access")&&Hl(this.B(),P(this.f,"css")["item-locked"],1===N(this.f,"private_access"))};ZU.prototype.yn=function(){var a=ZU.l.yn.call(this);1===N(this.f,"private_access")&&(a+=" "+P(this.f,"css")["item-locked"]);gl(this.f)&&(a+=" "+P(this.f,"css")["item-sys"]);return a};function $U(a,b,c){jB.call(this,a,b,c)}n($U,jB);$U.prototype.$c=function(){return N(this.f,"identifier")};$U.prototype.na=function(a){$U.l.na.call(this,a);if("beforeDeletePage"===a.getType()&&gl(this.f)){a=a.c;var b=this.getParent();do b=b.getParent();while(!(b instanceof sG));rp(this.B(),a.B());zG(b,this,a,"top","")}};I.j().register("wnd.pm.PagesTreeItem",fl,ZU,$U);function aV(a,b){rG.call(this,a,b);this.ac=!0;this.m=null}n(aV,rG);aV.prototype.Am=function(){aV.l.Am.call(this);if(null==this.m){var a={};null!=t.kbLinks.subPage&&(a.url=t.kbLinks.subPage);this.m=Tr(P(this.f,"soyTemplate").Xt,a);this.B().appendChild(this.m)}};aV.prototype.hi=function(a,b){var c=aV.l.hi.call(this,a,b);c&&R.aa(this.m,!a);return c};function bV(a,b,c){sG.call(this,a,b,c);this.Mq="wnd.pm.PagesTreeItem";this.Lq="wnd.pm.PagesTreeGroup"}n(bV,sG);f=bV.prototype;f.nf=function(a,b,c,d){bV.l.nf.call(this,a,b,c,d);cV(this)};function cV(a){var b=Te(a.g),c=Si(Qi.j(),b.yj()),d=kB($A(a,Wf(c)));d instanceof jB&&z(a.g,function(a){gl(a.f)&&aB(a)==Uf(c,"sys_pages_page_id")&&(zG(this,a,d,"bottom",""),d=a)},a)}f.na=function(a){bV.l.na.call(this,a);"treeItemActivate"===a.getType()&&(a=a.c,this.notify("onPageActivate",a.getId(),a.du(),gl(a.f)))};
f.Y=function(a){bV.l.Y.call(this,a);a.J()===this.f.J()&&("dataUpdate"===a.getType()?(this.f.update("data_updated"),this.f.Ea(this.nf,null,this)):"dataDelete"===a.getType()&&(this.f.update("data_deleted"),this.f.Ea(this.nf,null,this)))};f.ka=function(a){this.v=dV();bV.l.ka.call(this,a)};function dV(){return t.isListingDetail?t.listing_page.id:t.page.id<Md.systemIdBoundary&&t.page.id!=Md.rootPageId?Md.rootPageId:t.page.id}f.Mk=function(){var a=this.g[dV()];a&&!a.ub?vG(this,dV()):bV.l.Mk.call(this)};
f.Tp=function(a,b,c){a=c.getData();a=new yg("dataUpdate","parent_propagation",this.f.J(),this,a.id);this.ba(a);this.f.update("data_updated");this.f.Ea(this.nf,null,this)};f.Pj=function(a){return gl(a.f)};I.j().register("wnd.pm.PagesTree",hl,aV,bV);function eV(a,b,c){NB.call(this,a,b,c);this.fg={};this.g=this.o=null;O(this.f,"extendCssClass","wnd-add-page")}n(eV,NB);f=eV.prototype;f.ua=function(){return Md.PagesAdmin.contentGroups.PM_PATTERNS};
f.fa=function(){var a=Md.PagesAdmin.contentGroups.PM_PATTERNS;ZB(this,a);var b=this.K(this.C()+"_"+a+"_area","wnd.ui.PopupEmptyBlock",a,{properties:{initRenderFlag:!0}});b.K(this.C()+"_"+a+"_top_bar","wnd.pm.AddNewPageTopBar",null,{properties:{switchContainer:this.getId(),initRenderFlag:!0}});this.g=b.K(this.C()+"_"+a+"_content","wnd.pm.AddNewPagePatterns",null,{collectionSettingsFunc:m(this.Wz,this),properties:{switchContainer:this.getId(),switchGroups:[Md.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM],
width:Md.AddNewPagePatterns.width,height:Md.AddNewPagePatterns.height,initRenderFlag:!0,extendCssClass:"wnd-new-page-patterns wnd-clearfix"}});b.K(this.C()+"_control_bar_1","wnd.pm.AddNewPageControlBar",null,{properties:{controls:{left:["Cancel"],right:["Choose"]},switchContainer:this.getId(),switchGroups:[Md.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM],initRenderFlag:!0}});a=Md.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM;b=this.K(this.C()+"_"+a+"_area","wnd.ui.PopupEmptyBlock",a,{properties:{initRenderFlag:!0,
width:Md.AddNewPagePopup.formContent.width,height:Md.AddNewPagePopup.formContent.height,resizeAnimation:!0}});b.K(this.C()+"_"+a+"_top_bar","wnd.pm.NewPageTopBar",null,{properties:{initRenderFlag:!1,switchContainer:this.getId(),switchGroups:[Md.PagesAdmin.contentGroups.PM_PATTERNS]}});this.o=b.K(this.C()+"_"+a+"_content","wnd.pm.NewPageForm",null,{properties:{switchContainer:this.getId(),switchGroups:[Md.PagesAdmin.contentGroups.PM_PATTERNS],initRenderFlag:!1,width:Md.NewPageForm.width,height:Md.NewPageForm.height,
autoSave:!1,method:"post",saveBeforeClose:!1}});b.K(this.C()+"_control_bar_2","wnd.pm.NewPageControlBar",null,{properties:{initRenderFlag:!1,controls:{left:["Cancel"],right:["Create"]}}})};f.jc=function(){eV.l.jc.call(this);this.g&&this.g.show();this.o&&this.o.I&&(this.resize(Md.AddNewPagePopup.formContent.width,Md.AddNewPagePopup.formContent.height),this.o.resize(Md.NewPageForm.width,Md.NewPageForm.height))};f.Hd=function(){eV.l.Hd.call(this);this.g&&this.g.hide()};
f.Wz=function(){return{langFe:Vf(Si(Qi.j(),this.yj()))}};f.yj=function(){return P(this.f,"langId")};function vU(a){"dfc.generic.membersArea"==a.fg.identifier?L.j().get("server_projects").Ea(m(a.fw,a),null,a):a.Mc(Md.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM,!1)}
f.fw=function(a,b){Qa.mc("ml_start_add_page_member_area");if("MEMBER_LOGIN"===b["server_projects.private_access_type"])this.Jn();else{cM(E.j(),m(this.Jn,this,!0));Qa.mc("ml_show_activation_popup",{data:{source:"member_area"}});var c=new H("inspectletInfo4",this);this.ba(c)}};f.Jn=function(a){a&&(Qa.mc("ml_activation",{data:{source:"member_area"}}),a=new H("inspectletInfo5",this),this.ba(a));this.Mc(Md.PagesAdmin.contentGroups.PM_NEW_PAGE_FORM,!1)};
f.show=function(){eV.l.show.call(this);var a=Md.DefaultPopupProperties["wnd.pm.AddNewPagePopup"],a=new vw(this.view.Va,Md.AddNewPagePopup.animation.resize.start,[a.width,a.height],Md.AddNewPagePopup.animation.resize.time,ce);a.H("begin",m(this.et,this));a.H("end",m(this.Ds,this));a.H("animate",m(this.vf,this,!0));a.play();a=this.g;a.g&&a.g.eb(!1);a.v&&a.v.eb(!0);a.g=a.v};
f.et=function(){(new xw(this.view.Va,Md.AddNewPagePopup.animation.fadeIn.start,Md.AddNewPagePopup.animation.fadeIn.end,Md.AddNewPagePopup.animation.fadeIn.time,ce)).play()};f.Ds=function(){var a=Md.DefaultPopupProperties["wnd.pm.AddNewPagePopup"].width,b=Md.DefaultPopupProperties["wnd.pm.AddNewPagePopup"].height;a&&b&&(this.Ji(a,b),this.setSize(a,b),this.vf())};f.mb=function(){fV(!0);if(!1===this.o.ra())fV(!1);else{var a=new H("inspectletInfo1",this.o);this.ba(a)}};
f.Id=function(a){a=a.langId;a!=P(this.f,"langId")&&(O(this.f,"langId",a),AU(this.g))};I.j().register("wnd.pm.AddNewPagePopup",Zj,nF,eV);function gV(a,b,c){NB.call(this,a,b,c);this.I=this.v=this.D=this.o=null;this.g=parseInt(t.page.langId,10);this.G=Qi.j()}n(gV,NB);f=gV.prototype;f.ka=function(a){gV.l.ka.call(this,a);a=new gi("loadBackgroundImages",1);gr(Ph.j(),a);L.j().get("tpl_page_templates",{langFe:Vf(Si(this.G,this.g))}).Ea(m(this.ew,this),a,this)};
f.ew=function(a,b,c,d){if(null!=d&&null!=d.order){a=null;for(var e=0,g=d.order.length;e<g;e++)if(c=d.order[e],null===a&&(a=b[c]),-1!=b[c]["tpl_page_templates.identifier"].indexOf("default")){this.I={id:parseInt(b[c]["tpl_page_templates.id"],10),name:b[c]["tpl_page_templates.page_name"]};break}null===this.I&&null!=a&&(this.I={id:parseInt(a["tpl_page_templates.id"],10),name:a["tpl_page_templates.page_name"]})}};
f.fa=function(){this.D=this.K(this.C()+"_top_bar","wnd.pm.PagesTopBar",null,{properties:{initRenderFlag:!0}});this.D.observe("onSelectLanguage",m(this.Mu,this),this);var a=Md.PagesAdmin.mainContent,a=this.K(this.C()+"_area","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,width:a.width,height:a.height}});this.o=a.K(this.C()+"_tree","wnd.pm.PagesTree",null,{collectionSettingsFunc:m(this.sr,this),properties:{initRenderFlag:!0,enabledDragDrop:!0,width:Md.PagesTree.width,height:Md.PagesTree.height,
css:Md.PagesTree.css}});this.v=a.K(this.C()+"_detail","wnd.pm.PageEdit",null,{id:this.o.v,collectionSettingsFunc:m(this.sr,this),properties:{initRenderFlag:!0,autoSave:!0,updateBeforeShow:!0,isRoot:null,isSystemPage:!1,width:Md.PageEdit.width}});this.o.observe("onPageActivate",m(this.v.sw,this.v),this);this.v.observe("onPageNameChange",m(this.tw,this),this);this.v.observe("beforeDeletePage",m(this.fs,this),this);this.v.observe("onDeletePage",m(this.dA,this),this)};f.Mu=function(a,b){this.g=b;tG(this.o)};
f.tw=function(a,b){var c=AG(this.o);null===c||c.De(b,!0)};f.fs=function(){var a=this.o;if(null!==AG(a)){var a=AG(a),b=new H("beforeDeletePage",a,"children_propagation");a.ba(b)}};
f.dA=function(){var a=AG(this.o),b=this.o.g[t.page.id],c;c=a.getParent();c instanceof YU&&(c=c.getParent());t.page.id==a.getId()||b&&XA(this.o,b,a)?window.location.href=c.$c()+"#activate="+this.ca():t.isListingDetail&&t.listing_page.id==a.getId()?window.location.href=t.baseUrl+"#activate="+this.ca():(b=c.getId(),this.o.v=b,b=new yg("dataDelete","parent_propagation","gui_pages",a,a.getId()),a.ba(b),wG(this.o))};
f.sr=function(){var a=[{prefix:"",key:"gui_pages.lang_id",operator:"=",value:this.g,suffix:"AND"}];Bh(a,Md.PagesAdmin.dataSettings.filter);return{filter:a,orderBy:Md.PagesAdmin.dataSettings.orderBy}};f.O=function(){gV.l.O.call(this);null===this.D||null===this.D.view.yf||this.c.H(this.D.view.yf,T,m(this.cA,this))};f.cA=function(a){a.stopPropagation();E.j().create("wnd.pm.AddNewPagePopup","wnd-popup-add-page",document.body,this,null,{langId:this.g})};
f.jc=function(){gV.l.jc.call(this);this.g=Ti(this.G).getId();var a=this.D;if(a.g){var a=a.g,b=this.g.toString();P(a.f,"selected")!=b&&(O(a.f,"selected",b),a.Qd(EE(a),b,!0))}vG(this.o,dV());tG(this.o)};f.show=function(){gV.l.show.call(this);var a=new H("inspectletInfo1",this);this.ba(a)};I.j().register("wnd.pm.PagesAdminPopup",Zj,nF,gV);function hV(a){Bi.call(this,a,Md)}n(hV,Bi);hV.prototype.init=function(){if(l(t.error404)){var a=E.j(),b=m(this.c,this),a=IE(a,{title:"Page not found",text:"Page "+(t.error404+" does not exist."),extendCssClass:"wnd-info-404error"},this,b);b&&eC(a,"onClose",b,a)}};hV.prototype.na=function(a){hV.l.na.call(this,a);"openPagesManager"===a.getType()&&E.j().create("wnd.pm.PagesAdminPopup","wnd_popup_pages",document.body,this)};
hV.prototype.c=function(){na(window.history)&&ma(window.history.replaceState)?window.history.replaceState({},"",t.baseUrl):location.href=t.baseUrl};function iV(a,b){qB.call(this,a,b)}n(iV,qB);iV.prototype.N=function(){var a=vo.j();return{wk:xo(vo.j(),"backup",t.keenIo.refs.settingsBackupAndRecover),Oq:t.manageBackups,hasFeature:a.hasFeature("backup")}};iV.prototype.da=function(){Qr(this.B(),Es,this.N())};function jV(a,b,c){RB.call(this,a,b,c)}n(jV,RB);jV.prototype.fa=function(){};I.j().register("wnd.ps.BackupAndRecovery",Lj,iV,jV);function kV(a,b,c){qC.call(this,a,b,c);this.D=null}n(kV,qC);
kV.prototype.qn=function(a,b){var c=Q(this.f,"listing_share_buttons");this.K(this.C()+"_share_buttons","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Show share buttons in all blog posts",name:c,defaultValue:b[c],initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-blog-share-buttons"}});c=Q(this.f,"listing_comments");this.K(this.C()+"_facebook_comments","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Show Facebook comments in all blog posts",name:c,defaultValue:b[c],
initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-blog-facebook-comments"}});this.D=this.K(this.C()+"_header_footer","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,legend:"Blog Post Header and Footer HTML",showIcon:!0,extendCssClass:"wnd-ps-blog-header-footer",tooltip:"Add HTML code to all your blog posts here. The header is an ideal place to embed advanced measuring codes. In the footer, you can insert social buttons or discussions that will be shown under each of your blog posts."}});
this.D.K(this.C()+"_header_code","wnd.ui.LongTextFormItem",null,{properties:{id:dC(this),label:"Header HTML Code",name:Q(this.f,"listing_header_html"),defaultValue:b[Q(this.f,"listing_header_html")],initRenderFlag:!0,disableAutosave:!0}});this.D.K(this.C()+"_footer_code","wnd.ui.LongTextFormItem",null,{properties:{id:dC(this),label:"Footer HTML Code",name:Q(this.f,"listing_footer_html"),defaultValue:b[Q(this.f,"listing_footer_html")],initRenderFlag:!0,disableAutosave:!0}})};
I.j().register("wnd.ps.BlogSettingsForm",il,uB,kV);function lV(a,b,c){RB.call(this,a,b,c);this.g=null}n(lV,RB);lV.prototype.fa=function(){this.K(this.C()+"_menu_header","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Blog Settings",extendCssClass:"wnd-ps-subtitle"}});this.g=this.K(this.C()+"_form","wnd.ps.BlogSettingsForm",null,{properties:{initRenderFlag:!0,height:Nd.BlogSettings.formContent.height,autoSave:!0,extendCssClass:"wnd-ps-blog-settings"}})};lV.prototype.show=function(){lV.l.show.call(this);null!=this.g&&sC(this.g)};
I.j().register("wnd.ps.BlogSettings",Lj,qB,lV);function mV(a,b){qB.call(this,a,b)}n(mV,qB);mV.prototype.N=function(){vo.j();var a=t.projectDomain,b=!1;z(P(this.f,"projectInfo").projectDomains,function(c){!0===c.isMaster&&(a=c.domain);!1===c.isOriginal&&(b=!0)},!0);return{uy:t.urlDomains,sy:t.urlDomainRegister+"?ref="+t.keenIo.refs.settingsDomainView,ty:t.urlDomainTransfer,Ex:a,Sx:b}};mV.prototype.da=function(){Qr(this.B(),Ns,this.N())};function nV(a,b,c){RB.call(this,a,b,c)}n(nV,RB);nV.prototype.fa=function(){};I.j().register("wnd.ps.Domains",Lj,mV,nV);function oV(a,b){qB.call(this,a,b)}n(oV,qB);oV.prototype.N=function(){var a=vo.j();return{wk:xo(vo.j(),"max_mailboxes",t.keenIo.refs.settingsEmailAccount),vy:t.manageEmails,hasFeature:a.hasFeature("max_mailboxes")}};oV.prototype.da=function(){Qr(this.B(),Ss,this.N())};function pV(a,b,c){RB.call(this,a,b,c)}n(pV,RB);pV.prototype.fa=function(){};I.j().register("wnd.ps.EmailAccounts",Lj,oV,pV);function qV(a,b){qB.call(this,a,b)}n(qV,qB);
qV.prototype.N=function(){var a=vo.j(),b;if(null===a.c)b="";else switch(b="",a.c.identifier){case "free":b="Free";break;case "mini":b="Mini";break;case "standard":b="Standard";break;case "professional":b="Profi";break;case "basic":b="Mini";break;case "plus":b="Standard";break;case "premium":b="Profi";break;case "limited":b="Limited"}var c;c=D(a.h)||null===a.c?!1:nh(a.h,a.c.identifier)<a.h.length-1;var d=a.Qh(),e=xo(vo.j(),"storage",t.keenIo.refs.settingsBuyMoreStorage),g=xo(vo.j(),"bandwidth",t.keenIo.refs.settingsBuyMoreBandwidth),
h=xo(vo.j(),null,t.keenIo.refs.settingsGeneral),k=vo.j();b={qx:b,hs:c,Qh:d,zy:e,yy:g,xy:h,ry:t.urlBilling,Fx:P(this.f,"projectInfo"),Yx:Od.NotEnoughStorage.limit,es:Od.NotEnoughBandwidth.limit,ay:a.c.packageSubscrPaymentDay,bu:"expiring"===k.c.packageExpiryStatus};!1===a.Qh()&&(a=a.c.packageValidity,l(a.from)&&(b.rx=a.from),l(a.from)&&(b.sx=a.to));return b};qV.prototype.da=function(){Qr(this.B(),ht,this.N())};function rV(a,b,c){RB.call(this,a,b,c)}n(rV,RB);rV.prototype.fa=function(){};I.j().register("wnd.ps.GeneralSettings",Lj,qV,rV);function sV(a,b){qB.call(this,a,b);this.v=null;this.ha={};this.m=null}n(sV,qB);function tV(a,b){z(a.ha,function(a,d){F(b,d)||(sp(a),Ye(this.ha,d))},a)}
function uV(a,b){a.v=Tr(fu);u(b,function(a){var b="";switch(a){case "wnd.ps.GeneralSettings":b="General";break;case "wnd.ps.Domains":b="Domains";break;case "wnd.ps.EmailAccounts":b="Email accounts";break;case "wnd.ps.BackupAndRecovery":b="Backup and Recovery";break;case "wnd.ps.WebsiteLanguages":b="Languages";break;case "wnd.ps.WebsiteEditors":b="Website Editors";break;case "wnd.ps.SiteSettings":b="Website Settings";break;case "wnd.ps.BlogSettings":b="Blog"}this.ha[a]=Tr(gu,{dm:a,name:b});this.v.appendChild(this.ha[a])},
a);np(a.B(),a.v)};function vV(a,b,c){RB.call(this,a,b,c)}n(vV,RB);vV.prototype.fa=function(){this.K(this.C()+"_menu_header","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Settings",extendCssClass:"wnd-settings"}});uV(this.view,zv(this.f));wV(this,Av(this.f))};vV.prototype.O=function(){vV.l.O.call(this);this.view.ha&&z(this.view.ha,function(a){this.c.H(a,T,m(this.g,this),!1)},this)};vV.prototype.g=function(a){a.stopPropagation();a=jy(a.target,"wnd_settings_type");wV(this,a)};
function wV(a,b){var c=a.view;l(c.ha[b])&&(null!==c.m&&(Hl(c.m,"item-activated",!1),c.m=null),Hl(c.ha[b],"item-activated",!0),c.m=c.ha[b]);a.notify("onSelect",b)}vV.prototype.Y=function(a){vV.l.Y.call(this,a);if("dataDelete"==a.getType()&&"children_propagation"==a.h){var b=t.page.langId;null!=t.listings&&null!=t.listings.blog&&null!=t.listings.blog[b]&&t.listings.blog[b].page_id==a.g&&(tV(this.view,zv(this.f)),wV(this,Av(this.f)))}};I.j().register("wnd.ps.SettingsMenu",yv,sV,vV);function xV(a,b){$y.call(this,a,b);this.m=bt;this.qh=this.rh=null}n(xV,$y);xV.prototype.ei=function(){xV.l.ei.call(this);this.rh=this.R.querySelector(".wnd-adv-fieldset-legend");this.qh=this.R.querySelector(".wnd-form-favicon-value")};xV.prototype.N=function(){var a=xV.l.N.call(this);null!=P(this.f,"editButton")&&(a.nl=P(this.f,"editButton"));return a};function yV(a,b,c){vz.call(this,a,b,c)}n(yV,Zz);yV.prototype.O=function(){yV.l.O.call(this);this.c.H(this.view.rh,T,m(this.g,this))};yV.prototype.g=function(a){a.stopPropagation();this.notify("onClick",this)};yV.prototype.tf=function(){};I.j().register("wnd.ps.FaviconFormItem",mj,xV,yV);function zV(a,b,c){qC.call(this,a,b,c);this.U=this.D=this.T=this.qa=this.I=this.Ia=this.Ca=null}n(zV,qC);f=zV.prototype;
f.qn=function(a,b){this.Ca=this.K(this.C()+"_project_name_fieldset","wnd.ui.InfoFieldset",null,{properties:{initRenderFlag:!0,legend:"Website name",showIcon:!0,editButton:"Edit name",extendCssClass:"wnd-ps-site-project-name"}});this.Ca.K(this.C()+"_project_name","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),label:"Website name",name:Q(this.f,"project_name"),defaultValue:b[Q(this.f,"project_name")],initRenderFlag:!1,required:!0,showIcon:!0,extendCssClass:"wnd-ps-site-project-name",disableAutosave:!0}});
this.Ia=this.K(this.C()+"_search_index","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Search engine indexing",name:Q(this.f,"rating"),defaultValue:3<b[Q(this.f,"rating")]?1:0,realValues:{0:Nd.Rating.SlightRisk,1:Nd.Rating.DefinitelyOK},initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-site-search-index",isAccessible:vo.j().hasFeature("search_engines"),tooltip:'Enable indexing to allow search engines like Google to crawl your website. This makes it eligible to show in search results. \nBy disabling indexing, you set the metatag "robots" to the "noindex" value and your website will not be listed in search results.'}});
this.Ia.observe("onCheckAccess",this.rs,this);this.I=this.K(this.C()+"_favicon","wnd.ps.FaviconFormItem",null,{properties:{id:dC(this),label:"Favicon",name:Q(this.f,"favicon_w2"),defaultValue:b[Q(this.f,"favicon_w2")],editButton:"Change icon",initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-ps-site-favicon",disableAutosave:!0}});this.Yn(this.I);this.I.observe("onClick",this.wv,this);this.I.observe("onSaveValue",this.kw,this);this.qa=this.K(this.C()+"_analytics_fieldset","wnd.ui.InfoFieldset",null,
{properties:{initRenderFlag:!0,legend:"Google Analytics",showIcon:!0,editButton:"Connect account",extendCssClass:"wnd-ps-site-analytics"}});this.qa.observe("onCheckAccess",this.ps,this);this.qa.K(this.C()+"_analytics","wnd.ui.ShortTextFormItem",null,{properties:{id:dC(this),label:"Google Analytics",name:Q(this.f,"analytics"),defaultValue:b[Q(this.f,"analytics")],initRenderFlag:!1,isAccessible:vo.j().hasFeature("ga"),placeholder:"e.g. UA-12345678-9",validateType:"validateGoogleAnalytics",showIcon:!0,
extendCssClass:"wnd-ps-site-analytics",disableAutosave:!0}});if(Ka(t.visibleRelease,"cookie_bar")){var c=Q(this.f,"cookie_warning");this.K(this.C()+"_cookie_warning","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Show cookie consent bar",name:c,defaultValue:b[c],initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-site-cookie-warning",isAccessible:!0,tooltip:"Cookies are small files used to track activity on a website and are necessary for the safe and correct operation of most websites. The European Union (EU) Cookie Law is a privacy legislation that requires websites to request consent from their users to store or retrieve information on/from their computers or mobile devices."}})}if(Ue("member_login")){this.wa=
this.K(this.C()+"_membership_area","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,legend:"Membership Settings",showIcon:!0,withoutSaveButton:!0,extendCssClass:"wnd-ps-membership-management"}});c=Q(this.f,"private_access_type");this.G=this.wa.K(this.C()+"_restrict_access","wnd.ui.PrivateAccessFormItem",null,{properties:{id:dC(this),label:"Enable Membership Registration",name:c,defaultValue:"MEMBER_LOGIN"==b[c]?1:0,initRenderFlag:!0,realValues:{0:"",1:"MEMBER_LOGIN"},showIcon:!0,extendCssClass:"wnd-switch wnd-ps-members-settings-item",
isAccessible:m(this.qp,this),hint:"Allow your visitors to register as website members to gain access to the private pages of your website.",disableAutosave:!0}});BV(this);this.G.observe("changePrivateAccessTyp",this.ms,this);var c=Q(this.f,"approve_members"),d=vo.j().hasFeature("member_login");this.D=this.wa.K(this.C()+"_require_approval","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:"Approve members manually",name:c,defaultValue:b[c],initRenderFlag:!0,showIcon:!0,extendCssClass:"wnd-switch wnd-ps-members-settings-item",
hintByValue:{0:"Manual approval is disabled. All new registrations are automatically approved and members can view all private pages.",1:"Every new registration needs to be approved by you before the user gains access to the private pages of your website."},isAccessible:d}});this.D.observe("onCheckAccess",this.Xu,this);this.D.observe("onChange",this.Ju,this);CV(this,b[Q(this.f,"private_access_type")])}this.T=this.K(this.C()+"_header_footer","wnd.ui.AdvancedFieldset",null,{properties:{initRenderFlag:!0,
legend:"Website header and footer",showIcon:!0,extendCssClass:"wnd-ps-site-header-footer"}});this.T.observe("onCheckAccess",this.qs,this);this.T.K(this.C()+"_header_code","wnd.ui.LongTextFormItem",null,{properties:{id:dC(this),label:"Website header HTML code",name:Q(this.f,"header_html"),defaultValue:b[Q(this.f,"header_html")],initRenderFlag:!0,disableAutosave:!0,isAccessible:vo.j().hasFeature("footer_header_code")}});this.T.K(this.C()+"_footer_code","wnd.ui.LongTextFormItem",null,{properties:{id:dC(this),
label:"Website footer HTML code",name:Q(this.f,"footer_html"),defaultValue:b[Q(this.f,"footer_html")],initRenderFlag:!0,disableAutosave:!0,isAccessible:vo.j().hasFeature("footer_header_code")}})};function BV(a){null!=a.G&&(a.U=a.G.getValue())}f.qp=function(){return"MEMBER_LOGIN"==this.U||vo.j().hasFeature("member_login")};
f.ms=function(a,b,c){c.stopPropagation();c.preventDefault();this.qp()?""===b.getValue()?(cM(E.j(),m(this.ou,this)),Qa.mc("ml_show_activation_popup",{data:{source:"settings"}}),b=new H("inspectletInfo4",this),this.ba(b)):(a=E.j(),b=m(this.Vs,this,b),uC(a,{title:"Do you really want to disable Membership Registration?",text:"Warning: All your private pages will be publicly accessible. Registration and login on your website will not be possible anymore.",leftButtons:["ConfirmDisableMemberLogin"]},this,
b)):aM()};f.Vs=function(a){Qa.mc("ml_deactivation",{data:{source:"settings"}});a.Rd(!1);this.nh([a]);BV(this)};f.ou=function(){Qa.mc("ml_activation",{data:{source:"settings"}});var a=new H("inspectletInfo5",this);this.ba(a);this.G.Rd(!0);BV(this);CV(this)};f.Xu=function(a,b,c){c||wz(b)===dj||aM()};f.Ju=function(a,b){1==b.getValue()?Qa.mc("ml_enable_require_approval"):Qa.mc("ml_disable_require_approval")};
f.wv=function(){if(vo.j().hasFeature("change_favicon")){var a=E.j(),b=[Vj,"publicFavicons"],c=L.j().get("project_info").getData(),d={};d.publicFavicons={filterMN:[{key:"category",value:[Ea.StaticServerCategory.templates,c.uikit_name,c.template_name,c.template_branch_id,Ea.StaticServerCategory.favicon],optional:[c.uikit_name,c.template_name,c.template_branch_id,Ea.StaticServerCategory.favicon]}],orderMN:{key:"category",value:Ea.StaticServerCategory.favicon,order:"DESC"}};eC(MG(a,{showTypes:b,activeType:"publicFavicons",
collectionSettings:d,checkLowResolution:!1}),"onInsert",this.Uv,this)}else a=E.j(),JE(a,{type:"premiumFavicon",params:{upgradeUri:xo(vo.j(),"change_favicon","premiumFaviconPopup")}})};f.kw=function(a,b){setTimeout(m(this.Yn,this,b),500)};f.Yn=function(a){var b=a.view.qh;if(null!==b){var c="/favicon.ico";if(a=a.getValue())a=JSON.parse(a),c=po(a.src,a.dataType);b.style.backgroundImage="url('"+c+"')"}};
f.Uv=function(a,b){var c=b[0],d={};d.id=c.getId();d.src=c.ya();d.dataType=c.J();c=this.I;d=JSON.stringify(d);c.view.Vc(d);Bz(c)&&(Cz(c),null!=c.ib()&&c.ib().nh([c]),c.notify("onSaveValue",c))};f.ps=function(a,b,c){c||(a=E.j(),JE(a,{type:"premiumAnalytics",params:{upgradeUri:xo(vo.j(),"ga","premiumAnalyticsPopup")}}))};f.rs=function(a,b,c){c||(a=E.j(),JE(a,{type:"searchIndex",params:{upgradeUri:xo(vo.j(),"search_engines","premiumSearchIndexPopup")}}))};
f.qs=function(a,b,c){c||(a=E.j(),JE(a,{type:"headerFooterCode",params:{upgradeUri:xo(vo.j(),"footer_header_code","premiumHeaderFooterCodePopup")}}))};f.Cc=function(){zV.l.Cc.call(this)};f.Nq=function(a,b,c){a.getName()===Q(this.f,"private_access_type")?(CV(this,c),a.lc("value","MEMBER_LOGIN"==c?1:0),BV(this)):a.lc("value",c)};f.wf=function(a,b,c){zV.l.wf.call(this,a,b,c);a=this.Gc();CV(this,a[Q(this.f,"private_access_type")]);BV(this)};
function CV(a,b){var c="defaultItem",d=a.U;null!=b&&(d=b);""!=d&&vo.j().hasFeature("member_login")||(c=dj);null!=a.D&&a.D.setState(c)}f.Y=function(a){zV.l.Y.call(this,a);"server_projects"==a.J()&&"dataUpdate"==a.getType()&&this.Cc()};I.j().register("wnd.ps.SiteSettingsForm",jl,uB,zV);function DV(a,b,c){RB.call(this,a,b,c);this.g=null}n(DV,RB);DV.prototype.fa=function(){this.K(this.C()+"_menu_header","wnd.ui.BasicNavigationBar",null,{properties:{initRenderFlag:!0,title:"Website Settings",extendCssClass:"wnd-ps-subtitle"}});this.g=this.K(this.C()+"_form","wnd.ps.SiteSettingsForm",null,{properties:{initRenderFlag:!0,height:Nd.SiteSettings.formContent.height,autoSave:!0,extendCssClass:"wnd-ps-site-settings"}})};DV.prototype.show=function(){DV.l.show.call(this);null!=this.g&&sC(this.g)};
I.j().register("wnd.ps.SiteSettings",Lj,qB,DV);function EV(a,b){qB.call(this,a,b)}n(EV,qB);EV.prototype.N=function(){return{wy:t.manageUsers}};EV.prototype.da=function(){Qr(this.B(),Cu,this.N())};function FV(a,b,c){RB.call(this,a,b,c)}n(FV,RB);FV.prototype.fa=function(){};I.j().register("wnd.ps.WebsiteEditors",Lj,EV,FV);function GV(a,b,c){var d=P(a);cf(d,{values:[],collection:{datatype:r.AdminLanguages.DataType,keyColumn:"identifier",textColumn:"name"}});a.c.properties=d;oA.call(this,a,b,c);this.U=!0}n(GV,oA);GV.prototype.ka=function(a){GV.l.ka.call(this,a);this.v=!1;this.f.Cf()};I.j().register("wnd.ps.LanguageFormItem",ll,Ty,GV);function HV(a,b,c){Fz.call(this,a,b,c);this.I=this.g=null;this.D=!1}n(HV,Fz);f=HV.prototype;f.ka=function(a){HV.l.ka.call(this,a);setTimeout(m(function(){aq||this.g.focus();this.g.close()},this),500)};
f.fa=function(){this.g=this.K(this.C()+"LanguageFormItem","wnd.ps.LanguageFormItem",null,{properties:{id:dC(this),label:"Choose a language",name:"identifier",required:!0,initRenderFlag:!0,placeholder:"e.g. Deutsch",canWrite:!0,canBeEmpty:!0}});var a=Qi.j(),a="Copy all pages and content from: "+Si(a,1).getName();this.I=this.K(this.C()+"CheckboxFormItem","wnd.ui.CheckboxFormItem",null,{properties:{id:dC(this),label:a,name:"copy_all_pages",initRenderFlag:!0,extendCssClass:"wnd-item-unimportant"}})};
f.ra=function(){if(this.D)return!1;this.D=!0;this.Aa();var a=Qi.j(),b=this.g.getValue(),c=this.g.kd(),d=this.I.Bd(),e=new pf;e.data={action:"add",langIdentifier:b,langName:c,copyPage:d};lf(e,m(a.ru,a));Rh(Ph.j(),e);return!0};f.jd=function(a,b){var c=!1;this.D||(c=HV.l.jd.call(this,a,b));return c};f.Aa=function(){HV.l.Aa.call(this,"Wait please...")};I.j().register("wnd.ps.AddLanguageForm",kl,uB,HV);function IV(a,b,c){NB.call(this,a,b,c);this.o=this.g=null}n(IV,NB);
IV.prototype.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",this.ua(),{properties:{title:"Add new language",switchContainer:this.getId(),initRenderFlag:!0,extendCssClass:"wnd-new-button"}});this.g=this.K(this.C()+"_popup_content","wnd.ps.AddLanguageForm",this.ua(),{properties:{width:Nd.AddLanguageForm.width,height:Nd.AddLanguageForm.height,initRenderFlag:!0,saveBeforeClose:!1,"class":"wnd-form-new-language"}});this.o=this.K(this.C()+"_control_bar","wnd.ui.BasicControlBar",
this.ua(),{properties:{controls:{left:["Cancel"],right:["Submit"]},initRenderFlag:!0}})};IV.prototype.mb=function(){cC(this.g)&&(this.o.hide(),this.g.ra())};IV.prototype.Y=function(a){IV.l.Y.call(this,a);a.J()==r.FeLanguages.DataType&&"dataCreate"==a.getType()&&(He(Je,"showChangeLanguageBubble","1",-1,"/"),window.location.href=t.baseUrl+a.g+"/")};I.j().register("wnd.ps.AddLanguagePopup",Zj,nF,IV);function JV(a,b){rB.call(this,a,b);this.ac=!0;this.h={"class":"wnd-language-item"};this.m=this.v=this.G=this.R=null;this.W=!0}n(JV,rB);function KV(a){var b=P(a.f,"switcherName");!0===P(a.f,"initial")&&(b+=" (Primary language)");return b}
JV.prototype.da=function(){this.v=Tr(xt,{identifier:P(this.f,"switcherIdentifier"),name:KV(this)});this.B().appendChild(this.v);this.m=Tr(ct,this.N());this.B().appendChild(this.m);this.G=Tr(yt);this.m.appendChild(this.G);P(this.f,"removable")&&(this.R=Tr(Hs,{control:"DeleteLanguage"}),this.m.appendChild(this.R));LV(this,!1)};JV.prototype.D=function(){return this.v};JV.prototype.Be=function(){return this.G};JV.prototype.U=function(){return this.R};
function LV(a,b){R.aa(a.m,b);Hl(a.D(),"activated",b);a.W=b};function MV(a,b,c){RB.call(this,a,b,c)}n(MV,Gz);f=MV.prototype;f.O=function(){MV.l.O.call(this);this.c.H(this.view.D(),T,m(this.hy,this));this.view.U()&&this.c.H(this.view.U(),T,m(this.zs,this))};f.ka=function(a){MV.l.ka.call(this,a);a=NV(this);Hl(this.view.B(),"disabled",a)};function NV(a){return!0===P(a.f,"isDefault")&&1===Qi.j().vd()}f.hy=function(){if(!NV(this)){var a=this.view;LV(a,!a.W);this.notify("onChangeSettingsVisibility")}};
f.zs=function(a){a.stopPropagation();a=E.j();var b=m(this.Ts,this);uC(a,{title:"Do you really want to delete this language?",text:"Warning: all content will be permanently removed!",leftButtons:["ConfirmDelete"]},this,b)};f.Ts=function(){this.notify("onDeleteStart");this.hide();var a=Qi.j(),b=P(this.f,"langId"),c=new pf;c.data={action:"delete",langId:b};lf(c,m(a.CA,a,b));Rh(Ph.j(),c)};
f.Y=function(a){MV.l.Y.call(this,a);a.J()==r.FeLanguages.DataType&&"dataDelete"==a.getType()&&(t.page.langId==a.g&&(window.location.href=t.baseUrl),a=NV(this),Hl(this.view.B(),"disabled",a))};I.j().register("wnd.ps.LanguageFieldset",Mj,JV,MV);function OV(a,b){uB.call(this,a,b);this.h={"class":"wnd-website-languages"}}n(OV,uB);function PV(a,b,c){Fz.call(this,a,b,c);this.G={};this.D={};this.I=null;this.T=Qi.j()}n(PV,oC);f=PV.prototype;f.fa=function(){QV(this)};f.O=function(){this.Za();PV.l.O.call(this)};
function QV(a){a.O();z(a.T.c,function(a){var c=a.getId(),d;d=(d=Uf(a,"initial"))?parseInt(d,10):null;var e=Vf(a),g=a.getName();a=e+"_"+c;var h=1===c,e=this.K("wnd_language_fieldset_"+a,"wnd.ps.LanguageFieldset",this.ua(),{properties:{initRenderFlag:!0,switcherIdentifier:e,switcherName:g,langId:c,isDefault:h,removable:!h,initial:!!d}});e.observe("onChangeSettingsVisibility",m(this.Su,this,c),this);e.observe("onDeleteStart",m(this.Aa,this),this);e.observe("onDeleteEnd",m(this.ur,this,c),this);a=e.K("wnd_language_form_item_initial_"+
a,"wnd.ui.CheckboxFormItem",null,{create:{data:{value:d}},properties:{id:dC(this),label:"Set as primary language",name:"initial",defaultValue:d,initRenderFlag:!0,extendCssClass:"wnd-switch"}});d&&(this.g=c);this.D[c]=a;this.G[c]=e;a.observe("onChange",m(this.$n,this,c),this)},a)}
f.$n=function(a){var b=this.G[this.g];O(b.f,"initial",!1);b=b.view;b.v.innerHTML=KV(b);if(this.g!==a)this.D[this.g].Rd(!1),this.g=a;else for(var c in this.D)if(c=parseInt(c,10),c!==a){this.D[c].Rd(!0);this.g=c;break}a=this.T;c=this.g;b=new pf;b.data={action:"setInitial",langId:c};lf(b,m(a.Uw,a));Rh(Ph.j(),b);a=this.G[this.g];O(a.f,"initial",!0);a=a.view;a.v.innerHTML=KV(a)};f.Su=function(a){null!==this.I&&this.I!=a&&LV(this.G[this.I].view,!1);this.I=a};
f.ur=function(a){this.Fa();a==this.I&&(this.I=null);this.D[a].Bd()&&this.$n(a);this.G[a].dispose();delete this.D[a];delete this.G[a]};f.Aa=function(){oB(this.view,!1);PV.l.Aa.call(this)};f.Fa=function(){this.o&&oB(this.view,!0);PV.l.Fa.call(this)};f.Y=function(a){PV.l.Y.call(this,a);a.J()==r.FeLanguages.DataType&&"dataDelete"==a.getType()&&t.page.langId!=a.g&&this.ur(parseInt(a.g,10))};I.j().register("wnd.ps.LanguagesForm",ml,OV,PV);function RV(a,b){qB.call(this,a,b);this.xf=null}n(RV,qB);RV.prototype.N=function(){var a=vo.j();return{wk:xo(vo.j(),"multilanguage_fe",t.keenIo.refs.settingsWebsiteLanguage),Oq:t.manageBackups,Qh:a.hasFeature("multilanguage_fe")}};RV.prototype.da=function(){Qr(this.B(),Du)};function SV(a,b,c){RB.call(this,a,b,c)}n(SV,RB);SV.prototype.O=function(){this.Za();SV.l.O.call(this);this.c.H(this.view.xf,T,m(this.o,this))};SV.prototype.fa=function(){this.g=this.K(this.C()+"_form","wnd.ps.LanguagesForm",null,{properties:{initRenderFlag:!0,updateBeforeShow:!0,saveBeforeClose:!1}});var a=this.view,b=this.g.B();a.xf=Tr(Eu);b.appendChild(a.xf)};
SV.prototype.o=function(a){a.stopPropagation();vo.j().hasFeature("multilanguage_fe")?E.j().create("wnd.ps.AddLanguagePopup",this.C()+"_new_language",document.body,this):(a=E.j(),JE(a,{type:"multilanguage",params:{upgradeUri:xo(vo.j(),"multilanguage_fe","multilanguagePopup")}}))};I.j().register("wnd.ps.WebsiteLanguages",Lj,RV,SV);function TV(a,b,c){NB.call(this,a,b,c);this.D=this.I=this.o=null;this.g={};this.v=null}n(TV,NB);f=TV.prototype;f.Mc=function(){};
f.fa=function(){this.o=this.K(this.C()+"_menu","wnd.ps.SettingsMenu",null,{properties:{initRenderFlag:!0,width:Nd.SettingsMenu.width,height:Nd.SettingsMenu.height,extendCssClass:"wnd-ps-menu",showType:UV()}});this.o.observe("onSelect",m(this.Tw,this),this);this.I=this.K(this.C()+"_content","wnd.ui.PopupEmptyBlock",null,{properties:{initRenderFlag:!0,width:Nd.SettingsPopupContent.width,height:Nd.SettingsPopupContent.height,extendCssClass:"wnd-ps-content"}});this.K(this.C()+"_footer","wnd.ui.BasicControlBar",
null,{properties:{initRenderFlag:!0,controls:{right:["Close"]}}});VV(this,Av(this.o.f))};function UV(){for(var a in Nd.SettingsMenu.translatedTypes)if(F(Nd.SettingsMenu.translatedTypes[a],t.backendLanguage))return a;return"default"}function WV(a){null===a.v&&(a.v=L.j().get("project_info").getData());return a.v}f.Tw=function(a,b){VV(this,b)};
function VV(a,b){null!=a.D&&a.D.hide();if(!l(a.g[b])){var c=a.g,d;d=a.I.K(a.C()+"_items_"+b.replace(".","_"),b,null,{properties:{initRenderFlag:!1,extendCssClass:"wnd-ps-content-item",projectInfo:WV(a)}});c[b]=d}a.g[b].show();a.D=a.g[b]}f.Y=function(a){TV.l.Y.call(this,a);if("project_info"==a.J()&&"dataUpdate"==a.getType()){this.v=null;a=this.g["wnd.ps.GeneralSettings"];var b=WV(this);O(a.f,"projectInfo",b);a.Sc("data_updated")}};
f.jc=function(){TV.l.jc.call(this);var a=this.o,b=zv(a.f);D(b)||wV(a,b[0])};I.j().register("wnd.ps.SettingsPopup",Zj,nF,TV);function XV(a,b){pF.call(this,a,b);this.Bf=null}n(XV,pF);function YV(a,b,c){wr.call(this,a,b,c)}n(YV,wr);YV.prototype.fa=function(){this.K(this.C()+"_navigation","wnd.ui.BasicNavigationBar",null,{properties:{title:"My account",extendCssClass:"wnd-my-account",initRenderFlag:!0}});var a=this.view,b=gs(St,{email:t.userName||Od.MyAccount.defaultUserName,Gx:t.projectsUrl||Od.MyAccount.defaultProjectsUri});a.Bf=b.querySelector(".wnd-ctrl-type-submit");a.Va.appendChild(b)};
YV.prototype.O=function(){YV.l.O.call(this);null!=this.view.Bf&&this.c.H(this.view.Bf,T,m(this.g,this))};YV.prototype.g=function(){this.hide()};I.j().register("wnd.tb.MyAccountBubble",bk,XV,YV);function ZV(a,b){ly.call(this,a,b);this.Na={};$V(this)}n(ZV,ly);function $V(a){a.c=Um(Od.ToolbarContent.cssIdentifier);var b=$o(Od.ToolbarContent.buttonIdentifier,a.B());u(b,function(a){if(!0===ky(a,"wnd_toolbar_type")){var b=jy(a,"wnd_toolbar_type");this.Na[b]=a}},a);if(aq||bq)b=$o("tb-right",a.B()),l(b[0])&&R.setStyle(b[0],"right",R.Mh()+"px");aW(a,bW,!1);aW(a,cW,!1)}ZV.prototype.da=function(){};ZV.prototype.Jg=function(){return this.Na};ZV.prototype.D=function(){return this.Na[dW]};
ZV.prototype.Se=function(a){R.aa(this.D(),a)};function aW(a,b,c,d){if(a=a.Na[b])c?(!1===wC.j().M&&Dl(a,"wnd-long-fade"),Dl(a,"wnd-tb-button-active"),d&&a.setAttribute("title",d)):(Fl(a,"wnd-tb-button-active"),Cl(a,"wnd-long-fade")&&Fl(a,"wnd-long-fade"),a.removeAttribute("title"))};function eW(a,b,c){sz.call(this,a,b,c);this.I=l(Je.get("notPublishedBubbleShown"));this.D=this.T=this.g=this.o=this.v=null;fW(this);this.view.D()&&(this.view.D().innerHTML="",1!==Qi.j().vd()&&(this.v=I.j().create(this.C()+"_language_switcher","wnd.ui.LanguageSwitcher",this.view.D(),this,{properties:{initRenderFlag:!0,fullTitle:!1,fullItemName:!0}}),this.v.observe("selectItem",m(this.hA,this),this),this.v.observe("onOpen",m(this.rw,this),this),this.v.observe("showSwitcher",m(this.Se,this,!0),this),
this.v.observe("hideSwitcher",m(this.Se,this,!1),this)));l(Je.get("showChangeLanguageBubble"))&&(Je.remove("showChangeLanguageBubble","/"),a=this.view.D(),b=E.j(),this.G=bM(b,"wnd-change-language-bubble",a,this,{hideOnClick:!0,type:"changeLanguage"}));this.Qm();a=Ph.j();a.observe("onTransactionsInProcess",m(this.$h,this),this);a.observe("onTransactionsFinished",m(this.$h,this),this)}n(eW,sz);var dW="languages",bW="undo",cW="redo";f=eW.prototype;
f.O=function(){eW.l.O.call(this);z(this.view.Jg(),function(a,b){this.c.H(a,T,m(this.gA,this,b))},this)};f.gA=function(a,b){b.stopPropagation();b.preventDefault();this.v&&this.v.close();eM();var c=new H("saveAndDeactivateContentItems",this);this.ba(c);gW(this,a,b.currentTarget)};
function gW(a,b,c){var d=null;switch(b){case "pages":d="openPagesManager";break;case "settings":d="openProjectSettings";a.D&&a.D.Ra()&&a.D.hide(null,!0);break;case "publish":a.I?a.uq():(hW(),fW(a));b=new H("inspectletInfo1",a);a.ba(b);b=RM.j();b.A||(null===b.g?(c={title:"Website is being published...",extendCssClass:"wnd-info-publish"},c=E.j().create("wnd.ui.WaitingPopup","wnd_ui_WaitingPopup",document.body,a,{},{type:"waiting",title:c.title,extendCssClass:c.extendCssClass||"wnd-info-waiting"}),b.g=
c):b.g.show(),b.h=new vf,lf(b.h,m(b.Bw,b,a)),Ka(t.visibleRelease,"premium_content")?(c=new uf,lf(c,m(b.vw,b)),Rh(Ph.j(),c)):SM(b));break;case "my-account":c&&E.j().create("wnd.tb.MyAccountBubble","wnd-bubble-my-account",document.body,a,{withOverlay:!1},{coordinates:m(R.getBounds,R,c)});break;case bW:sM();a.$h();break;case cW:uM();a.$h();break;default:return}null!=d&&(d=new H(d,a),a.ba(d))}function hW(){He(Je,"showNotPublishedBubble","1",Od.ToolbarContent.publishCookieAge,"/")}
function fW(a){a.I||(a.g&&clearTimeout(a.g),a.g=null,l(Je.get("showNotPublishedBubble"))||hW(),a.g=setTimeout(m(a.Bq,a),Od.ToolbarContent.publishTimeout))}f.Bq=function(){if(!this.I){var a=Je.get("showNotPublishedBubble");if(rF()||a)fW(this);else{this.I=!0;var a=this.view.Na.publish,b=E.j();this.S=bM(b,"wnd-not-published-bubble",a,this,{hideOnClick:!0,type:"notPublished"});eC(this.S,"onClick",m(this.uq,this),this)}}};
f.uq=function(){this.S&&(He(Je,"notPublishedBubbleShown","1",-1,"/"),this.S.hide(null,!0))};f.rw=function(){this.G&&this.G.hide(null,!0);eM()};f.Se=function(a){this.view.Se(a)};f.na=function(a){eW.l.na.call(this,a);"focusWindow"!==a.getType()||this.g||this.Bq();"blurWindow"===a.getType()&&(this.g&&clearTimeout(this.g),this.g=null);"undoRedoChange"===a.getType()&&this.$h()};
f.Y=function(a){eW.l.Y.call(this,a);var b=["dataCreate","dataDelete"];"filesystem_files"==a.J()&&F(b,a.getType())&&(this.T=a.getType());"project_info"==a.J()&&"dataUpdate"==a.getType()&&"dataCreate"==this.T&&this.Qm()};f.hA=function(a,b){var c=Qi.j(),d=Si(c,b).$c();Si(c,1).$c()==d&&(d="home");window.location.href=t.baseUrl+d+"/"};
f.Qm=function(){if(l(Je.get("showNotEnoughStoragePopup")))null!=this.o&&clearTimeout(this.o),this.o=null;else if(rF())null!=this.o&&clearTimeout(this.o),this.o=null,this.o=setTimeout(m(this.Qm,this),Od.ToolbarContent.notEnoughStorageTimeout);else if(L.j().get("project_info").getData().storage.percentage>Od.NotEnoughStorage.limit){var a=this.view.Na.settings;if(null!=a){var b=E.j();this.D=bM(b,"wnd-not-enough-storage-bubble",a,this,{type:"notEnoughStorage",linkName:"More information"});He(Je,"showNotEnoughStoragePopup",
"1",-1,"/")}}};f.$h=function(){if(!1===cJ()){var a=this.view,b=bW,c=wC.j();aW(a,b,l(c.h[c.h.length-1-c.g]),"Click here to undo the last action");a=this.view;b=cW;c=wC.j();aW(a,b,l(c.c[c.c.length-c.g]),"Click here to redo the last action")}};I.j().register("wnd.tb.ToolbarContent",M,ZV,eW);function iW(a){Bi.call(this,a,Nd)}n(iW,Bi);iW.prototype.init=function(){};iW.prototype.na=function(a){iW.l.na.call(this,a);"openProjectSettings"===a.getType()&&E.j().create("wnd.ps.SettingsPopup","wnd-settings-popup",document.body,this,{},{extendCssClass:"wnd-ps"})};function jW(a){Bi.call(this,a,Od);this.c=null}n(jW,Bi);jW.prototype.init=function(){this.c=I.j().create(Od.ToolbarContent.mvcId,"wnd.tb.ToolbarContent",Um(Od.ToolbarContent.cssIdentifier),this);if(""!==location.hash){for(var a=location.hash.substr(1).split("&"),b=!1,c=0,d=a.length;c<d;c++){var e=a[c].split("=");if("activate"===e[0])switch(e[1]){case "wnd.pm.PagesAdminPopup":gW(this.c,"pages"),b=!0}}b&&(location.hash="")}};
jW.prototype.na=function(a){jW.l.na.call(this,a);if("children_propagation"===a.h&&null!=a.c){for(var b=a.c;b.getParent();)b=b.getParent();b===this&&Ci(ag.j(),a,"wnd.tb")}};window.onunload=function(){fV(!0)};function kW(){ag.j().get("wnd.pc").resize()}function lW(){var a=ag.j().get("wnd.pc");a.L&&clearTimeout(a.L);a.L=setTimeout(m(a.dk,a,"scrollWindow"),100)}function mW(){if(dq=!dq){var a=sg.j();vg(ug(a),!1);var b=tg(),c=Je.get(b);c&&!pg(new og(b),c).equals(a.c[a.h])&&(a.c[a.h].Qq=!0)}if(a=dq)a=sg.j(),a=a.c[a.h].Qq;a&&window.location.reload()}function nW(){ag.j().get("wnd.pc").focus()}function oW(){ag.j().get("wnd.pc").blur()}
window.onload=function(){window.onresize=kW;window.onscroll=lW;window.onfocus=nW;window.onblur=oW;var a="";l(document.hidden)?a="visibilitychange":l(document.mozHidden)?a="mozvisibilitychange":l(document.msHidden)?a="msvisibilitychange":l(document.webkitHidden)&&(a="webkitvisibilitychange");document.addEventListener(a,mW,!1);t=window.wnd.$system;Mh=window.wnd.$data;yf=window.wnd.$datachecksum;jf=window.wnd.$metadata;Hz=window.wnd.$defaultdata;vg(ug(sg.j()),!0);for(var a=Je.xd(),b=0;b<a.length;b++)0==
a[b].lastIndexOf("windowId__",0)&&He(Je,a[b],"0",-1,"/");Eg.j().init();ag.j().register("wnd.pm",hV);ag.j().register("wnd.ps",iW);ag.j().register("wnd.tb",jW);ag.j().register("wnd.pc",rU);ag.j().init();fV(!1);a=jM.j();$v(a.h);$v(a.g)};
window.onbeforeunload=function(a){for(var b=Je.xd(),c=0;c<b.length;c++)0==b[c].lastIndexOf("windowId__",0)&&He(Je,b[c],"0",-1,"/");He(Je,"windowId__"+t.windowId,"1",-1,"/");if(Mg(I.j(),x.PageZoneModel.ZoneId)){var b=I.j().get(x.PageZoneModel.ZoneId),c=Ph.j(),d=!1;l(c)&&(d=c.Yk);if(!d&&(bS(b)||l(c)&&!D(c.g)))return AS(b),(a||window.event).returnValue="Your changes were not saved!"}fV(!0)};if(!Mh)var Mh={};if(!yf)var yf={};if(!jf)var jf={};if(!Hz)var Hz={};if(!t)var t={};if(!Qa)var Qa={};
if(!pW)var pW={};var qW=null,rW=null;function fV(a){qW||(qW=document.getElementById("wnd_init_loading"));qW&&(qW.style.display=a?"":"none");if("?aw=1"==location.search&&a&&null===rW){rW=document.createElement("div");rW.className="wnd-base wnd-loading-text";rW.innerHTML="Wait please...";var b=document.querySelector(".wnd-loading.init");b&&b.appendChild(rW)}!a&&rW&&(rW.parentNode.removeChild(rW),rW=null)}fV(!0);
Qa.mc=function(a,b){if(null!=Qa.instance&&Qa.events[a]){var c=Qa.data;c.action.identifier=a;c.action.name=Qa.events[a].name;c.browser.resolution=window.screen.width+"x"+window.screen.height;b&&(c=ff(c,b));Qa.instance.addEvent("PROD",c,function(){})}};wa("wnd.keen",Qa);Qa.addKeenEvent=Qa.mc;
}({}));